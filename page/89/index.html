<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
<meta name="generator" content="Hexo 5.4.0">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/JavaReadingNotes/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/JavaReadingNotes/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/JavaReadingNotes/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/JavaReadingNotes/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="_Sly-yzHYmALHXzjFpPWsodMrjBSphw7bfRbMUH80Qc">
  <meta name="msvalidate.01" content="B1CFD346B8DEBBFE0C983C2AF8955531">
  <meta name="baidu-site-verification" content="vkMTwK56xr">

<link rel="stylesheet" href="/JavaReadingNotes/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"lanlan2017.github.io","root":"/JavaReadingNotes/","images":"/JavaReadingNotes/images","scheme":"Gemini","darkmode":true,"version":"8.8.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/JavaReadingNotes/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/JavaReadingNotes/js/config.js"></script>
<meta name="description" content="好好学习，天天向上">
<meta property="og:type" content="website">
<meta property="og:title" content="蓝蓝站点">
<meta property="og:url" content="https://lanlan2017.github.io/JavaReadingNotes/page/89/index.html">
<meta property="og:site_name" content="蓝蓝站点">
<meta property="og:description" content="好好学习，天天向上">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="蓝蓝">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lanlan2017.github.io/JavaReadingNotes/page/89/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/89/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>蓝蓝站点</title>
  

  <script src="/JavaReadingNotes/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?dadeb188eb14ccde0b25a19230c429b5"></script>


<link rel="dns-prefetch" href="https://waline-test-lanlan2017.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/JavaReadingNotes/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/JavaReadingNotes/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">蓝蓝站点</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Java读书笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/JavaReadingNotes/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-dir"><a href="/JavaReadingNotes/dir/" rel="section"><i class="fa fa-sitemap fa-fw"></i>目录</a></li>
        <li class="menu-item menu-item-categories"><a href="/JavaReadingNotes/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/JavaReadingNotes/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-tags"><a href="/JavaReadingNotes/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="蓝蓝"
      src="/JavaReadingNotes/images/avatar.gif">
  <p class="site-author-name" itemprop="name">蓝蓝</p>
  <div class="site-description" itemprop="description">好好学习，天天向上</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/JavaReadingNotes/archives/">
          <span class="site-state-item-count">1871</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/JavaReadingNotes/categories/">
        <span class="site-state-item-count">626</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/todo/" title="todo → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;todo&#x2F;"><i class="fa fa-check-square fa-fw"></i>todo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/links/" title="links → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;links&#x2F;"><i class="fa fa-link fa-fw"></i>links</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/68c26883/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/68c26883/" class="post-title-link" itemprop="url">15.2 理解Java的IO流 15.2.1 流的分类</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-26 05:38:36" itemprop="dateCreated datePublished" datetime="2019-12-26T05:38:36+08:00">2019-12-26</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-03-15 08:15:11" itemprop="dateModified" datetime="2020-03-15T08:15:11+08:00">2020-03-15</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC15%E7%AB%A0-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" itemprop="url" rel="index"><span itemprop="name">第15章 输入输出</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC15%E7%AB%A0-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/15-2-%E7%90%86%E8%A7%A3Java%E7%9A%84IO%E6%B5%81/" itemprop="url" rel="index"><span itemprop="name">15.2 理解Java的IO流</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/68c26883/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/68c26883/" data-xid="/JavaReadingNotes/68c26883/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="15-2-理解Java的IO流"><a href="#15-2-理解Java的IO流" class="headerlink" title="15.2 理解Java的IO流"></a>15.2 理解Java的IO流</h1><p><code>Java</code>的<code>IO</code>流是实现输入/输出的基础,它可以方便地实现数据的输入/输出操作,在<code>Java</code>中把不同的输入/输出源(键盘、文件、网络连接等)抽象表述为“流”(<code>stream</code>),通过流的方式允许<code>Java</code>程序<strong>使用相同的方式来访问不同的输入/输出源</strong>。<br><code>stream</code>是从起源(<code>source</code>)到接收(<code>sink</code>)的有序数据。<br><code>Java</code>把所有传统的流类型(类或抽象类)都放在<code>java.io</code>包中,用以实现输入输出功能。<br>因为<code>Java</code>提供了这种<code>IO</code>流的抽象,所以开发者可以使用一致的<code>IO</code>代码去读写不同的<code>IO</code>流节点。</p>
<h1 id="15-2-1-流的分类"><a href="#15-2-1-流的分类" class="headerlink" title="15.2.1 流的分类"></a>15.2.1 流的分类</h1><p>按照不同的分类方式,可以将流分为不同的类型,下面从不同的角度来对流进行分类,它们在概念上可能存在重叠的地方。</p>
<h2 id="1-输入流和输出流"><a href="#1-输入流和输出流" class="headerlink" title="1. 输入流和输出流"></a>1. 输入流和输出流</h2><p>按照流的流向来分,可以分为输入流和输出流。</p>
<ul>
<li><strong>输入流</strong>:只能从中读取数据,而不能向其写入数据</li>
<li><strong>输出流</strong>:只能向其写入数据,而不能从中读取数据</li>
</ul>
<h3 id="进入内存就是输入"><a href="#进入内存就是输入" class="headerlink" title="进入内存就是输入"></a>进入内存就是输入</h3><p>此处的输入、输出涉及一个<strong>方向</strong>问题,对于如图15.1所示的数据流向,<strong>数据从内存到硬盘,通常称为输出流</strong>——也就是说,这里的输入、输出都是从程序运行所在内存的角度来划分的。<br><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/JavaReadingNotes/CrazyJavaLecture4/Chapter15IO/1.png" alt="这里有一张图片"><br>对于如图15.2所示的数据流向,数据从服务器通过网络流向客户端,在这种情况下,<code>Server</code>端的内存负责将数据输出到网络里,因此<code>Server</code>端的程序使用输出流;<code>Client</code>端的内存负责从网络里读取数据,因此<code>Client</code>端的程序应该使用输入流。<br><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/JavaReadingNotes/CrazyJavaLecture4/Chapter15IO/2.png" alt="这里有一张图片"><br><code>Java</code>的<strong>输入流主要由<code>InputStream</code>和<code>Reader</code>作为基类</strong>,而<strong>输出流则主要由<code>OutputStream</code>和<code>Writer</code>作为基类</strong>。它们都是一些抽象基类,无法直接创建实例</p>
<h2 id="2-字节流和字符流"><a href="#2-字节流和字符流" class="headerlink" title="2. 字节流和字符流"></a>2. 字节流和字符流</h2><p>字节流和字符流的用法几乎完全一样,<strong>区别在于字节流和字符流所操作的数据单元不同</strong>：</p>
<ul>
<li><strong>字节流操作的数据单元是8位的字节</strong>,</li>
<li><strong>字符流操作的数据单元是16位的字符</strong>。</li>
</ul>
<h2 id="3-节点流和处理流"><a href="#3-节点流和处理流" class="headerlink" title="3. 节点流和处理流"></a>3. 节点流和处理流</h2><p>按照流的角色来分,可以分为节点流和处理流。</p>
<h3 id="节点流"><a href="#节点流" class="headerlink" title="节点流"></a>节点流</h3><p>可以从向一个特定的<code>IO</code>设备(如磁盘、网络)读/写数据的流,称为<strong>节点流</strong>,节点流也被称为<strong>低级流</strong>( <code>Low Level stream</code>)。图15.3显示了节点流示意图。<br><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/JavaReadingNotes/CrazyJavaLecture4/Chapter15IO/3.png" alt="这里有一张图片"><br>从图15.3中可以看出,<strong>当使用节点流进行输入输出时,程序直接连接到实际的数据源,和实际的输入/输出节点连接</strong>.</p>
<h3 id="处理流"><a href="#处理流" class="headerlink" title="处理流"></a>处理流</h3><p><strong>处理流则用于对一个已存在的流进行连接或<mark>封装</mark>,通过封装后的流来实现数据读/写功能</strong>。处理流也被称为<strong>高级流</strong>。图15.4显示了处理流示意图。<br><img data-src="https://raw.githubusercontent.com/lanlan2017/images/master/JavaReadingNotes/CrazyJavaLecture4/Chapter15IO/4.png" alt="这里有一张图片"></p>
<h4 id="处理流用到装饰器设计模式"><a href="#处理流用到装饰器设计模式" class="headerlink" title="处理流用到装饰器设计模式"></a>处理流用到装饰器设计模式</h4><p>实际上,<code>Java</code>使用处理流来包装节点流是一种典型的<strong>装饰器设计模式</strong>,通过使用处理流来包装不同的节点流,既可以消除不同节点流的实现差异,也可以提供更方便的方法来完成输入/输出功能。因此处理流也被称为<strong>包装流</strong>。</p>
<!-- JavaReadingNotes/CrazyJavaLecture4/Chapter15IO/ -->



      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/ab235f64/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/ab235f64/" class="post-title-link" itemprop="url">15.0 疯狂java讲义 第4版 第15章 前言</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-26 04:56:17" itemprop="dateCreated datePublished" datetime="2019-12-26T04:56:17+08:00">2019-12-26</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-03-15 08:15:11" itemprop="dateModified" datetime="2020-03-15T08:15:11+08:00">2020-03-15</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC15%E7%AB%A0-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/" itemprop="url" rel="index"><span itemprop="name">第15章 输入输出</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC15%E7%AB%A0-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/15-0-%E7%96%AF%E7%8B%82java%E8%AE%B2%E4%B9%89%E7%AC%AC4%E7%89%88-%E7%AC%AC15%E7%AB%A0%E5%89%8D%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">15.0 疯狂java讲义第4版 第15章前言</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/ab235f64/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/ab235f64/" data-xid="/JavaReadingNotes/ab235f64/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>896</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="本章要点"><a href="#本章要点" class="headerlink" title="本章要点"></a>本章要点</h2><ul>
<li>使用<code>File</code>类访问本地文件系统</li>
<li>使用文件过滤器</li>
<li>理解<code>IO</code>流的模型和处理方式</li>
<li>使用<code>IO</code>流执行输入、输出操作</li>
<li>使用转换流将字节流转换为字符流</li>
<li>推回流的功能和用法</li>
<li>重定向标准输入、输出</li>
<li>访问其他进程的输入、输出2</li>
<li><code>RandomAccessFile</code>的功能和用法</li>
<li>对象序列化机制和作用</li>
<li>通过实现<code>Serializable</code>接口实现序列化</li>
<li>实现定制的序列化</li>
<li>通过实现<code>Externalizable</code>接口实现序列化</li>
<li><code>Java</code>新<code>IO</code>的概念和作用</li>
<li>使用<code>Buffer</code>和<code>Channel</code>完成输入、输出</li>
<li><code>Charset</code>的功能和用法</li>
<li><code>FireLock</code>的功能和用法</li>
<li><code>NIO.2</code>的文件<code>IO</code>和文件系统</li>
<li>通过<code>NIO.2</code>监控文件变化</li>
<li>通过<code>NIO.2</code>访问、修改文件属性</li>
</ul>
<h2 id="输入输出有什么用"><a href="#输入输出有什么用" class="headerlink" title="输入输出有什么用"></a>输入输出有什么用</h2><p>使用输入机制</p>
<ul>
<li>程序可以读取外部数据(包括来自磁盘、光盘等存储设备的数据)、</li>
<li>程序可以读取用户输入的数据;</li>
</ul>
<p>使用输出机制</p>
<ul>
<li>程序可以记录运行状态,可以将数据输出到磁盘、光盘等存储设备中。</li>
</ul>
<h2 id="字节流-字符流"><a href="#字节流-字符流" class="headerlink" title="字节流 字符流"></a>字节流 字符流</h2><p><code>Java</code>的<code>IO</code>通过<code>java.io</code>包下的类和接口来支持,在<code>java.io</code>包下主要包括<strong>输入</strong>、<strong>输出</strong>两种<code>IO</code>流。<br>每种输入、输出流又可分为<code>字节流</code>和<code>字符流</code>两大类。其中</p>
<ul>
<li>字节流<strong>以字节为单位</strong>来处理输入、输出操作,</li>
<li>而字符流则<strong>以字符</strong>来处理输入、输出操作。</li>
</ul>
<h2 id="节点流-处理流"><a href="#节点流-处理流" class="headerlink" title="节点流 处理流"></a>节点流 处理流</h2><p>除此之外,<code>Java</code>的<code>IO</code>流使用了一种<code>装饰器设计模式</code>,它将<code>IO</code>流分成底层<strong>节点流</strong>和上层<strong>处理流</strong>,其中</p>
<ul>
<li>节点流用于和底层的物理存储节点直接关联:不同的物理节点获取节点流的方式可能存在一定的差异,</li>
<li>程序可以把不同的物理节点流包装成统一的<strong>处理流</strong>,从而<strong>允许程序使用统一的输入、输出代码来读取不同的物理存储节点的资源</strong>.</li>
</ul>
<h2 id="Java7的NIO-2"><a href="#Java7的NIO-2" class="headerlink" title="Java7的NIO 2"></a>Java7的NIO 2</h2><p><code>Java 7</code>在<code>java.nio</code>及其子包下提供了一系列全新的<code>API</code>,这些<code>API</code>是对原有新<code>IO</code>的升级,因此也被称为<code>NIO 2</code>,<strong>通过这些<code>NIO 2</code>,程序可以更高效地进行输入、输出操作</strong>。本章也会介绍<code>Java 7</code>所提供的<code>NIO 2</code>。</p>
<h2 id="对象序列化"><a href="#对象序列化" class="headerlink" title="对象序列化"></a>对象序列化</h2><p>除此之外,本章还会介绍<code>java</code>对象的序列化机制,<strong>使用序列化机制可以把内存中的<code>java</code><mark>对象</mark>转换成二进制字节流,这样就可以把<code>java</code>对象存储到磁盘里,或者在网络上传输<code>java</code>对象</strong>。这也是<code>java</code>提供分布式编程的重要基础。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/c0f1bf5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/c0f1bf5/" class="post-title-link" itemprop="url">10.3.2 方法重写时声明抛出异常的限制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-25 05:01:10" itemprop="dateCreated datePublished" datetime="2019-12-25T05:01:10+08:00">2019-12-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:55" itemprop="dateModified" datetime="2020-02-07T01:34:55+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC10%E7%AB%A0-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">第10章 异常处理</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC10%E7%AB%A0-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/10-3-Checked%E5%BC%82%E5%B8%B8%E5%92%8CRuntime%E5%BC%82%E5%B8%B8%E4%BD%93%E7%B3%BB/" itemprop="url" rel="index"><span itemprop="name">10.3 Checked异常和Runtime异常体系</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/c0f1bf5/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/c0f1bf5/" data-xid="/JavaReadingNotes/c0f1bf5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="10-3-2-方法重写时声明抛出异常的限制"><a href="#10-3-2-方法重写时声明抛出异常的限制" class="headerlink" title="10.3.2 方法重写时声明抛出异常的限制"></a>10.3.2 方法重写时声明抛出异常的限制</h1><p>使用<code>throws</code>声明抛出异常时有一个限制,就是方法重写时“两小”中的一条规则:<strong>子类方法声明抛出的异常类型应该是父类方法声明抛出的异常类型的子类或相同</strong>,子类方法声明抛出的异常不允许比父类方法声明抛出的异常多。</p>
<p>看如下程序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OverrideThrows</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span><span class="keyword">throws</span> IOException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;a.txt&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sub</span> <span class="keyword">extends</span> <span class="title">OverrideThrows</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 子类方法声明抛出了比父类方法更大的异常</span></span><br><span class="line">    <span class="comment">// 所以下面方法出错</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span><span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面程序中<code>Sub</code>子类中的<code>test</code>方法声明抛出<code>Exception</code>,该<code>Exception</code>是其父类声明抛出异常<code>IOException</code>类的父类,这将导致程序无法通过编译.</p>
<h2 id="Checked异常的缺点"><a href="#Checked异常的缺点" class="headerlink" title="Checked异常的缺点"></a>Checked异常的缺点</h2><p>使用<code>Checked</code>异常至少存在如下两大不便之处。</p>
<ul>
<li>对于程序中的<code>Checked</code>异常,<code>Java</code>要求必须显式捕获并处理该异常,或者显式声明抛出该异常这样就增加了编程复杂度。</li>
<li>如果在方法签名中显式声明抛出<code>Checked</code>异常,将会导致<code>方法签名与异常耦合</code>,如果该方法是<code>重写父类</code>的方法,则该方法抛出的异常还会受到被重写方法所抛出异常的限制。</li>
</ul>
<h2 id="推荐使用Runtime异常"><a href="#推荐使用Runtime异常" class="headerlink" title="推荐使用Runtime异常"></a>推荐使用Runtime异常</h2><p>在大部分时候推荐使用<code>Runtime</code>异常,而不使用<code>Checked</code>异常。尤其当程序需要自行抛出异常时,使用<code>Runtime</code>异常将更加简洁。</p>
<h2 id="不需要在方法签名中声明中抛出Runtime异常"><a href="#不需要在方法签名中声明中抛出Runtime异常" class="headerlink" title="不需要在方法签名中声明中抛出Runtime异常"></a>不需要在方法签名中声明中抛出Runtime异常</h2><p>当使用<code>Runtime</code>异常时,程序无须在方法中声明抛出<code>Runtime</code>异常,一旦发生了自定义错误,程序只管抛出<code>Runtime</code>异常即可。</p>
<h2 id="Runtime异常可以使用try-catch捕获"><a href="#Runtime异常可以使用try-catch捕获" class="headerlink" title="Runtime异常可以使用try-catch捕获"></a>Runtime异常可以使用try-catch捕获</h2><p>如果程序需要在合适的地方捕获异常并对异常进行处理,则一样可以使用<code>try-catch</code>块来捕获<code>Runtime</code>异常。</p>
<p>使用<code>Runtime</code>异常是比较省事的方式,使用这种方式既可以享受”正常代码和错误处理代码分离”,”保证程序具有较好的健壮性”的优势,又可以避免因为使用<code>Checked</code>异常带来的编程烦琐性。因此,<code>C#</code>、<code>Ruby</code>、<code>Python</code>等语言没有所谓的<code>Checked</code>异常,所有的异常都是<code>Runtime</code>异常。</p>
<p>但<code>Checked</code>异常也有其优势<code>Checked</code>异常能在编译时提醒程序员代码可能存在的问题,提醒程序员必须注意处理该异常,或者声明该异常由该方法调用者来处理,从而可以避免程序员因为粗心而忘记处理该异常的错误。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/265ee28/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/265ee28/" class="post-title-link" itemprop="url">10.0 疯狂java讲义4 第10章 前言</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-25 02:12:03" itemprop="dateCreated datePublished" datetime="2019-12-25T02:12:03+08:00">2019-12-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:55" itemprop="dateModified" datetime="2020-02-07T01:34:55+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC10%E7%AB%A0-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">第10章 异常处理</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC10%E7%AB%A0-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/10-0-%E5%89%8D%E8%A8%80/" itemprop="url" rel="index"><span itemprop="name">10.0 前言</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/265ee28/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/265ee28/" data-xid="/JavaReadingNotes/265ee28/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>975</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="本章要点"><a href="#本章要点" class="headerlink" title="本章要点"></a>本章要点</h1><ul>
<li>异常的定义和概念</li>
<li><code>Java</code>异常机制的优势</li>
<li>使用<code>try...catch</code>捕获异常</li>
<li>多异常捕获</li>
<li><code>Java</code>异常类的继承体系</li>
<li>异常对象的常用方法</li>
<li><code>finally</code>块的作用</li>
<li>自动关闭资源的<code>try</code>语句</li>
<li>异常处理的合理嵌套</li>
<li><code>Checked</code>异常和<code>Runtime</code>异常</li>
<li>使用<code>throws</code>声明异常</li>
<li>使用<code>throw</code>抛出异常</li>
<li>自定义异常</li>
<li>异常链和异常转译</li>
<li>异常的跟踪栈信息</li>
<li>异常的处理规则</li>
</ul>
<h1 id="10-0-疯狂java讲义4-第10章-前言"><a href="#10-0-疯狂java讲义4-第10章-前言" class="headerlink" title="10.0 疯狂java讲义4 第10章 前言"></a>10.0 疯狂java讲义4 第10章 前言</h1><p>异常机制已经成为判断一门编程语言是否成熟的标准,除传统的像<strong>C语言没有提供异常机制</strong>之外目前主流的编程语言如<code>Java</code>、<code>C#</code>、<code>Ruby</code>、<code>Python</code>等都提供了成熟的异常机制。异常机制可以使程序中的<strong>异常处理代码</strong>和<strong>正常业务代码</strong>分离,保证程序代码更加优雅,并可以提高程序的健壮性。</p>
<h2 id="java异常处理用到的关键字"><a href="#java异常处理用到的关键字" class="headerlink" title="java异常处理用到的关键字"></a>java异常处理用到的关键字</h2><p><code>Java</code>的异常机制主要依赖于<code>try</code>、<code>catch</code>、<code>finally</code>、<code>throw</code>和<code>throws</code>五个关键字,其中<br>-<code>try</code>关键字后紧跟一个花括号扩起来的代码块(花括号不可省略),简称<code>try</code>块,它里面放置可能引发异常的代码。<br>-<code>catch</code>后对应异常类型和一个代码块,用于表明该<code>catch</code>块用于处理这种类型的代码块。多个<code>catch</code>块后还可以跟一个<code>finally</code>块,<code>finally</code>块用于回收在<code>try</code>块里打开的物理资源,异常机制会保证<code>finally</code>块总被执行。<br>-<code>throws</code>关键字主要在<strong>方法签名</strong>中使用,用于<strong>声明该方法可能抛出的异常</strong>;<br>-<code>throw</code>用于<strong>抛出一个实际的异常</strong>,<code>throw</code>可以单独作为语句使用,抛出一个具体的异常对象。</p>
<h2 id="Java7异常处理增强"><a href="#Java7异常处理增强" class="headerlink" title="Java7异常处理增强"></a>Java7异常处理增强</h2><p><code>Java7</code>进一步增强了异常处理机制的功能,包括<strong>带资源的<code>try</code>语句</strong>、**捕获多异常的<code>catch</code>**两个新功能,这两个功能可以极好地简化异常处理</p>
<h2 id="Java异常分类"><a href="#Java异常分类" class="headerlink" title="Java异常分类"></a>Java异常分类</h2><p>开发者都希望所有的错误都能在编译阶段被发现,就是在试图运行程序之前排除所有错误,但这是不现实的,余下的问题必须在运行期间得到解决。**<code>Java</code>将异常分为两种,<code>Checked</code>异常和<code>Runtime</code>异常**,<br><code>Java</code>认为<code>Checked</code>异常都是可以在编译阶段被处理的异常,所以:</p>
<ul>
<li><strong><code>Checked</code>异常需要程序显示处理</strong>;</li>
<li><strong><code>Runtime</code>异常则无须处理</strong>。</li>
</ul>
<p><code>Checked</code>异常可以提醒程序员需要处理所有可能发生的异常,但<code>Checked</code>异常也给编程带来一些烦琐之处,所以<code>Checked</code>异常也是<code>Java</code>领域一个备受争论的话题</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/d0ff3fb0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/d0ff3fb0/" class="post-title-link" itemprop="url">9.7 本章小结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-25 01:56:07" itemprop="dateCreated datePublished" datetime="2019-12-25T01:56:07+08:00">2019-12-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:57" itemprop="dateModified" datetime="2020-02-07T01:34:57+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/" itemprop="url" rel="index"><span itemprop="name">第9章 泛型</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/9-7-%E6%9C%AC%E7%AB%A0%E5%B0%8F%E7%BB%93/" itemprop="url" rel="index"><span itemprop="name">9.7 本章小结</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/d0ff3fb0/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/d0ff3fb0/" data-xid="/JavaReadingNotes/d0ff3fb0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>258</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="9-7-本章小结"><a href="#9-7-本章小结" class="headerlink" title="9.7 本章小结"></a>9.7 本章小结</h1><ul>
<li>本章主要介绍了<code>Java</code>提供的泛型支持,还介绍了为何需要在编译时检查集合元素的类型,以及如何编程来实现这种检査,从而引出<code>Java</code>泛型给程序带来的简洁性和健壮性。</li>
<li>本章详细讲解了如何定义泛型接口、泛型类,以及如何从泛型类、泛型接口派生子类或实现类,并深入讲解了泛型类的实质。</li>
<li>本章介绍了类型通配符的用法,包括设定类型通配符的上限、下限等;</li>
<li>本章重点介绍了泛型方法的知识,包括如何在方法签名时定义泛型形参,以及泛型方法和类型通配符之间的区别与联系。</li>
<li>本章最后介绍了**<code>Java</code>不支持创建泛型数组**,并深入分析了原因</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/fae3fa2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/fae3fa2/" class="post-title-link" itemprop="url">9.6 泛型与数组</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-24 11:23:27" itemprop="dateCreated datePublished" datetime="2019-12-24T11:23:27+08:00">2019-12-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:57" itemprop="dateModified" datetime="2020-02-07T01:34:57+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/" itemprop="url" rel="index"><span itemprop="name">第9章 泛型</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/9-6-%E6%B3%9B%E5%9E%8B%E4%B8%8E%E6%95%B0%E7%BB%84/" itemprop="url" rel="index"><span itemprop="name">9.6 泛型与数组</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/fae3fa2/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/fae3fa2/" data-xid="/JavaReadingNotes/fae3fa2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="9-6-泛型与数组"><a href="#9-6-泛型与数组" class="headerlink" title="9.6 泛型与数组"></a>9.6 泛型与数组</h1><p><code>Java</code>泛型有一个很重要的设计原则—<strong>如果一段代码在编译时没有提出“<code>unchecked</code>未经检查的转换”警告,则程序在运行时不会引发<code>ClassCastException</code>异常</strong>。<br>正是基于这个原因,所以<strong>数组元素的类型不能包含泛型变量或泛型形参</strong>,<strong>除非是无上限的类型通配符</strong>。但可以声明元素类型包含泛型变量或泛型形参的数组。也就是说,<strong>只能声明<code>List&lt;Sing&gt;</code>形式的数组,但不能创建<code>ArrayList&lt;String&gt;[10]</code>这样的数组对象</strong>。</p>
<h2 id="不能创建ArrayList-10-这样的数组对象"><a href="#不能创建ArrayList-10-这样的数组对象" class="headerlink" title="不能创建ArrayList[10]这样的数组对象"></a>不能创建ArrayList<String>[10]这样的数组对象</h2><h3 id="反证法"><a href="#反证法" class="headerlink" title="反证法"></a>反证法</h3><p>假设<code>Java</code>支持创建<code>ArrayList&lt;String&gt;[10]</code>这样的数组对象,则有如下程序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 下面代码实际上是不允许的</span></span><br><span class="line">List&lt;String&gt;[] lsa= <span class="keyword">new</span> ArrayList&lt;String&gt;[<span class="number">10</span>];<span class="comment">// 1号代码</span></span><br><span class="line"><span class="comment">// 将lsa向上转型为Object[]类型的变量</span></span><br><span class="line">Object[] oa = lsa;</span><br><span class="line">List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">li.add(<span class="number">3</span>);</span><br><span class="line"><span class="comment">// 将List&lt;Integer&gt;对象作为oa的第二个元素</span></span><br><span class="line"><span class="comment">// 下面代码也不会有任何警告,但将引发ClassCastException异常</span></span><br><span class="line">oa[<span class="number">1</span>] = li;</span><br><span class="line"><span class="comment">// 下面代码引起ClassCastException异常</span></span><br><span class="line">String s = lsa[<span class="number">1</span>].get(<span class="number">0</span>); <span class="comment">// 2号代码</span></span><br></pre></td></tr></table></figure>
<p>在上面代码中,如果<strong>1号代码</strong>是合法的,经过中间系列的程序运行,势必在<strong>2号代码</strong>处引发运行时异常,这就违背了<code>Java</code>泛型的设计原则。<br>如果将程序中的1代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt;[] lsa= <span class="keyword">new</span> ArrayList&lt;String&gt;[<span class="number">10</span>];<span class="comment">// 1号代码</span></span><br></pre></td></tr></table></figure>
<p>改为:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt;[] lsa=<span class="keyword">new</span> ArrayList[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<p>其他不变:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//下面代码编译时有“ [unchecked]未经检査的转换”警告</span></span><br><span class="line">List&lt;String&gt;[] lsa = <span class="keyword">new</span> ArrayList[<span class="number">10</span>];<span class="comment">//1号代码</span></span><br><span class="line"><span class="comment">// 将lsa向上转型为Object[]类型的变量</span></span><br><span class="line">Object[] oa=lsa;</span><br><span class="line">List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">li.add(<span class="number">3</span>);</span><br><span class="line">oa[<span class="number">1</span>] = li;</span><br><span class="line"><span class="comment">// 下面代码引起ClassCastException异常</span></span><br><span class="line">String s = lsa[<span class="number">1</span>].get(<span class="number">0</span>);<span class="comment">//2号代码</span></span><br></pre></td></tr></table></figure>
<p>上面程序<strong>1号代码</strong>声明了<code>List&lt;String&gt;</code>类型的数组变量,这是允许的;但不允许创建<code>List&lt;String&gt;</code>囗类型的对象,所以创建了一个类型为<code>ArrayList[10]</code>的数组对象,这也是允许的。<br>只是把<code>ArrayList[10]</code>对象赋给<code>List&lt;String&gt;</code>口变量时会有编译警告“<code>unchecked]</code>未经检査的转换”’即编译器并不保证这段代码是类型安全的。<br>上面代码同样会在<strong>2号代码</strong>引发运行时异常,但因为编译器已经提出了警告,所以完全可能出现这种异常。</p>
<h2 id="可以创建无上限的通配符泛型数组"><a href="#可以创建无上限的通配符泛型数组" class="headerlink" title="可以创建无上限的通配符泛型数组"></a>可以创建无上限的通配符泛型数组</h2><p><strong><code>Java</code>允许创建无上限的通配符泛型数组</strong>,例如<code>new ArrayList&lt;?&gt;[10]</code>,因此也可以将第一段代码改为使用无上限的通配符泛型数组,在这种情况下,程序不得不进行强制类型转换。正如前面所介绍的,在<strong>进行强制类型转换之前应通过<code>instanceof</code>运算符来保证它的数据类型</strong>。将上面代码改为如下形式:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;?&gt;[] lsa = <span class="keyword">new</span> ArrayList&lt;?&gt;[<span class="number">10</span>];</span><br><span class="line">Object[] oa = lsa;</span><br><span class="line">List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">li.add(<span class="number">3</span>);</span><br><span class="line">oa[<span class="number">1</span>] = li;</span><br><span class="line">Object target = lsa[<span class="number">1</span>].get(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span> (target <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">    <span class="comment">// 下面代码安全了</span></span><br><span class="line">    String s = (String) target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="不能创建元素类型是泛型的数组"><a href="#不能创建元素类型是泛型的数组" class="headerlink" title="不能创建元素类型是泛型的数组"></a>不能创建元素类型是泛型的数组</h2><p>与此类似的是,<strong>创建元素类型是泛型类型的数组对象也将导致编译错误</strong>。如下代码所示:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; T[] makeArray (Collection&lt;T&gt; coll)&#123;</span><br><span class="line">    <span class="comment">//下面代码导致编译错误</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> T [coll.size()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/7755b23d/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/7755b23d/" class="post-title-link" itemprop="url">9.4 泛型方法 9.4.1 定义泛型方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-23 12:50:24" itemprop="dateCreated datePublished" datetime="2019-12-23T12:50:24+08:00">2019-12-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:57" itemprop="dateModified" datetime="2020-02-07T01:34:57+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/" itemprop="url" rel="index"><span itemprop="name">第9章 泛型</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/9-4-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">9.4 泛型方法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/7755b23d/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/7755b23d/" data-xid="/JavaReadingNotes/7755b23d/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="9-4-泛型方法"><a href="#9-4-泛型方法" class="headerlink" title="9.4 泛型方法"></a>9.4 泛型方法</h1><p>前面介绍了在定义类、接口时可以使用泛型形参,在该类的方法定义和成员变量定义、接口的方法定义中,这些泛型形参可被当成普通类型来用。在另外一些情况下,定义类、接口时没有使用泛型形参,但定义方法时想自己定义泛型形参,这也是可以的,<code>Java 5</code>还提供了对泛型方法的支持</p>
<h1 id="9-4-1-定义泛型方法"><a href="#9-4-1-定义泛型方法" class="headerlink" title="9.4.1 定义泛型方法"></a>9.4.1 定义泛型方法</h1><p>假设需要实现这样一个方法—该方法负责将一个<code>Object</code>数组的所有元素添加到一个<code>Collection</code>集合中。考虑采用如下代码来实现该方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fromArrayToCollection</span><span class="params">(Object[] a, Collection&lt;object&gt; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (object o: a)&#123;</span><br><span class="line">        c.add(o);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面定义的方法没有任何问题,关键在于方法中的c形参,它的数据类型是<code>Collection&lt;Object&gt;</code>正如前面所介绍的,<code>Collections&lt;String&gt;</code>不是<code>Collection&lt;Object&gt;</code>的子类型,所以这个方法的功能非常有限,它只能将<code>Object</code>数组的元素复制到元素为<code>Object</code>的<code>Collection</code>集合中,无法复制到其他类型的<code>Collection</code>集合,即下面代码将引起编译错误。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String[] strArr = &#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>&#125;;</span><br><span class="line">List&lt;String&gt; strList= <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">// Collection&lt;String&gt;对象不能当成Collection&lt;String&gt;使用,下面代码出现编译错误</span></span><br><span class="line">fromArrayToCollection(strArr, strList);</span><br></pre></td></tr></table></figure>
<p>可见上面方法的参数类型不可以使用<code>Collection&lt;String&gt;</code>。<br>那使用通配符<code>Collection&lt;?&gt;</code>是否可行呢?显然也不行,因为**<code>Java</code>不允许把对象放进一个未知类型的集合中**。<br>为了解决这个问题,可以使用<code>Java 5</code>提供的泛型方法(<code>Generic Method</code>)。所谓泛型方法,就是在声明方法时定义一个或多个泛型形参。</p>
<h2 id="泛型方法的语法格式"><a href="#泛型方法的语法格式" class="headerlink" title="泛型方法的语法格式"></a>泛型方法的语法格式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修饰符 &lt;T,S&gt; 返回值类型 方法名(形参列表)&#123;</span><br><span class="line">    <span class="comment">//方法体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>把上面方法的格式和普通方法的格式进行对比,不难发现<strong>泛型方法的方法签名比普通方法的方法签名多了<code>泛型形参声明</code></strong>,</p>
<ul>
<li>泛型形参声明以尖括号括起来,</li>
<li>多个泛型形参之间以逗号(,)隔开,</li>
<li>所有的<strong>泛型形参声明放在<code>方法修饰符</code>和<code>方法返回值类型</code>之间</strong>。</li>
</ul>
<p>采用支持泛型的方法,就可以将上面的<code>fromArrayToCollection</code>方法改为如下形式:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">fromArrayToCollection</span> <span class="params">(T[] a, Collection&lt;T&gt; c)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (T o:a)&#123;</span><br><span class="line">        c.add(o);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面程序示范了完整的用法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericMethodTest</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 声明一个泛型方法，该泛型方法中带一个T泛型形参，</span></span><br><span class="line">	<span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">fromArrayToCollection</span><span class="params">(T[] a, Collection&lt;T&gt; c)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (T o : a) &#123;</span><br><span class="line">			c.add(o);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Object[] objectArray = <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">		Collection&lt;Object&gt; objectCollection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">// 下面代码中T代表Object类型</span></span><br><span class="line">		fromArrayToCollection(objectArray, objectCollection);</span><br><span class="line"></span><br><span class="line">		String[] stringArray = <span class="keyword">new</span> String[<span class="number">100</span>];</span><br><span class="line">		Collection&lt;String&gt; stringCollection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">// 下面代码中T代表String类型</span></span><br><span class="line">		fromArrayToCollection(stringArray, stringCollection);</span><br><span class="line">		<span class="comment">// 下面代码中T代表Object类型</span></span><br><span class="line">		fromArrayToCollection(stringArray, objectCollection);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		Integer[] integerArray = <span class="keyword">new</span> Integer[<span class="number">100</span>];</span><br><span class="line">		Float[] floatArray = <span class="keyword">new</span> Float[<span class="number">100</span>];</span><br><span class="line">		Number[] numberArray = <span class="keyword">new</span> Number[<span class="number">100</span>];</span><br><span class="line">		Collection&lt;Number&gt; numberCollection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">// 下面代码中T代表Number类型</span></span><br><span class="line">		fromArrayToCollection(integerArray, numberCollection);</span><br><span class="line">		<span class="comment">// 下面代码中T代表Number类型</span></span><br><span class="line">		fromArrayToCollection(floatArray, numberCollection);</span><br><span class="line">		<span class="comment">// 下面代码中T代表Number类型</span></span><br><span class="line">		fromArrayToCollection(numberArray, numberCollection);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 下面代码中T代表Object类型</span></span><br><span class="line">		fromArrayToCollection(numberArray, objectCollection);</span><br><span class="line">		<span class="comment">// 下面代码中T代表String类型，但na是一个Number数组，</span></span><br><span class="line">		<span class="comment">// 因为Number既不是String类型，</span></span><br><span class="line">		<span class="comment">// 也不是它的子类，所以出现编译错误</span></span><br><span class="line">		fromArrayToCollection(numberArray, stringCollection);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面程序定义了一个泛型方法,该泛型方法中定义了一个T泛型形参,这个T类型就可以在该方法内当成普通类型使用。与接口、类声明中定义的泛型不同的是,<strong>方法声明中定义的泛型只能在该方法里使用</strong>,而接口、类声明中定义的泛型则可以在整个接口、类中使用.<br>与类、接口中使用泛型参数不同的是,<strong>方法中的泛型参数无须显式传入实际类型参数</strong>,如上面程序所示,当程序调用 <code>fromArrayToCollection</code>方法时,无须在调用该方法前传入 <code>String</code>、 <code>Object</code>等类型,但系统依然可以知道为泛型实际传入的类型,因为<strong>编译器根据实参推断出泛型所代表的类型</strong>,它通常推断出最直接的类型。例如,下面调用代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fromArrayToCollection(stringArray, stringCollection);</span><br></pre></td></tr></table></figure>
<p>上面代码中<code>cs</code>是一个 <code>Collection&lt;String&gt;</code>类型,与方法定义时的<code>fromArrayToCollection(T[] a, Collection&lt;T&gt; c)</code>进行比较——只比较泛型参数,不难发现该T类型代表的实际类型是 <code>String</code>类型<br>对于如下调用代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fromArrayToCollection(integerArray, numberCollection);</span><br></pre></td></tr></table></figure>
<p>上面的<code>numberCollection</code>是 <code>Collection&lt;Number&gt;</code>类型,与此方法的方法签名进行比较—只比较泛型参数,不难发现该T类型代表了 <code>Number</code>类型。<br>为了让编译器能准确地推断出泛型方法中泛型的类型,不要制造迷惑!系统一旦迷惑了,就是你错了!看如下程序。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorTest</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 声明一个泛型方法，该泛型方法中带一个T泛型形参</span></span><br><span class="line">	<span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(Collection&lt;T&gt; from, Collection&lt;T&gt; to)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (T ele : from) &#123;</span><br><span class="line">			to.add(ele);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;Object&gt; as = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		List&lt;String&gt; ao = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">// 下面代码将产生编译错误</span></span><br><span class="line">		<span class="comment">// test(as, ao);</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面程序中定义了 <code>test(test)</code>方法,该方法用于将前一个集合里的元素复制到下一个集合中,该方法中的两个形参<code>from</code>、<code>to</code>的类型都是 <code>Collections&lt;T&gt;</code>,这要求调用该方法时的两个集合实参中的泛型类型相同,否则编译器无法准确地推断出泛型方法中泛型形参的类型。<br>上面程序中调用<code>test</code>方法传入了两个实际参数,其中<code>as</code>的数据类型是 <code>List&lt;String&gt;</code>,而<code>ao</code>的数据类型是<code>List&lt;Object&gt;</code>,与泛型方法签名进行对比:<code>test(Collection&lt;T&gt; a, Collection&lt;T&gt; c)</code>,编译器无法正确识别T所代表的实际类型。为了避免这种错误,可以将该方法改为如下形式:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RightTest</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 声明一个泛型方法，该泛型方法中带一个T形参</span></span><br><span class="line">	<span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(Collection&lt;? extends T&gt; from, Collection&lt;T&gt; to)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (T ele : from) &#123;</span><br><span class="line">			to.add(ele);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;Object&gt; ao = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		List&lt;String&gt; as = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		<span class="comment">// 下面代码完全正常</span></span><br><span class="line">		test(as, ao);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码改变了<code>test()</code>方法签名,将该方法的前一个形参类型改为 <code>Collection&lt;? extends T&gt;</code>,这种采用类型通配符的表示方式,只要 <code>testo</code>方法的前一个 <code>Collection</code>集合里的元素类型是后一个 <code>Collection</code>集合里元素类型的子类即可。<br>那么这里产生了一个问题:到底何时使用泛型方法?何时使用类型通配符呢?接下来详细介绍泛型方法和类型通配符的区别。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/20977929/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/20977929/" class="post-title-link" itemprop="url">9.5 擦除和转换</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-23 02:23:00" itemprop="dateCreated datePublished" datetime="2019-12-23T02:23:00+08:00">2019-12-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:57" itemprop="dateModified" datetime="2020-02-07T01:34:57+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/" itemprop="url" rel="index"><span itemprop="name">第9章 泛型</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/9-5-%E6%93%A6%E9%99%A4%E5%92%8C%E8%BD%AC%E6%8D%A2/" itemprop="url" rel="index"><span itemprop="name">9.5 擦除和转换</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/20977929/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/20977929/" data-xid="/JavaReadingNotes/20977929/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="9-5-擦除和转换"><a href="#9-5-擦除和转换" class="headerlink" title="9.5 擦除和转换"></a>9.5 擦除和转换</h1><p>在严格的泛型代码里,带泛型声明的类总应该带着类型参数。但为了与老的<code>Java</code>代码保持一致,也允许在使用带泛型声明的类时不指定实际的类型。如果没有为这个泛型类指定实际的类型,此时被称作<code>raw type</code>(原始类型),默认是声明该泛型形参时指定的第一个上限类型。<br>当把一个具有泛型信息的对象赋给另一个没有泛型信息的变量时,所有在尖括号之间的类型信息都将被扔掉。比如一个<code>List&lt;String&gt;</code>类型被转换为<code>List</code>,则该<code>Lit</code>对集合元素的类型检查变成了泛型参数的上限(即<code>Object</code>)。下面程序示范了这种擦除.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Apple</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Number</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	T size;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Apple</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Apple</span><span class="params">(T size)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.size = size;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSize</span><span class="params">(T size)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.size = size;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> T <span class="title">getSize</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.size;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErasureTest</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		Apple&lt;Integer&gt; a = <span class="keyword">new</span> Apple&lt;&gt;(<span class="number">6</span>);    <span class="comment">// ①</span></span><br><span class="line">		<span class="comment">// a的getSize方法返回Integer对象</span></span><br><span class="line">		Integer as = a.getSize();</span><br><span class="line">		<span class="comment">// 把a对象赋给Apple变量，丢失尖括号里的类型信息</span></span><br><span class="line">		Apple b = a;      <span class="comment">// ②</span></span><br><span class="line">		<span class="comment">// b只知道size的类型是Number</span></span><br><span class="line">		Number size1 = b.getSize();</span><br><span class="line">		<span class="comment">// 下面代码引起编译错误</span></span><br><span class="line"><span class="comment">//		Integer size2 = b.getSize();  // ③</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面程序中定义了一个带泛型声明的<code>Apple</code>类,其泛型形参的上限是<code>Number</code>,这个泛型形参用来定义<code>Apple</code>类的<code>size</code>变量。程序在①处创建了一个<code>Apple</code>对象,该<code>Apple</code>对象的泛型代表了<code>Integer</code>类型,所以调用a的<code>getSize</code>方法时返回<code>Integer</code>类型的值。当把a赋给一个不带泛型信息的b变量时,编译器就会丢失a对象的泛型信息,即所有尖括号里的信息都会丢失—因为<code>Apple</code>的泛型形参的上限是<code>Number</code>类,所以编译器依然知道b的<code>getSize</code>方法返回<code>Number</code>类型,但具体是<code>Number</code>的哪个子类就不清楚了。</p>
<p>从逻辑上来看,<code>List&lt;String&gt;</code>是<code>List</code>的子类,如果直接把一个<code>List</code>对象赋给一个<code>List&lt;String&gt;</code>对象应该引起编译错误,但实际上不会。对泛型而言,可以直接把一个<code>List</code>对象赋给一个<code>List&lt;String&gt;</code>对象,编译器仅仅提示“未经检查的转换”,看下面程序:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErasureTest2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">		li.add(<span class="number">6</span>);</span><br><span class="line">		li.add(<span class="number">9</span>);</span><br><span class="line">		List list = li;</span><br><span class="line">		<span class="comment">// 下面代码引起“未经检查的转换”的警告，编译、运行时完全正常</span></span><br><span class="line">		List&lt;String&gt; ls = list; <span class="comment">// ①</span></span><br><span class="line">		<span class="comment">// 但只要访问ls里的元素，如下面代码将引起运行时异常。</span></span><br><span class="line">		System.out.println(ls.get(<span class="number">0</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面程序中定义了一个<code>List&lt;Integer&gt;</code>对象,这个<code>List&lt;Integer&gt;</code>对象保留了集合元素的类型信息。当把这个<code>List&lt;Integer&gt;</code>对象赋给一个<code>List</code>类型的<code>list</code>后,编译器就会丢失前者的泛型信息,即丢失<code>list</code>集合里元素的类型信息,这是典型的<strong>擦除</strong>。<code>Java</code>又允许直接把<code>List</code>对象赋给一个<code>List&lt;Type&gt;</code>(<code>Type</code>可以是任何类型)类型的变量,所以程序在①处可以编译通过,只是发出“未经检査的转换”警告。但对<code>list</code>变量实际上引用的是<code>List&lt;Integer&gt;</code>集合,所以当试图把该集合里的元素当成<code>String</code>类型的对象取出时,将引发<code>ClassCastException</code>异常。<br>下面代码与上面代码的行为完全相似。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErasureTest3</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        li.add(<span class="number">6</span>);</span><br><span class="line">        li.add(<span class="number">9</span>);</span><br><span class="line">        System.out.println((String) li.get(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>程序从li中获取一个元素,并且试图通过强制类型转换把它转换成一个<code>String</code>,将引发运行时异常。前面使用泛型代码时,系统与之存在完全相似的行为,所以引发相同的<code>ClassCastException</code>异常。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/48c2e34/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/48c2e34/" class="post-title-link" itemprop="url">9.4.5 Java8改进的类型推断</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-23 02:07:30" itemprop="dateCreated datePublished" datetime="2019-12-23T02:07:30+08:00">2019-12-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:57" itemprop="dateModified" datetime="2020-02-07T01:34:57+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/" itemprop="url" rel="index"><span itemprop="name">第9章 泛型</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/9-4-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">9.4 泛型方法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/48c2e34/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/48c2e34/" data-xid="/JavaReadingNotes/48c2e34/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="9-4-5-Java8改进的类型推断"><a href="#9-4-5-Java8改进的类型推断" class="headerlink" title="9.4.5 Java8改进的类型推断"></a>9.4.5 Java8改进的类型推断</h1><p><code>Java8</code>改进了泛型方法的类型推断能力,类型推断主要有如下两方面。</p>
<ul>
<li>可通过调用方法的上下文来推断泛型的目标类型。</li>
<li>可在方法调用链中,将推断得到的泛型传递到最后一个方法。</li>
</ul>
<p>如下程序示范了<code>Java8</code>对泛型方法的类型推断。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyUtil</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> &lt;Z&gt; <span class="function">MyUtil&lt;Z&gt; <span class="title">nil</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> &lt;Z&gt; <span class="function">MyUtil&lt;Z&gt; <span class="title">cons</span><span class="params">(Z head, MyUtil&lt;Z&gt; tail)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function">E <span class="title">head</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InferenceTest</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// 可以通过方法赋值的 目标参数 来推断类型参数为String</span></span><br><span class="line">		MyUtil&lt;String&gt; ls = MyUtil.nil();<span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 无需使用下面语句在调用nil()方法时指定 类型参数 的类型</span></span><br><span class="line">		MyUtil&lt;String&gt; mu = MyUtil.&lt;String&gt;nil();<span class="comment">//2</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 可调用cons方法所需的参数类型来推断类型参数为Integer</span></span><br><span class="line">		MyUtil.cons(<span class="number">42</span>, MyUtil.nil());<span class="comment">//3</span></span><br><span class="line">		<span class="comment">// 无需使用下面语句在调用nil()方法时指定类型参数的类型</span></span><br><span class="line">		MyUtil.cons(<span class="number">42</span>, MyUtil.&lt;Integer&gt;nil());<span class="comment">//4</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 希望系统能推断出调用nil()方法类型参数为String类型，</span></span><br><span class="line">		<span class="comment">// 但实际上Java 8依然推断不出来，所以下面代码报错</span></span><br><span class="line">		<span class="comment">// String s = MyUtil.nil().head();</span></span><br><span class="line">		String s = MyUtil.&lt;String&gt;nil().head();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面程序中代码1和代码2的作用完全相同,但第代码1无须在调用 <code>MyUtil</code>类的<code>nil</code>方法时显式指定泛型参数为 <code>String</code>,这是因为程序需要将该方法的返回值赋值给 <code>MyUtil&lt;String&gt;</code>类型,因此系统可以自动推断出此处的泛型参数为<code>String</code>类型。<br>上面程序代码3和代码4的作用也完全相同,但代码3也无须在调用<code>yul</code>类的<code>nil</code>方法时显式指定泛型参数为 <code>Integer</code>,这是因为程序将<code>nil</code>方法的返回值作为了 <code>MyUtil</code>类的 <code>cons()</code>方法的第二个参数,而程序可以根据<code>cons()</code>方法的第一个参数(42)推断出此处的泛型参数为 <code>Integer</code>类型。</p>
<p>需要指出的是,虽然<code>Java8</code>增强了<strong>泛型推断</strong>的能力,但泛型推断不是万能的,例如如下代码就是错误的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 希望系统能推断出调用nil()方法类型参数为String类型，</span></span><br><span class="line"><span class="comment">// 但实际上Java 8依然推断不出来，所以下面代码报错</span></span><br><span class="line">String s = MyUtil.nil().head();</span><br></pre></td></tr></table></figure>
<p>因此,上面这行代码必须显式指定泛型的实际类型,即将代码改为如下形式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = MyUtil.&lt;String&gt;nil().head();</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/dd7f2f14/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/dd7f2f14/" class="post-title-link" itemprop="url">9.4.4 泛型方法与方法重载</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-12-23 01:58:13" itemprop="dateCreated datePublished" datetime="2019-12-23T01:58:13+08:00">2019-12-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:57" itemprop="dateModified" datetime="2020-02-07T01:34:57+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/" itemprop="url" rel="index"><span itemprop="name">第9章 泛型</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC9%E7%AB%A0-%E6%B3%9B%E5%9E%8B/9-4-%E6%B3%9B%E5%9E%8B%E6%96%B9%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">9.4 泛型方法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/dd7f2f14/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/dd7f2f14/" data-xid="/JavaReadingNotes/dd7f2f14/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>706</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="9-4-4-泛型方法与方法重载"><a href="#9-4-4-泛型方法与方法重载" class="headerlink" title="9.4.4 泛型方法与方法重载"></a>9.4.4 泛型方法与方法重载</h1><p>因为泛型既允许设定通配符的上限,也允许设定通配符的下限,从而允许在一个类里包含如下两个方法定义</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyUtils</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">copy</span><span class="params">(Collection&lt;T&gt; dest Collection&lt;? extends T&gt; src)</span></span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;<span class="comment">// 1号代码</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">copy</span> <span class="params">(Collection&lt;? <span class="keyword">super</span> T&gt; dest, Collection&lt;T&gt; src)</span></span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;<span class="comment">//2号代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的<code>MyUtils</code>类中包含两个<code>copy</code>方法,这两个方法的参数列表存在一定的区别,但这种区别不是很明确:这两个方法的两个参数都是<code>Collection</code>对象,前一个集合里的集合元素类型是后一个集合里集合元素类型的父类。如果只是在该类中定义这两个方法不会有任何错误,但<strong>只要调用这个方法就会引起编译错误</strong>。例如,对于如下代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Number&gt; ln =<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">List&lt;Integer&gt; li = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">copy(ln,li);<span class="comment">//3号代码</span></span><br></pre></td></tr></table></figure>
<p>上面程序中//3号代码部分调用<code>copy</code>方法,但这个<code>copy</code>方法既可以匹配1号<code>copy</code>方法,此时泛型T表示的类型是<code>Number;</code>也可以匹配2号<code>copy</code>方法,此时泛型T表示的类型是<code>Integer</code>。编译器无法确定这行代码想调用哪个<code>copy</code>方法,所以这行代码将引起编译错误。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/JavaReadingNotes/page/88/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/JavaReadingNotes/">1</a><span class="space">&hellip;</span><a class="page-number" href="/JavaReadingNotes/page/88/">88</a><span class="page-number current">89</span><a class="page-number" href="/JavaReadingNotes/page/90/">90</a><span class="space">&hellip;</span><a class="page-number" href="/JavaReadingNotes/page/188/">188</a><a class="extend next" rel="next" href="/JavaReadingNotes/page/90/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蓝蓝</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">5.8m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">88:01</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/JavaReadingNotes/js/comments.js"></script><script src="/JavaReadingNotes/js/utils.js"></script><script src="/JavaReadingNotes/js/motion.js"></script><script src="/JavaReadingNotes/js/next-boot.js"></script><script src="/JavaReadingNotes/js/bookmark.js"></script><script src="/JavaReadingNotes/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/JavaReadingNotes/js/third-party/search/local-search.js"></script>



  <script src="/JavaReadingNotes/js/third-party/fancybox.js"></script>

  <script src="/JavaReadingNotes/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/JavaReadingNotes/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://lanlan2017.github.io/JavaReadingNotes/page/89/"}</script>
  <script src="/JavaReadingNotes/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="waline" type="application/json">{"lang":null,"enable":true,"serverURL":"https://waline-test-lanlan2017.vercel.app","placeholder":"填写邮箱可接收回复通知 填写个人网址可为您引流","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/JavaReadingNotes/page/89/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
</body>
</html>
