<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.1.0">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/JavaReadingNotes/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/JavaReadingNotes/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/JavaReadingNotes/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/JavaReadingNotes/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="_Sly-yzHYmALHXzjFpPWsodMrjBSphw7bfRbMUH80Qc">
  <meta name="msvalidate.01" content="B1CFD346B8DEBBFE0C983C2AF8955531">
  <meta name="baidu-site-verification" content="vkMTwK56xr">

<link rel="stylesheet" href="/JavaReadingNotes/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"lanlan2017.github.io","root":"/JavaReadingNotes/","images":"/JavaReadingNotes/images","scheme":"Gemini","darkmode":true,"version":"8.11.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/JavaReadingNotes/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/JavaReadingNotes/js/config.js"></script>

    <meta name="description" content="好好学习，天天向上">
<meta property="og:type" content="website">
<meta property="og:title" content="蓝蓝站点">
<meta property="og:url" content="https://lanlan2017.github.io/JavaReadingNotes/page/123/index.html">
<meta property="og:site_name" content="蓝蓝站点">
<meta property="og:description" content="好好学习，天天向上">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="蓝蓝">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lanlan2017.github.io/JavaReadingNotes/page/123/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/123/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>蓝蓝站点</title>
  

  <script src="/JavaReadingNotes/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?dadeb188eb14ccde0b25a19230c429b5"></script>



<link rel="dns-prefetch" href="https://waline-test-lanlan2017.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/JavaReadingNotes/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/JavaReadingNotes/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">蓝蓝站点</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Java读书笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/JavaReadingNotes/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-dir"><a href="/JavaReadingNotes/dir/" rel="section"><i class="fa fa-sitemap fa-fw"></i>目录</a></li><li class="menu-item menu-item-categories"><a href="/JavaReadingNotes/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/JavaReadingNotes/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-tags"><a href="/JavaReadingNotes/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="蓝蓝"
      src="/JavaReadingNotes/images/avatar.gif">
  <p class="site-author-name" itemprop="name">蓝蓝</p>
  <div class="site-description" itemprop="description">好好学习，天天向上</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/JavaReadingNotes/archives/">
          <span class="site-state-item-count">1871</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/JavaReadingNotes/categories/">
        <span class="site-state-item-count">626</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/todo/" title="todo → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;todo&#x2F;"><i class="fa fa-check-square fa-fw"></i>todo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/links/" title="links → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;links&#x2F;"><i class="fa fa-link fa-fw"></i>links</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/559cdc31/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/559cdc31/" class="post-title-link" itemprop="url">示例 @CrossOrigin注解的使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-19 16:49:35" itemprop="dateCreated datePublished" datetime="2019-08-19T16:49:35+08:00">2019-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 04:24:46" itemprop="dateModified" datetime="2020-04-26T04:24:46+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-6-CrossOrigin%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.6 @CrossOrigin注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/559cdc31/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/559cdc31/" data-xid="/JavaReadingNotes/559cdc31/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="示例-CrossOrigin注解的使用"><a href="#示例-CrossOrigin注解的使用" class="headerlink" title="示例 @CrossOrigin注解的使用"></a>示例 @CrossOrigin注解的使用</h1><p>接下来测试跨域发送请求,再新建一个项目<code>CrossOriginTest</code>,加入所需的<code>jar</code>文件.</p>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><details><summary>展开/折叠</summary>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\随书源码\Spring+Mybatis企业应用实战(第2版)\codes\03\CrossOriginTest</span><br><span class="line">├─src\</span><br><span class="line">│ └─org\</span><br><span class="line">│   └─fkit\</span><br><span class="line">│     └─controller\</span><br><span class="line">│       └─CrossOriginController.java</span><br><span class="line">└─WebContent\</span><br><span class="line">  ├─META-INF\</span><br><span class="line">  │ └─MANIFEST.MF</span><br><span class="line">  └─WEB-INF\</span><br><span class="line">    ├─content\</span><br><span class="line">    │ └─welcome.jsp</span><br><span class="line">    ├─lib\</span><br><span class="line">    │ ├─commons-logging-1.2.jar</span><br><span class="line">    │ ├─spring-aop-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-aspects-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-beans-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-indexer-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-support-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-core-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-expression-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-instrument-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jcl-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jdbc-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jms-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-messaging-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-orm-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-oxm-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-test-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-tx-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-web-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-webflux-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-webmvc-5.0.1.RELEASE.jar</span><br><span class="line">    │ └─spring-websocket-5.0.1.RELEASE.jar</span><br><span class="line">    ├─springmvc-config.xml</span><br><span class="line">    └─web.xml</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</details>

<h2 id="CrossOriginController-java"><a href="#CrossOriginController-java" class="headerlink" title="CrossOriginController.java"></a>CrossOriginController.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.fkit.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.CrossOrigin;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 允许所有域发送过来的请求</span></span><br><span class="line"><span class="meta">@CrossOrigin(maxAge = 3600)</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CrossOriginController</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 只允许origins属性中指定的域的请求</span></span><br><span class="line">    <span class="meta">@CrossOrigin(origins = &quot;http://localhost:8080/VariableTest&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/welcome&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">welcome</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;处理跨域请求&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;welcome&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>CrossOriginController</code>类和<code>welcome</code>方法上都使用了<code>@CrossOrigin</code>注解。 <code>welcome</code>方法接收到<code>跨域请求</code>进行简单处理后,跳转到<code>welcome.jsp</code>。</p>
<h2 id="welcome-jsp"><a href="#welcome-jsp" class="headerlink" title="welcome.jsp"></a>welcome.jsp</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;测试<span class="meta">@CrossOrigin</span>注解&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;br&gt;恭喜您，测试跨域访问成功!</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>此外,还需要在<code>web.xml</code>文件中配置<code>Spring MVC</code>的前端控制器<code>DispatcherServlet</code>,因为每次配置基本一致,此处不再赘述,读者可自行配置。</p>
<h2 id="部署测试"><a href="#部署测试" class="headerlink" title="部署测试"></a>部署测试</h2><p>同时部署<code>VariableTest</code>和<code>CrossOriginTest</code>两个<code>Web</code>应用,在浏览器中输入如下<code>URL</code>来测试进入<code>VariableTest</code>应用:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/VariableTest/</span><br></pre></td></tr></table></figure>
<p>然后点击<code>测试@CrossOrigin注解</code>超链接:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 跨域请求 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://localhost:8080/CrossOriginTest/welcome&quot;</span>&gt;</span>测试@CrossOrigin注解<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>向另一个<code>Web</code>应用<code>CrossOriginTest</code>发送跨域请求,<code>CrossOriginTest</code>应用的<code>CrossOriginController</code>控制器的<code>welcome</code>方法将会处理这个跨域请求,控制台输出结果如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">处理跨域请求</span><br></pre></td></tr></table></figure>
<p>同时浏览器上将显示<code>CrossOriginTest</code>应用的<code>welcome.jsp</code>页面。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><code>@CrossOrigin</code>注解可以接收从另一个<code>Web</code>应用发来的跨域请求。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/8ad4e730/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/8ad4e730/" class="post-title-link" itemprop="url">示例 @PathVariable注解和@MatrixVariable注解的使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-19 13:23:24" itemprop="dateCreated datePublished" datetime="2019-08-19T13:23:24+08:00">2019-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 04:16:26" itemprop="dateModified" datetime="2020-04-26T04:16:26+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-6-CrossOrigin%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.6 @CrossOrigin注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/8ad4e730/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/8ad4e730/" data-xid="/JavaReadingNotes/8ad4e730/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>7 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="示例-PathVariable注解和-MatrixVariable注解的使用"><a href="#示例-PathVariable注解和-MatrixVariable注解的使用" class="headerlink" title="示例 @PathVariable注解和@MatrixVariable注解的使用"></a>示例 @PathVariable注解和@MatrixVariable注解的使用</h1><p>新建一个项目<code>VariableTest</code>,加入所需的<code>jar</code>文件:</p>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><details><summary>展开/折叠</summary>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\随书源码\Spring+Mybatis企业应用实战(第2版)\codes\03\VariableTest</span><br><span class="line">├─src\</span><br><span class="line">│ └─org\</span><br><span class="line">│   └─fkit\</span><br><span class="line">│     └─controller\</span><br><span class="line">│       └─VariableController.java</span><br><span class="line">└─WebContent\</span><br><span class="line">  ├─index.jsp</span><br><span class="line">  ├─META-INF\</span><br><span class="line">  │ └─MANIFEST.MF</span><br><span class="line">  └─WEB-INF\</span><br><span class="line">    ├─lib\</span><br><span class="line">    │ ├─commons-logging-1.2.jar</span><br><span class="line">    │ ├─spring-aop-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-aspects-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-beans-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-indexer-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-support-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-core-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-expression-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-instrument-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jcl-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jdbc-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jms-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-messaging-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-orm-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-oxm-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-test-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-tx-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-web-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-webflux-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-webmvc-5.0.1.RELEASE.jar</span><br><span class="line">    │ └─spring-websocket-5.0.1.RELEASE.jar</span><br><span class="line">    ├─springmvc-config.xml</span><br><span class="line">    └─web.xml</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</details>

<p>示例代码如下:</p>
<h2 id="index-jsp"><a href="#index-jsp" class="headerlink" title="index.jsp"></a>index.jsp</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;处理请求URL注解测试&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;处理请求URL注解测试&lt;/h2&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;pathVariableTest/1&quot;</span>&gt;测试<span class="meta">@PathVariable</span>注解&lt;/a&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;matrixVariableTest/1;name=jack;age=23&quot;</span>&gt;测试<span class="meta">@MatrixVariable</span>注解&lt;/a&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;productTest/computer;brand=apple,acer;low=2000;height=10000&quot;</span>&gt;商品条件查询（品牌，价格区间）&lt;/a&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;!-- 跨域请求 --&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;http://localhost:8080/CrossOriginTest/welcome&quot;</span>&gt;测试<span class="meta">@CrossOrigin</span>注解&lt;/a&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="VariableController-java"><a href="#VariableController-java" class="headerlink" title="VariableController.java"></a>VariableController.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.fkit.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.MatrixVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VariableController</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试@PathVariable注解</span></span><br><span class="line">    <span class="comment">// 该方法映射的请求为/VariableTest/pathVariableTest/1</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/pathVariableTest/&#123;userId&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pathVariableTest</span><span class="params">(<span class="meta">@PathVariable</span> Integer userId,</span></span><br><span class="line"><span class="params">            HttpServletResponse response)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 直接响应不跳转页面</span></span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">            response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            response.getWriter().write(<span class="string">&quot;通过@PathVariable获得数据： userId=&quot;</span> + userId);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试@MatrixVariable注解</span></span><br><span class="line">    <span class="comment">// 该方法映射的请求为/VariableTest/matrixVariableTest/1;name=jack;age=23</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/matrixVariableTest/&#123;userId&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">matrixVariableTest</span><span class="params">(<span class="meta">@PathVariable</span> Integer userId,</span></span><br><span class="line"><span class="params">            <span class="meta">@MatrixVariable(value = &quot;name&quot;, pathVar = &quot;userId&quot;)</span> String name,</span></span><br><span class="line"><span class="params">            <span class="meta">@MatrixVariable(value = &quot;age&quot;, pathVar = &quot;userId&quot;)</span> Integer age,</span></span><br><span class="line"><span class="params">            HttpServletResponse response)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 直接响应不跳转页面</span></span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">            response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            response.getWriter().write(<span class="string">&quot;通过@PathVariable获得数据： userId=&quot;</span> + userId);</span><br><span class="line">            response.getWriter().write(</span><br><span class="line">                    <span class="string">&quot;通过@MatrixVariable获得数据： name=&quot;</span> + name + <span class="string">&quot; age=&quot;</span> + age);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 测试@MatrixVariable注解的复杂例子</span></span><br><span class="line">    <span class="comment">// 该方法映射的请求为//VariableTest/productTest/computer;brand=apple,acer;low=2000;height=10000</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/productTest/&#123;goods&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">productTest</span><span class="params">(<span class="meta">@PathVariable</span> String goods,</span></span><br><span class="line"><span class="params">            <span class="meta">@MatrixVariable(value = &quot;brand&quot;, pathVar = &quot;goods&quot;)</span> List&lt;String&gt; brand,</span></span><br><span class="line"><span class="params">            <span class="meta">@MatrixVariable(value = &quot;low&quot;, pathVar = &quot;goods&quot;)</span> Integer low,</span></span><br><span class="line"><span class="params">            <span class="meta">@MatrixVariable(value = &quot;height&quot;, pathVar = &quot;goods&quot;)</span> Integer height,</span></span><br><span class="line"><span class="params">            HttpServletResponse response)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 直接响应不跳转页面</span></span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">            response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            response.getWriter().println(<span class="string">&quot;通过@PathVariable获得数据： goods=&quot;</span> + goods+<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">            response.getWriter().println(<span class="string">&quot;通过@MatrixVariable获得数据：brand=&quot;</span> + brand+<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">            response.getWriter().println(</span><br><span class="line">                    <span class="string">&quot;通过@MatrixVariable获得数据： low=&quot;</span> + low + <span class="string">&quot; height=&quot;</span> + height+<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="springmvc-config-xml"><a href="#springmvc-config-xml" class="headerlink" title="springmvc-config.xml"></a>springmvc-config.xml</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- spring可以自动去扫描base-pack下面的包或者子包下面的java文件， --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 如果扫描到有Spring的相关注解的类，则把这些类注册为Spring的bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span></span></span><br><span class="line"><span class="tag">        <span class="attr">base-package</span>=<span class="string">&quot;org.fkit.controller&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 默认装配方案 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- @MatrixVariable注解功能在SpringMVC中默认是不启用的 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 启用它需要设置enable-matrix-variables=&quot;true&quot; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span></span></span><br><span class="line"><span class="tag">        <span class="attr">enable-matrix-variables</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 静态资源处理 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 视图解析器 p:prefix属性表示前缀 p:suffix 表示后缀 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;viewResolver&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:prefix</span>=<span class="string">&quot;/WEB-INF/content/&quot;</span> <span class="attr">p:suffix</span>=<span class="string">&quot;.jsp&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>此外,还需要在<code>web.xml</code>文件中配置<code>Spring MVC</code>的前端控制器<code>DispatcherServlet</code>,因为每次配置基本相同此处不再赘述,读者可自行配置。<br>部署<code>VariableTest</code>这个<code>Web</code>应用,在浏览器中输入如下<code>URL</code>来测试应用:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/VariableTest/</span><br></pre></td></tr></table></figure>
<p>此时<code>Spring MVC</code>会跳转到<code>index.jsp</code></p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><h3 id="测试-PathVariable注解"><a href="#测试-PathVariable注解" class="headerlink" title="测试@PathVariable注解"></a>测试@PathVariable注解</h3><p><code>VariableController</code>类的<code>pathVariableTest</code>方法用于测试<code>@PathVariable</code>注解,它会将请求路径<code>/pathVariableTest/1&quot;</code>中<code>userId</code>的值“1”赋给方法参数的<code>userId</code>变量。单击”<code>测试@PathVariable注解</code>“超链接发送请求,将调用<code>pathVariableTest</code>方法,此时浏览器显示如下文字:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过@PathVariable获得数据： userId=1</span><br></pre></td></tr></table></figure>
<h3 id="测试-MatrixVariable注解"><a href="#测试-MatrixVariable注解" class="headerlink" title="测试@MatrixVariable注解"></a>测试@MatrixVariable注解</h3><p><code>VariableController</code>类的<code>matrixVariableTest</code>方法用于测试<code>@MatrixVariable</code>注解,它会将请求路径<code>&quot;/matrixVariableTest/1;name=jack;age=23&quot;</code>中的<code>name</code>参数的值<code>&quot;jack&quot;</code>赋给方法形式参数<code>name</code>,将<code>age</code>参数的值<code>23</code>赋给方法参数的形式参数<code>age</code>。单击“<code>测试@Matrixvariable注解</code>”超链接发送请求,将调用<code>matrixVariableTest</code>方法.此时浏览器显示的如下文字:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过@PathVariable获得数据： userId=1通过@MatrixVariable获得数据： name=jack age=23</span><br></pre></td></tr></table></figure>
<p>可以看到,<code>&lt;a href=&quot; matrixVariableTest/1;name=jack;age=23&quot;&gt;测试MatrixVariable注解&lt;/a&gt;</code>的参数<code>name</code>的值<code>&quot;jack&quot;</code>被传递到方法形式参数<code>name</code>,参数<code>age</code>的值“23”被传递到方法的<code>age</code>变量,并显示在浏览器上。</p>
<h4 id="多条件组合查询"><a href="#多条件组合查询" class="headerlink" title="多条件组合查询"></a>多条件组合查询</h4><p><code>MatrixVariable</code>注解还可以完成复杂的参数注入,非常方便地进行<code>多条件组合查询</code>。本例以商品查询为例,详细介绍<code>MatrixVariable</code>的使用。<br><code>VariableController</code>类的<code>productTest</code>方法用于商品条件查询,传递的参数包括<code>商品</code>、<code>品牌</code>和<code>价格区间</code>,它会将请求路径<code>&quot;/productTest/computer;brand=apple,acer;low=2000;height=10000&quot;</code>之中的:</p>
<ul>
<li><code>brand</code>参数的值<code>&quot;apple,acer&quot;</code>赋给方法参数的<code>brand</code>变量,该变量是一个<code>List</code>集合;</li>
<li>将<code>low</code>参数的值<code>&quot;2000&quot;</code>赋给方法参数的<code>low</code>变量;</li>
<li>将<code>height</code>参数的值<code>&quot;10000&quot;</code>赋给方法参数的<code>height</code>变量。</li>
</ul>
<p>该请求表示一个商品的条件组合查询,商品名称是<code>computer</code>,查询的品牌是<code>apple</code>和<code>acer</code>,价格区间是从<code>2000</code>到<code>10000</code></p>
<p>单击“商品条件査询(品牌,价格区间)”超链接发送请求,将调用<code>productTest</code>方,浏览器显示结果如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">通过@PathVariable获得数据： goods=computer</span><br><span class="line">通过@MatrixVariable获得数据：brand=[apple, acer]</span><br><span class="line">通过@MatrixVariable获得数据： low=2000 height=10000</span><br></pre></td></tr></table></figure>
<p>可以看到,<code>&lt;a href=&quot;productTest/computer;brand=apple,acer;low=2000;height=10000&quot;&gt;商品条件查询(品牌,价格区间)&lt;/a&gt;</code>的:</p>
<ul>
<li>参数<code>brand</code>的值<code>&quot;apple,acer&quot;</code>被传递到方法的<code>brand</code>集合变量,</li>
<li>参数<code>low</code>的值<code>&quot;2000&quot;</code>被传递到方法的<code>low</code>变量参数</li>
<li>参数<code>height</code>的值<code>&quot;10000&quot;</code>被传递到方法的<code>height</code>变量,最后输出在浏览器上</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/341b4bfc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/341b4bfc/" class="post-title-link" itemprop="url">3.6 @CrossOrigin注解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-19 12:40:36" itemprop="dateCreated datePublished" datetime="2019-08-19T12:40:36+08:00">2019-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 03:52:56" itemprop="dateModified" datetime="2020-04-26T03:52:56+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-6-CrossOrigin%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.6 @CrossOrigin注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/341b4bfc/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/341b4bfc/" data-xid="/JavaReadingNotes/341b4bfc/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-6-CrossOrigin注解"><a href="#3-6-CrossOrigin注解" class="headerlink" title="3.6 @CrossOrigin注解"></a>3.6 @CrossOrigin注解</h1><h2 id="用途-处理跨域请求"><a href="#用途-处理跨域请求" class="headerlink" title="用途:处理跨域请求"></a>用途:处理跨域请求</h2><p><code>org.springframework.web.bind.annotation.Crossorigin</code>注解用于在<code>Spring MVC</code>中<strong>处理跨域请求</strong>。</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>使用<code>@CrossOrigin</code>注解可指定如下表所示的属性。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">是否必要</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>allowCredentials</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left">包含与请求的域相关的<code>Cookie</code>,使用时必须指定具体的域</td>
</tr>
<tr>
<td align="left"><code>allowedHeaders</code></td>
<td align="left"><code>String</code>数组</td>
<td align="left">否</td>
<td align="left">请求头中的请求列表</td>
</tr>
<tr>
<td align="left"><code>exposedHeaders</code></td>
<td align="left"><code>String</code>数组</td>
<td align="left">否</td>
<td align="left">客户端允许访问的响应头列表</td>
</tr>
<tr>
<td align="left"><code>maxAge</code></td>
<td align="left"><code>long</code></td>
<td align="left">否</td>
<td align="left">响应前的缓存最大有效时间,单位是秒</td>
</tr>
<tr>
<td align="left"><code>methods</code></td>
<td align="left"><code>RequestMethod</code>数组</td>
<td align="left">否</td>
<td align="left">请求支持的方法,默认支持<code>RequestMapping</code>中设置的方法</td>
</tr>
<tr>
<td align="left"><code>origins</code></td>
<td align="left"><code>Sting</code>数组</td>
<td align="left">否</td>
<td align="left">所有支持域的集合,如果没有定义,默认支持所有域</td>
</tr>
<tr>
<td align="left"><code>value</code></td>
<td align="left"><code>String</code>数组</td>
<td align="left">否</td>
<td align="left">同<code>origins</code>属性一样</td>
</tr>
</tbody></table>
<h2 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h2><p><code>@CrossOrigin</code>注解示例代码如下:</p>
<h3 id="可以处理所有域的请求"><a href="#可以处理所有域的请求" class="headerlink" title="可以处理所有域的请求"></a>可以处理所有域的请求</h3><p>代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CrossOrigin(maxAge=3600)</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CrossoriginController</span></span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>表示<code>CrossoriginController</code>控制器的<code>所有方法</code>可以处理<code>所有域</code>上的请求.</p>
<h3 id="可以处理给定域的请求"><a href="#可以处理给定域的请求" class="headerlink" title="可以处理给定域的请求"></a>可以处理给定域的请求</h3><p>代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@CrossOrigin(</span></span><br><span class="line"><span class="meta">    origins=&quot;http://www.fkit.org&quot;,</span></span><br><span class="line"><span class="meta">    maxAge=3600</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CrossOriginController</span></span><br><span class="line">&#123;</span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>表示<code>CrossOriginController</code>控制器的<code>所有方法</code>可以处理<code>http://www.fkit.org</code>域上的请求。</p>
<h3 id="Crossorigin注解使用在类和方法上"><a href="#Crossorigin注解使用在类和方法上" class="headerlink" title="@Crossorigin注解使用在类和方法上"></a>@Crossorigin注解使用在类和方法上</h3><p>下面的例子中,<code>CrossoriginController</code>类上有<code>@Crossorigin</code>注解,<code>login</code>方法上也有<code>@CrossOrigin</code>注解, <code>Spring MVC</code>会<strong>合并两个注解的属性一起使用</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该控制器接受所有域上发过来的请求</span></span><br><span class="line"><span class="meta">@CrossOrigin(maxAge=3600)</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CrossoriginController</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//该方法只接受这个`http://www.xxx.com`域发送来的请求</span></span><br><span class="line">    <span class="meta">@CrossOrigin(origins=&quot;http://www.xxx.com&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(value=&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">login</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        ....</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/c7a8ad25/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/c7a8ad25/" class="post-title-link" itemprop="url">3.5 @MatrixVariable注解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-19 12:13:54" itemprop="dateCreated datePublished" datetime="2019-08-19T12:13:54+08:00">2019-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 03:42:59" itemprop="dateModified" datetime="2020-04-26T03:42:59+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-5-MatrixVariable%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.5 @MatrixVariable注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/c7a8ad25/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/c7a8ad25/" data-xid="/JavaReadingNotes/c7a8ad25/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-5-MatrixVariable注解"><a href="#3-5-MatrixVariable注解" class="headerlink" title="3.5 @MatrixVariable注解"></a>3.5 @MatrixVariable注解</h1><h2 id="作用-多条件组合查询"><a href="#作用-多条件组合查询" class="headerlink" title="作用:多条件组合查询"></a>作用:多条件组合查询</h2><p><code>org.springframework.web.bind.annotation.MatrixVariable</code>注解拓展了<code>URL</code>请求地址的功能。使用<code>@Matrixvariable</code>注解时多个变量可以使用<code>;</code>(分号)分隔,该注解允许开发者进行多条件组合査询。</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>使用<code>@MatrixVariable</code>注解可指定如下表所示的属性。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">是否必要</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left">指定请求参数绑定的名称,如果省略则绑定同名参数</td>
</tr>
<tr>
<td align="left"><code>value</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left"><code>name</code>属性的别名</td>
</tr>
<tr>
<td align="left"><code>pathVar</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left"><code>matrix variable</code>所在路径的<code>url path</code>变量的名称</td>
</tr>
<tr>
<td align="left"><code>required</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">否</td>
<td align="left">指示参数是否必须绑定</td>
</tr>
<tr>
<td align="left"><code>defaultValue</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left">如果没有传递参数而使用的默认值</td>
</tr>
</tbody></table>
<h2 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h2><p><code>@MatrixVariable</code>注解示例代码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该方法映射的请求为/VariableTest/matrixVariableTest/1;name=jack;age=23</span></span><br><span class="line"><span class="meta">@GetMapping(value = &quot;/matrixVariableTest/&#123;userId&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">matrixVariableTest</span><span class="params">(<span class="meta">@PathVariable</span> Integer userId,</span></span><br><span class="line"><span class="params">        <span class="meta">@MatrixVariable(value = &quot;name&quot;, pathVar = &quot;userId&quot;)</span> String name,</span></span><br><span class="line"><span class="params">        <span class="meta">@MatrixVariable(value = &quot;age&quot;, pathVar = &quot;userId&quot;)</span> Integer age)</span></span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;通过@PathVariable获得数据： userId=&quot;</span> + userId);</span><br><span class="line">    System.out.println(<span class="string">&quot;通过@MatrixVariable获得数据： name=&quot;</span> + name + <span class="string">&quot; age=&quot;</span> + age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>假如请求的<code>URL</code>为<code>http://localhost:8080/VariableTest/MatrixVariableTest/1;name=jack;age=23</code>,</p>
<ul>
<li>则自动将<code>URL</code>中模板变量<code>&#123;userId&#125;</code>绑定到通过<code>@Pathvariable</code>注解的同名形式参数上,即方法的形式参数<code>userId</code>将被赋值为<code>1</code>;</li>
<li>通过<code>@MatrixVariable</code>注解绑定了形式参数<code>name</code>和<code>age</code>,即形式参数<code>name</code>将被赋值为<code>jack</code>,形式参数<code>age</code>将被赋值为<code>23</code></li>
</ul>
<h2 id="启用-MatrixVariable注解功能"><a href="#启用-MatrixVariable注解功能" class="headerlink" title="启用@MatrixVariable注解功能"></a>启用@MatrixVariable注解功能</h2><p>需要注意的是,<code>@MatrixVariable</code>注解功能在<code>Spring MVC</code>中默认是不启用的,启用它需要在<code>Spring MVC</code>配置文件的<code>mvc:annotation-driven</code>标签上设置<code>enable-matrix-variables=&quot;true</code>属性，示例代码如下:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 默认装配方案 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- @MatrixVariable注解功能在SpringMVC中默认是不启用的 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 启用它需要设置enable-matrix-variables=&quot;true&quot; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span></span></span><br><span class="line"><span class="tag">    <span class="attr">enable-matrix-variables</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/d0a0f6a4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/d0a0f6a4/" class="post-title-link" itemprop="url">3.4 @PathVariable注解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-19 11:33:58" itemprop="dateCreated datePublished" datetime="2019-08-19T11:33:58+08:00">2019-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-05-06 04:38:46" itemprop="dateModified" datetime="2020-05-06T04:38:46+08:00">2020-05-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-4-PathVariable%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.4 @PathVariable注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/d0a0f6a4/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/d0a0f6a4/" data-xid="/JavaReadingNotes/d0a0f6a4/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>606</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-4-PathVariable注解"><a href="#3-4-PathVariable注解" class="headerlink" title="3.4 @PathVariable注解"></a>3.4 @PathVariable注解</h1><blockquote>
<p><strong>处理 请求URL 部分的注解</strong>:<code>@PathVariable</code>、<code>@MatrixVariable</code>、<code>@CrossOrigin</code>。</p>
</blockquote>
<h2 id="用途-获取请求URL中的动态参数"><a href="#用途-获取请求URL中的动态参数" class="headerlink" title="用途:获取请求URL中的动态参数"></a>用途:获取请求URL中的动态参数</h2><p><code>org.springframework.web.bind.annotation.PathVariable</code>注解可以非常方便地<strong>获得请求<code>URL</code>中的动态参数</strong>。</p>
<h2 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h2><p>使用<code>@PathVariable</code>注解可指定如下表所示的属性。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">是否必要</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left">指定请求参数绑定的名称,如果省略则绑定同名参数</td>
</tr>
<tr>
<td align="left"><code>value</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left"><code>name</code>属性性的别名</td>
</tr>
<tr>
<td align="left"><code>required</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">否</td>
<td align="left">指示参数是否必须绑定</td>
</tr>
</tbody></table>
<h2 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h2><p><code>@PathVariable</code>注解示例代码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value=&quot;/pathVariableTest/&#123;userId&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pathVariableTest</span><span class="params">(<span class="meta">@PathVariable</span> Integer userId)</span></span><br><span class="line">&#123;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>假如请求的<code>URL</code>为<code>http://localhost:8080/VariableTest/PathVariableTest/1</code>则自动将<code>URL</code>中模板变量<code>&#123;userId&#125;</code>绑定到通过<code>@PathVariable</code>注解的同名形式参数上,即<strong>方法的形式参数变量<code>userId</code>将被赋值为<code>1</code></strong>.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/b672b7a5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/b672b7a5/" class="post-title-link" itemprop="url">3.3 @RequestParam注解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-18 10:18:26" itemprop="dateCreated datePublished" datetime="2019-08-18T10:18:26+08:00">2019-08-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 03:31:10" itemprop="dateModified" datetime="2020-04-26T03:31:10+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-3-RequestParam%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.3 @RequestParam注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/b672b7a5/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/b672b7a5/" data-xid="/JavaReadingNotes/b672b7a5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>9.7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>9 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-3-RequestParam注解"><a href="#3-3-RequestParam注解" class="headerlink" title="3.3 @RequestParam注解"></a>3.3 @RequestParam注解</h1><h2 id="RequestParam注解用途"><a href="#RequestParam注解用途" class="headerlink" title="@RequestParam注解用途"></a>@RequestParam注解用途</h2><p><code>org.springframework.web.bind.annotation.RequestParam</code>注解用于**将指定的<mark>请求参数</mark>赋值给方法中的<mark>形参</mark>**。</p>
<h2 id="RequestParam注解属性"><a href="#RequestParam注解属性" class="headerlink" title="@RequestParam注解属性"></a>@RequestParam注解属性</h2><p>使用<code>@RequestParam</code>注解可指定如下表所示的属性。</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">是否必要</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>name</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left">指定请求参数绑定的名称</td>
</tr>
<tr>
<td align="left"><code>value</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left"><code>name</code>属性的别名</td>
</tr>
<tr>
<td align="left"><code>required</code></td>
<td align="left"><code>boolean</code></td>
<td align="left">否</td>
<td align="left">指定参数是否必须绑定</td>
</tr>
<tr>
<td align="left"><code>dafaultValue</code></td>
<td align="left"><code>String</code></td>
<td align="left">否</td>
<td align="left">如果没有传递参数而使用的默认值</td>
</tr>
</tbody></table>
<h2 id="请求方法的参数可以为-基本类型或String"><a href="#请求方法的参数可以为-基本类型或String" class="headerlink" title="请求方法的参数可以为 基本类型或String"></a>请求方法的参数可以为 基本类型或String</h2><p>请求处理方法参数的可选类型为<code>Java</code><mark>基本数据类型</mark>和<code>String</code>。<br>示例代码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value=&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">login</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(&quot;loginname&quot;)</span> String loginname,</span></span><br><span class="line"><span class="params">    <span class="meta">@RequestParam(&quot;password&quot;)</span> String password</span></span><br><span class="line"><span class="params">)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ......;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>假设请求如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/context/login?loginname=jack&amp;password=123456</span><br></pre></td></tr></table></figure>

<p>以上代码会将请求中的<code>loginname</code>参数的值<code>&quot;jack&quot;</code>赋给<code>loginname</code>变量, <code>password</code>参数的值<code>&quot;123456&quot;</code>赋给<code>password</code>变量。<br>需要注意的是,如果请求中不包含<code>&quot;loginname&quot;</code>参数,则将产生异常!因此,如果不能保证存在<code>&quot;loginname&quot;</code>参数,建议使用：<br><code>@RequestParam(value=&quot;loginname&quot;, required= false)</code><br><code>@RequestParam</code>注解还有如下写法:<br><code>@RequestParam(value=&quot;loginname&quot;, required=true, defaultValue=&quot;admin&quot;);</code><br>其中<code>required</code>参数默认值为<code>true</code>,所以这里可以省略<code>required=true</code>这个参数。</p>
<h1 id="示例-RequestMapping和-RequestParam注解的使用"><a href="#示例-RequestMapping和-RequestParam注解的使用" class="headerlink" title="示例 @RequestMapping和@RequestParam注解的使用"></a>示例 @RequestMapping和@RequestParam注解的使用</h1><p>新建一个项目<code>RequestMappingTest</code>,加入所需的<code>jar</code>文件。</p>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><details><summary>展开/折叠</summary>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">G:\Desktop\随书源码\Spring+Mybatis企业应用实战(第2版)\codes\03\RequestMappingTest</span><br><span class="line">├─src\</span><br><span class="line">│ └─org\</span><br><span class="line">│   └─fkit\</span><br><span class="line">│     ├─controller\</span><br><span class="line">│     │ └─UserController.java</span><br><span class="line">│     └─domain\</span><br><span class="line">│       └─User.java</span><br><span class="line">└─WebContent\</span><br><span class="line">  ├─META-INF\</span><br><span class="line">  │ └─MANIFEST.MF</span><br><span class="line">  └─WEB-INF\</span><br><span class="line">    ├─content\</span><br><span class="line">    │ ├─loginForm.jsp</span><br><span class="line">    │ ├─registerForm.jsp</span><br><span class="line">    │ └─welcome.jsp</span><br><span class="line">    ├─lib\</span><br><span class="line">    │ ├─commons-logging-1.2.jar</span><br><span class="line">    │ ├─spring-aop-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-aspects-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-beans-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-indexer-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-context-support-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-core-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-expression-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-instrument-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jcl-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jdbc-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-jms-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-messaging-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-orm-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-oxm-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-test-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-tx-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-web-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-webflux-5.0.1.RELEASE.jar</span><br><span class="line">    │ ├─spring-webmvc-5.0.1.RELEASE.jar</span><br><span class="line">    │ └─spring-websocket-5.0.1.RELEASE.jar</span><br><span class="line">    ├─springmvc-config.xml</span><br><span class="line">    └─web.xml</span><br></pre></td></tr></table></figure>

</details>

<p>示例代码如下:</p>
<h2 id="User-java"><a href="#User-java" class="headerlink" title="User.java"></a>User.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.fkit.domain;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="comment">// 域对象，实现序列化接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">    <span class="comment">// 私有字段</span></span><br><span class="line">    <span class="keyword">private</span> String loginname;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="comment">// 公共构造器</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// set/get方法</span></span><br><span class="line">    <span class="comment">// 此处省略getter和setter方法,请自己补上</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>User</code>是一个域对象,用来接收并封装从前台页面传递过来的数据。</p>
<h2 id="UserController-java"><a href="#UserController-java" class="headerlink" title="UserController.java"></a>UserController.java</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.fkit.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> org.fkit.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Controller注解用于指示该类是一个控制器，可以同时处理多个请求动作</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="comment">// RequestMapping可以用来注释一个控制器类，此时，所有方法都将映射为相对于类级别的请求,</span></span><br><span class="line"><span class="comment">// 表示该控制器处理所有的请求都被映射到 value属性所指示的路径下</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 静态List&lt;User&gt;集合，此处代替数据库用来保存注册的用户信息</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;User&gt; userList;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// UserController类的构造器，初始化List&lt;User&gt;集合</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserController</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        userList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;User&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 该方法映射的请求为http://localhost:8080/context/user/register，该方法支持GET请求</span></span><br><span class="line">    <span class="meta">@GetMapping(value = &quot;/register&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">registerForm</span><span class="params">()</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;register GET方法被调用...&quot;</span>);</span><br><span class="line">        <span class="comment">// 跳转到注册页面</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;registerForm&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 该方法映射的请求为http://localhost:8080/RequestMappingTest/user/register，该方法支持POST请求</span></span><br><span class="line">    <span class="meta">@PostMapping(value = &quot;/register&quot;)</span></span><br><span class="line">    <span class="comment">// 将请求中的loginname参数的值赋给loginname变量,password和username同样处理</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">register</span><span class="params">(<span class="meta">@RequestParam(&quot;loginname&quot;)</span> String loginname,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(&quot;password&quot;)</span> String password,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(&quot;username&quot;)</span> String username)</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;register POST方法被调用...&quot;</span>);</span><br><span class="line">        <span class="comment">// 创建User对象</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setLoginname(loginname);</span><br><span class="line">        user.setPassword(password);</span><br><span class="line">        user.setUsername(username);</span><br><span class="line">        <span class="comment">// 模拟数据库存储User信息</span></span><br><span class="line">        userList.add(user);</span><br><span class="line">        <span class="comment">// 跳转到登录页面</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;loginForm&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 该方法映射的请求为http://localhost:8080/RequestMappingTest/user/login</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">login</span><span class="params">(</span></span><br><span class="line"><span class="params">            // 将请求中的loginname参数的值赋给loginname变量,password同样处理</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(&quot;loginname&quot;)</span> String loginname,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(&quot;password&quot;)</span> String password,</span></span><br><span class="line"><span class="params">            Model model)</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;登录名:&quot;</span> + loginname + <span class="string">&quot; 密码:&quot;</span> + password);</span><br><span class="line">        <span class="comment">// 到集合中查找用户是否存在，此处用来模拟数据库验证</span></span><br><span class="line">        <span class="keyword">for</span> (User user : userList)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (user.getLoginname().equals(loginname)</span><br><span class="line">                    &amp;&amp; user.getPassword().equals(password))</span><br><span class="line">            &#123;</span><br><span class="line">                model.addAttribute(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&quot;welcome&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;loginForm&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>UserControlller</code>类的代码解释如下:</p>
<ol>
<li><code>UserController</code>类使用了<code>@Controlller</code>注解,是一个控制器类。</li>
<li>在<code>UserControlller</code>类上面使用了<code>@RequestMapping(value=&quot;/user&quot;)</code>注解,表示该控制器处理的所有请求都被映射到<code>/user</code>路径下。</li>
<li>本例没有使用数据库存储用户注册信息,所以定义了一个静态的<code>List</code>集合<code>userList</code>用来代替数据库存储用户数据。</li>
<li><code>registerForm</code>方法使用了<code>@GetMapping(value=&quot;/register&quot;)</code>注解,表示该方法映射的请求为:<br><code>http://localhost:8080/RequestMappingTest/user/register</code>,并且只支持<code>GET</code>请求。<br>该方法返回字符串<code>&quot;registerForm&quot;</code>,参考<code>springmvc-config.xml</code>中的视图解析器的配置信息,可以知道该方法只是跳转到<code>registerForm.jsp</code>注册页面</li>
<li><code>register</code>方法使用了<code>@PostMapping(value=&quot;/register&quot;)</code>注解,表示该方法映射的请求为:<br><code>http://localhost:8080/RequestMappingTest/user/register</code>并且只支持<code>POST</code>请求。<br>该方法<strong>使用<code>@RequestParam</code>注解将指定的请求参数赋值给方法中的形参</strong>,之后创建了一个<code>User</code>对象保存用户传递的注册信息,最后将<code>User</code>对象存储到<code>userList</code>集合中,然后登录页面就可以到<code>userList</code>集合中进行用户登录业务逻辑的判断。该方法返回字符串<code>loginForm</code>,这样会跳转到<code>loginForm.jsp</code>登录页面。<ul>
<li>提示:<code>registerForm</code>方法和<code>register</code>方法虽然映射的请求一样,但是<code>registerForm</code>方法支持的是<code>GET</code>请求,而<code>register</code>方法支持的是<code>POST</code>请求。</li>
</ul>
</li>
<li><code>login</code>方法使用了<code>@RequestMapping(&quot;/login&quot;)</code>注解,表示该方法映射的请求为:<br><code>http://localhost/RequestMappingTest/user/login</code>,这里没有设置<code>method</code>属性,表示支持所有方式的请求。该方法也使用<code>@RequestParam</code>注解将指定的请求参数赋值给方法中的形参。之后到集合中査找用户是否存在,此处用来模拟数据库验证。<code>login</code>方法中还有一个参数<code>Model</code>对象,调用该对象的<code>addAttribute</code>方法可以将数据添加到<code>request</code>当中。最后,如果用户登录成功则返回字符串<code>welcome</code>,并跳转到<code>welcome.jsp</code>欢迎页面;登录失败则返回字符串 <code>loginForm</code>,并跳转到<code>loginForm.jsp</code>登录页面.</li>
</ol>
<h2 id="registerForm-jsp"><a href="#registerForm-jsp" class="headerlink" title="registerForm.jsp"></a>registerForm.jsp</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;注册页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h3&gt;注册页面&lt;/h3&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;register&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;label&gt;登录名: &lt;/label&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;loginname&quot;</span> name=<span class="string">&quot;loginname&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;label&gt;密码: &lt;/label&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=<span class="string">&quot;password&quot;</span> id=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;label&gt;真实姓名: &lt;/label&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;username&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;input id=<span class="string">&quot;submit&quot;</span> type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;注册&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><code>registerForm.jsp</code>是一个注册页面,用户可以在这里输入登录名、密码和真实姓名,该表单被提交到<code>register</code>请求。注意,这里使用的是<code>POST</code>方式,响应请求的是<code>UserController</code>类的<code>register</code>方法。</p>
<h2 id="loginForm-jsp"><a href="#loginForm-jsp" class="headerlink" title="loginForm.jsp"></a>loginForm.jsp</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;登录页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h3&gt;登录页面&lt;/h3&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;login&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;label&gt;登录名: &lt;/label&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;loginname&quot;</span> name=<span class="string">&quot;loginname&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;label&gt;密码: &lt;/label&gt;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;&lt;input type=<span class="string">&quot;password&quot;</span> id=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;&lt;input id=<span class="string">&quot;submit&quot;</span> type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;登录&quot;</span>&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><code>lognForm.jsp</code>是一个登录页面,用户可以在这里输入登录名和密码,该表单被提交<code>login</code>请求。这里使用的是<code>POST</code>方式,响应请求的是<code>UserControlller</code>类的<code>login</code>方法。</p>
<h2 id="welcome-jsp"><a href="#welcome-jsp" class="headerlink" title="welcome.jsp"></a>welcome.jsp</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">    pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;测试<span class="meta">@RequestMapping</span>注解&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 页面可以访问Controller传递传递出来的模型User对象 --&gt;</span><br><span class="line">    欢迎[$&#123;requestScope.user.username &#125;]登陆</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><code>welcome.jsp</code>是一个欢迎页面,用户登录成功后跳转到该页面,该页面使用了<code>EL</code>表达式访问<code>request</code>当中的<code>user</code>对象的<code>username</code>属性<br>此外,还需要在<code>web.xml</code>文件中配置<code>Spring MVC</code>的前端控制器<code>DispatcherServlet</code>,因为每次配置基本相同,此处不再赘述,读者可自行配置.<br>同时<code>Spring MVC</code>还需要<code>springmvc-config.xml</code>配置文件,<code>ControllerTest</code>项目中的<code>springmvc-config.xml</code>文件内容一致.读者可以自行配置。</p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>部署<code>RequestMappingTest</code>这个<code>Web</code>应用,在浏览器中输入如下<code>URL</code>来测试应用:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/RequestMappingTest/user/register</span><br></pre></td></tr></table></figure>
<ul>
<li>此时可以在浏览器上看到<code>注册页面</code>,表示<code>Spring MVC</code>成功跳转到注册页面<code>registerForm.jsp</code>.</li>
<li>输入登录名<code>&quot;test&quot;</code>,密码<code>&quot;123456&quot;</code>,真实姓名<code>&quot;测试用户&quot;</code>,单击<code>&quot;注册&quot;</code>按钮。请求将会被提交到<code>UserControlller</code>类的<code>register</code>方法进行注册,注册的用户信息会被保存到<code>UserController</code>类的<code>userList</code>静态集合中。若注册成功,将会跳转到<code>登录页面</code>。</li>
<li>输入登录名<code>&quot;test&quot;</code>,密码<code>&quot;123456&quot;</code>,单击<code>&quot;登录&quot;</code>按钮。请求将会被提交到<code>UserController</code>类的<code>login</code>方法进行登录验证,若验证成功,将会跳转到欢迎页面.</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/af8b0d33/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/af8b0d33/" class="post-title-link" itemprop="url">3.2.6页面转发</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-18 09:11:57" itemprop="dateCreated datePublished" datetime="2019-08-18T09:11:57+08:00">2019-08-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 02:50:05" itemprop="dateModified" datetime="2020-04-26T02:50:05+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-2-RequestMapping%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.2 @RequestMapping注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/af8b0d33/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/af8b0d33/" data-xid="/JavaReadingNotes/af8b0d33/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-2-6-页面转发"><a href="#3-2-6-页面转发" class="headerlink" title="3.2.6 页面转发"></a>3.2.6 页面转发</h1><p>在<code>JSP</code>中页面转发有两种情况:服务器内部跳转(<code>forward</code>)和客户端重定向(<code>redirect</code>)。 <code>Spring MVC</code>选择页面转发的方式也非常简单。</p>
<h2 id="1-转发到JSP页面"><a href="#1-转发到JSP页面" class="headerlink" title="1. 转发到JSP页面"></a>1. 转发到JSP页面</h2><h3 id="请求处理方法返回值是字符串的情况"><a href="#请求处理方法返回值是字符串的情况" class="headerlink" title="请求处理方法返回值是字符串的情况"></a>请求处理方法返回值是字符串的情况</h3><h4 id="服务器内部跳转"><a href="#服务器内部跳转" class="headerlink" title="服务器内部跳转"></a>服务器内部跳转</h4><p>若请求处理方法<strong>返回字符串</strong>,默认使用服务器内部跳转( <code>forward</code>)。示例代码如下:<br><code>return &quot;main&quot;;</code></p>
<h4 id="客户端重定向"><a href="#客户端重定向" class="headerlink" title="客户端重定向"></a>客户端重定向</h4><p>如果希望客户端重定向(<code>redirect</code>),在返回的字符串前面加上<code>&quot;redirect:/&quot;</code>。示例代码如下:<br><code>return &quot;redirect:/main.jsp&quot;;</code></p>
<h3 id="请求处理方法返回值是ModelAndView的情况"><a href="#请求处理方法返回值是ModelAndView的情况" class="headerlink" title="请求处理方法返回值是ModelAndView的情况"></a>请求处理方法返回值是ModelAndView的情况</h3><h4 id="服务器内部跳转-1"><a href="#服务器内部跳转-1" class="headerlink" title="服务器内部跳转"></a>服务器内部跳转</h4><p>若请求处理方法返回<code>ModelAndView</code>,则可以使用<code>setViewName</code>方法来说设置要转发的页面,如果直接传入字符串参数,则使用服务器内部跳转(<code>forward</code>)。示例代码如下:<br><code>mv.setViewName(&quot;main&quot;);</code></p>
<h4 id="客户端重定向-1"><a href="#客户端重定向-1" class="headerlink" title="客户端重定向"></a>客户端重定向</h4><p>如果在字符串前面加上<code>redirect:/</code>,则表示使用客户端重定向(<code>redirect</code>)。示例代码如下:<br><code>mv.setViewName(&quot;redirect:/main.jsp&quot;);</code></p>
<h3 id="客户端重定向特点"><a href="#客户端重定向特点" class="headerlink" title="客户端重定向特点"></a>客户端重定向特点</h3><h4 id="客户端重定向无法访问WEB-INF下的资源文件"><a href="#客户端重定向无法访问WEB-INF下的资源文件" class="headerlink" title="客户端重定向无法访问WEB-INF下的资源文件"></a>客户端重定向无法访问WEB-INF下的资源文件</h4><p>需要注意的是,由于<strong>客户端重定向(<code>redirect</code>)相当于在浏览器重新发请求</strong>,所以不能访问<code>WEB-INF</code>下的资源文件,而且也必须写资源文件后缀名,即<code>.jsp</code>。</p>
<h4 id="客户端重定向的资源文件要使用完整路径"><a href="#客户端重定向的资源文件要使用完整路径" class="headerlink" title="客户端重定向的资源文件要使用完整路径"></a>客户端重定向的资源文件要使用完整路径</h4><p>因为此时<code>springmvc-config.xml</code>文件的视图解析器设置的<code>前缀</code>和<code>后缀</code>都将无效,所以该资源文件要使用完整的路径。</p>
<h2 id="2-转发到控制器的请求处理方法"><a href="#2-转发到控制器的请求处理方法" class="headerlink" title="2. 转发到控制器的请求处理方法"></a>2. 转发到控制器的请求处理方法</h2><h3 id="请求处理方法的返回值是字符串的情况"><a href="#请求处理方法的返回值是字符串的情况" class="headerlink" title="请求处理方法的返回值是字符串的情况"></a>请求处理方法的返回值是字符串的情况</h3><h4 id="服务器内部跳转到另一个请求处理方法"><a href="#服务器内部跳转到另一个请求处理方法" class="headerlink" title="服务器内部跳转到另一个请求处理方法"></a>服务器内部跳转到另一个请求处理方法</h4><p>若请求处理方法返回<strong>字符串</strong>,在返回的字符串前面加上<code>&quot;forward:/&quot;</code>,例如<code>return &quot;forward:/main&quot;;</code>,则服务器内部跳转到名为<code>main</code>的请求处理方法。</p>
<h4 id="客户端重定向到另一个请求处理方法"><a href="#客户端重定向到另一个请求处理方法" class="headerlink" title="客户端重定向到另一个请求处理方法"></a>客户端重定向到另一个请求处理方法</h4><p>若请求处理方法返回<strong>字符串</strong>,在返回的字符串前面加上<code>&quot;redirect:/&quot;</code>,例如<code>return &quot;redirect:/main&quot;;</code>,则客户端重定向到名为<code>main</code>的请求处理方法。</p>
<h3 id="请求处理方法的返回值是ModelAndView对象时"><a href="#请求处理方法的返回值是ModelAndView对象时" class="headerlink" title="请求处理方法的返回值是ModelAndView对象时"></a>请求处理方法的返回值是ModelAndView对象时</h3><p>若请求处理方法返回<code>ModelAndView</code>,调用<code>setViewName</code>方法设置需要转发的控制器,</p>
<h4 id="服务器内部跳转到另一个请求处理方法-1"><a href="#服务器内部跳转到另一个请求处理方法-1" class="headerlink" title="服务器内部跳转到另一个请求处理方法"></a>服务器内部跳转到另一个请求处理方法</h4><p>例如<code>mv.setViewName(&quot;forward:/main&quot;);</code>,则服务器内部跳转到名为<code>main</code>的请求处理方法。</p>
<h4 id="客户端重定向到另一个请求处理方法-1"><a href="#客户端重定向到另一个请求处理方法-1" class="headerlink" title="客户端重定向到另一个请求处理方法"></a>客户端重定向到另一个请求处理方法</h4><p>例如<code>&quot;mv.setviewName(&quot;redirect:/main&quot;);</code>,则客户端重定向到名为<code>main</code>的请求处理方法。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/f91d001f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/f91d001f/" class="post-title-link" itemprop="url">3.2.5 ModelAndView</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-18 08:56:28" itemprop="dateCreated datePublished" datetime="2019-08-18T08:56:28+08:00">2019-08-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 02:34:44" itemprop="dateModified" datetime="2020-04-26T02:34:44+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-2-RequestMapping%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.2 @RequestMapping注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/f91d001f/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/f91d001f/" data-xid="/JavaReadingNotes/f91d001f/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-2-5-ModelAndView"><a href="#3-2-5-ModelAndView" class="headerlink" title="3.2.5 ModelAndView"></a>3.2.5 ModelAndView</h1><p>控制器处理方法的返回值如果是<code>ModelAndView</code>,则其既包含模型数据信息,也包含视图信息,这样<code>Spring MVC</code>将使用包含的视图对模型数据进行渲染。可以简单地将模型数据看成一个<code>Map&lt;String,Object&gt;</code>对象.</p>
<h2 id="添加模型数据-addObject"><a href="#添加模型数据-addObject" class="headerlink" title="添加模型数据 addObject"></a>添加模型数据 addObject</h2><p>在处理方法中可以使用<code>ModelAndView</code>对象的如下方法添加模型数据:<br><code>addObject(String attributeName,Object attributeValue);</code></p>
<h2 id="设置视图-setViewName"><a href="#设置视图-setViewName" class="headerlink" title="设置视图 setViewName"></a>设置视图 setViewName</h2><p>可以通过如下方法设置视图:<br><code>setViewName(String viewName);</code></p>
<h1 id="示例-ModelAndView的使用"><a href="#示例-ModelAndView的使用" class="headerlink" title="示例: ModelAndView的使用"></a>示例: ModelAndView的使用</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.fkit.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.fkit.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.ModelAndView;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Controller注解用于指示该类是一个控制器，可以同时处理多个请求动作</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelAndViewController</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/ModelAndViewTest&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">ModelAndViewTest</span><span class="params">(ModelAndView mv)</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ModelAndViewTest&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="comment">// 设置user对象的username属性</span></span><br><span class="line">        user.setUsername(<span class="string">&quot;小明&quot;</span>);</span><br><span class="line">        <span class="comment">// 将User对象添加到ModelAndView当中</span></span><br><span class="line">        mv.addObject(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">        <span class="comment">// 设置要转发的页面</span></span><br><span class="line">        mv.setViewName(<span class="string">&quot;result&quot;</span>);</span><br><span class="line">        <span class="comment">// 返回ModelAndView对象</span></span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在<code>ModelAndViewTest</code>方法中创建了一个自定义的<code>User</code>对象,并且给<code>username</code>属性赋值。<br>使用<code>ModelAndView</code>对象的<code>addObject(&quot;user&quot;, user)</code>方法将<code>User</code>对象添加到<code>ModelAndView</code>当中,即<code>JSP</code>的<code>request Scope</code>当中。<br>同时调用<code>setViewName(&quot;result&quot;)</code>方法设置要转发的页面。</p>
<p>此处需要注意的是,<strong>方法的返回值必须是<code>ModelAndView</code></strong>,方法的返回结果必须是<code>ModelAndView</code>对象,否则保存在<code>ModelAndView</code>对象中的<code>&quot;user&quot;</code>在<code>result.jsp</code>页面中获取不到。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/8177fc4c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/8177fc4c/" class="post-title-link" itemprop="url">3.2.4 Model和ModelMap</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-17 22:44:23" itemprop="dateCreated datePublished" datetime="2019-08-17T22:44:23+08:00">2019-08-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 02:26:53" itemprop="dateModified" datetime="2020-04-26T02:26:53+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-2-RequestMapping%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.2 @RequestMapping注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/8177fc4c/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/8177fc4c/" data-xid="/JavaReadingNotes/8177fc4c/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-2-4-Model和ModelMap"><a href="#3-2-4-Model和ModelMap" class="headerlink" title="3.2.4 Model和ModelMap"></a>3.2.4 Model和ModelMap</h1><p>在请求处理方法中可出现和返回的参数类型中,最重要的就是<code>Model</code>和<code>ModelAndView</code>了。</p>
<h2 id="控制器产生模型数据-视图渲染模型数据"><a href="#控制器产生模型数据-视图渲染模型数据" class="headerlink" title="控制器产生模型数据 视图渲染模型数据"></a>控制器产生模型数据 视图渲染模型数据</h2><p><strong>对于<code>MVC</code>框架,控制器(<code>Controller</code>)执行业务逻辑,用于产生模型数据(<code>Model</code>),而视图(<code>view</code>)则用于渲染模型数据</strong>。</p>
<h2 id="传递模型数据的途径"><a href="#传递模型数据的途径" class="headerlink" title="传递模型数据的途径"></a>传递模型数据的途径</h2><p>如何将模型数据传递给视图是<code>Spring MVC</code>框架的一项重要工作, <code>Spring MVC</code>提供了多种途径输出模型数据,如:</p>
<ul>
<li><code>Model</code>和<code>ModelMap</code></li>
<li><code>ModelAndView</code></li>
<li><code>@ModelAttribute</code></li>
<li><code>@SessionAttributes</code></li>
</ul>
<p>下面将重点介绍<code>Model</code>、 <code>ModelMap</code>以及<code>ModelAndView</code>,<code>@SessionAttributes</code>将在3.11节中重点介绍;<code>@ModeLAttribute</code>将在3.12节中重点介绍.</p>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p><code>Spring MVC</code>在内部使用了一个<code>org.springframework.ui.Model</code>接口存储模型数据,它的功能类似<code>java.util.Map</code>接口,但是比<code>Map</code>易于使用。<code>org.springframework.ui.ModelMap</code>接口实现了<code>Map</code>接口。<br><code>Spring MVC</code>在调用<mark>处理方法</mark>之前会创建一个<mark>隐含的模型对象</mark>,作为模型数据的存储容器。<br>如果处理方法的参数为<code>Model</code>或<code>ModelMap</code>类型,则<code>Spring MVC</code>会将隐含模型的引用传递给这些参数。<br>在处理方法内部,开发者可以通过这个参数对象访问模型中的所有数据,也可以向模型中添加新的属性数据。</p>
<h3 id="添加模型数据"><a href="#添加模型数据" class="headerlink" title="添加模型数据"></a>添加模型数据</h3><p>在处理方法中, <code>Model</code>和<code>ModelMap</code>对象都可以使用如下方法添加模型数据<br><code>addAttribute(String attributeName,Object attributeValue)</code></p>
<h1 id="示例-Model和ModelMap的使用"><a href="#示例-Model和ModelMap的使用" class="headerlink" title="示例 Model和ModelMap的使用"></a>示例 Model和ModelMap的使用</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.fkit.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.fkit.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.Model;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.ModelMap;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Controller注解用于指示该类是一个控制器，可以同时处理多个请求动作</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelController</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * SpringMVC在调用处理方法之前会创建一个隐含的模型对象， 作为模型数据的存储容器。 </span></span><br><span class="line"><span class="comment">     * 如果处理方法的参数为Model或ModelMap类型，则SpringMVC会将隐含模型的引用传递给这些参数。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/modelTest&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">modelTest</span><span class="params">(Model model)</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;modelTest&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="comment">// 设置user对象的username属性</span></span><br><span class="line">        user.setUsername(<span class="string">&quot;添加到modeMap中的数据&quot;</span>);</span><br><span class="line">        <span class="comment">// 在处理方法内部，开发者可以通过这个参数对象访问模型中的所有数据，</span></span><br><span class="line">        <span class="comment">// 也可以向模型中添加新的属性数据。</span></span><br><span class="line">        <span class="comment">// 将User对象添加到Model当中,也就是添加到JSP的请求域中</span></span><br><span class="line">        model.addAttribute(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">        <span class="comment">// 返回视图路径</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;result1&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/ModelMapTest&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">modelMapTest</span><span class="params">(ModelMap modelMap)</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ModelMapTest&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        <span class="comment">// 设置user对象的username属性</span></span><br><span class="line">        user.setUsername(<span class="string">&quot;添加到modeMap中的数据&quot;</span>);</span><br><span class="line">        <span class="comment">// 将User对象添加到ModelMap当中</span></span><br><span class="line">        modelMap.addAttribute(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;result2&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在<code>modelTest</code>方法中创建了一个自定义的<code>User</code>对象,并且给<code>username</code>属性赋值。使用<code>Model</code>对象的<code>addAttribute(&quot;user&quot;,user)</code>方法将<code>User</code>对象添加到<code>Model</code>当中,即<code>JSP</code>的<code>request Scope</code>当中</p>
<p><code>modelMapTest</code>方法的代码功能与此类似,只是存储对象由<code>Model</code>改成了<code>ModelMap</code></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/b7212fbe/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 蓝蓝站点">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/b7212fbe/" class="post-title-link" itemprop="url">3.2.3请求处理方法可返回的类型</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-17 22:34:55" itemprop="dateCreated datePublished" datetime="2019-08-17T22:34:55+08:00">2019-08-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2020-04-26 02:31:30" itemprop="dateModified" datetime="2020-04-26T02:31:30+08:00">2020-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">4 Spring+Mybatis企业应用实战(第2版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">第3章 Spring MVC的常用注解</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/4-Spring-Mybatis%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98-%E7%AC%AC2%E7%89%88/%E7%AC%AC3%E7%AB%A0-Spring-MVC%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/3-2-RequestMapping%E6%B3%A8%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">3.2 @RequestMapping注解</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/b7212fbe/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/b7212fbe/" data-xid="/JavaReadingNotes/b7212fbe/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>328</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="3-2-3-请求处理方法可返回的类型"><a href="#3-2-3-请求处理方法可返回的类型" class="headerlink" title="3.2.3 请求处理方法可返回的类型"></a>3.2.3 请求处理方法可返回的类型</h1><p>每个请求处理方法可以返回以下类型的返回结果:</p>
<h2 id="java提供的类型"><a href="#java提供的类型" class="headerlink" title="java提供的类型"></a>java提供的类型</h2><ul>
<li><code>void</code></li>
<li><code>java.util.Map&lt;K,V&gt;</code></li>
<li><code>java.lang.String</code></li>
<li><code>java.util.concurrent.Callable</code></li>
</ul>
<h2 id="Spring提供的类型"><a href="#Spring提供的类型" class="headerlink" title="Spring提供的类型"></a>Spring提供的类型</h2><ul>
<li><code>org.springframework.web.portlet.ModelAndView</code></li>
<li><code>org.springframework.web.servlet.View</code></li>
<li><code>org.springframework.web.context.request.async.DeferredResult</code></li>
<li><code>org.springframework.ui.Model</code></li>
</ul>
<h2 id="其他类型"><a href="#其他类型" class="headerlink" title="其他类型"></a>其他类型</h2><ul>
<li><code>HttpEntity</code></li>
<li><code>ResponseEntity</code></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/JavaReadingNotes/page/122/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/JavaReadingNotes/">1</a><span class="space">&hellip;</span><a class="page-number" href="/JavaReadingNotes/page/122/">122</a><span class="page-number current">123</span><a class="page-number" href="/JavaReadingNotes/page/124/">124</a><span class="space">&hellip;</span><a class="page-number" href="/JavaReadingNotes/page/188/">188</a><a class="extend next" rel="next" href="/JavaReadingNotes/page/124/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蓝蓝</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">5.8m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">88:07</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/JavaReadingNotes/js/comments.js"></script><script src="/JavaReadingNotes/js/utils.js"></script><script src="/JavaReadingNotes/js/motion.js"></script><script src="/JavaReadingNotes/js/next-boot.js"></script><script src="/JavaReadingNotes/js/bookmark.js"></script><script src="/JavaReadingNotes/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/JavaReadingNotes/js/third-party/search/local-search.js"></script>



  <script src="/JavaReadingNotes/js/third-party/fancybox.js"></script>

  <script src="/JavaReadingNotes/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/JavaReadingNotes/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://lanlan2017.github.io/JavaReadingNotes/page/123/"}</script>
  <script src="/JavaReadingNotes/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="waline" type="application/json">{"lang":null,"enable":true,"serverURL":"https://waline-test-lanlan2017.vercel.app","placeholder":"填写邮箱可接收回复通知 填写个人网址可为您引流","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/JavaReadingNotes/page/123/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
</body>
</html>
