<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
<meta name="generator" content="Hexo 5.4.0">

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/JavaReadingNotes/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/JavaReadingNotes/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/JavaReadingNotes/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/JavaReadingNotes/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="_Sly-yzHYmALHXzjFpPWsodMrjBSphw7bfRbMUH80Qc">
  <meta name="msvalidate.01" content="B1CFD346B8DEBBFE0C983C2AF8955531">
  <meta name="baidu-site-verification" content="vkMTwK56xr">

<link rel="stylesheet" href="/JavaReadingNotes/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"lanlan2017.github.io","root":"/JavaReadingNotes/","images":"/JavaReadingNotes/images","scheme":"Gemini","darkmode":true,"version":"8.8.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/JavaReadingNotes/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/JavaReadingNotes/js/config.js"></script>
<meta name="description" content="好好学习，天天向上">
<meta property="og:type" content="website">
<meta property="og:title" content="蓝蓝站点">
<meta property="og:url" content="https://lanlan2017.github.io/JavaReadingNotes/page/170/index.html">
<meta property="og:site_name" content="蓝蓝站点">
<meta property="og:description" content="好好学习，天天向上">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="蓝蓝">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lanlan2017.github.io/JavaReadingNotes/page/170/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/170/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>蓝蓝站点</title>
  

  <script src="/JavaReadingNotes/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?dadeb188eb14ccde0b25a19230c429b5"></script>


<link rel="dns-prefetch" href="https://waline-test-lanlan2017.vercel.app">
  <noscript>
    <link rel="stylesheet" href="/JavaReadingNotes/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/JavaReadingNotes/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">蓝蓝站点</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Java读书笔记</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/JavaReadingNotes/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-dir"><a href="/JavaReadingNotes/dir/" rel="section"><i class="fa fa-sitemap fa-fw"></i>目录</a></li>
        <li class="menu-item menu-item-categories"><a href="/JavaReadingNotes/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/JavaReadingNotes/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-tags"><a href="/JavaReadingNotes/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="蓝蓝"
      src="/JavaReadingNotes/images/avatar.gif">
  <p class="site-author-name" itemprop="name">蓝蓝</p>
  <div class="site-description" itemprop="description">好好学习，天天向上</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/JavaReadingNotes/archives/">
          <span class="site-state-item-count">1871</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/JavaReadingNotes/categories/">
        <span class="site-state-item-count">626</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/todo/" title="todo → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;todo&#x2F;"><i class="fa fa-check-square fa-fw"></i>todo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://lanlan2017.github.io/links/" title="links → https:&#x2F;&#x2F;lanlan2017.github.io&#x2F;links&#x2F;"><i class="fa fa-link fa-fw"></i>links</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/ecfc15d3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/ecfc15d3/" class="post-title-link" itemprop="url">13.2.9 单表查询1</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-25 13:06:02" itemprop="dateCreated datePublished" datetime="2019-05-25T13:06:02+08:00">2019-05-25</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/ecfc15d3/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/ecfc15d3/" data-xid="/JavaReadingNotes/ecfc15d3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>11k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>10 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-9单表查询"><a href="#13-2-9单表查询" class="headerlink" title="13.2.9单表查询"></a>13.2.9单表查询</h1><p><code>select</code>语句的功能就是查询数据。<code>select</code>语句也是<code>SQL</code>语句中功能最丰富的语句，<code>select</code>语句不仅可以执行单表查询，而且可以执行多表连接查询，还可以进行子查询，<code>select</code>语句用于从一个或多个数据表中选出特定行、特定列的交集。<code>select</code>语句最简单的功能如图13.10所示。<br><img data-src="https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/fangkuangJavaJiangYi3/13/1.png" alt="这里有一张图片"></p>
<blockquote>
</blockquote>
<h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Navicat MySQL Data Transfer</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Source Server         : localhost_3306</span></span><br><span class="line"><span class="comment">Source Server Version : 50508</span></span><br><span class="line"><span class="comment">Source Host           : localhost:3306</span></span><br><span class="line"><span class="comment">Source Database       : select_test</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Target Server Type    : MYSQL</span></span><br><span class="line"><span class="comment">Target Server Version : 50508</span></span><br><span class="line"><span class="comment">File Encoding         : 65001</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Date: 2019-05-25 15:51:02</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for `student_table`</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `student_table`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student_table` (</span><br><span class="line">  `student_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `student_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `java_teacher` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`student_id`),</span><br><span class="line">  KEY `java_teacher` (`java_teacher`),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `student_table_ibfk_1` <span class="keyword">FOREIGN</span> KEY (`java_teacher`)</span><br><span class="line">  <span class="keyword">REFERENCES</span> `teacher_table` (`teacher_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">10</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of student_table</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>, <span class="string">&#x27;2&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;_王五&#x27;</span>, <span class="string">&#x27;2&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;6&#x27;</span>, <span class="keyword">null</span>, <span class="string">&#x27;2&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `student_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;赵六&#x27;</span>, <span class="string">&#x27;3&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for `teacher_table`</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `teacher_table`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `teacher_table` (</span><br><span class="line">  `teacher_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `teacher_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`teacher_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">4</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of teacher_table</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Yeeku&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;Leegang&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `teacher_table` <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;Martine&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h2><p>单表查询的<code>select</code>语句的语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> column1,column2,...</span><br><span class="line"><span class="keyword">from</span> 数据源</span><br><span class="line">[<span class="keyword">where</span> <span class="keyword">condition</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>数据源可以是表、视图等</strong>。</li>
<li><strong><code>select</code>后的列表用于确定选择哪些列</strong></li>
<li><strong><code>where</code>条件用于确定选择哪些行</strong></li>
</ul>
<h3 id="选择所有行"><a href="#选择所有行" class="headerlink" title="选择所有行"></a>选择所有行</h3><p>只有满足<code>where</code>条件的记录才会被选择出来;<strong>如果没有<code>where</code>条件,则默认选出所有行</strong>。</p>
<h3 id="选择所有列"><a href="#选择所有列" class="headerlink" title="选择所有列"></a>选择所有列</h3><p><strong>如果想选择出所有列,则可使用星号(<code>*</code>)代表所有列</strong>。</p>
<h3 id="选择特定行特定列"><a href="#选择特定行特定列" class="headerlink" title="选择特定行特定列"></a>选择特定行特定列</h3><p>如果增加<code>where</code>条件，则只选择出符合<code>where</code>条件的记录。如下<code>SQL</code>语句将选择出<code>student_table</code>表中<code>java_teacher</code>值大于<code>3</code>的记录的<code>student_name</code>列的值。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> student_name </span><br><span class="line"><span class="keyword">from</span> student_table </span><br><span class="line"><span class="keyword">where</span> java_teacher<span class="operator">&gt;</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;</span><br><span class="line">select student_name </span><br><span class="line">from student_table </span><br><span class="line">where java_teacher&gt;<span class="number">2</span>;</span><br><span class="line">+--------------+</span><br><span class="line">| student_name |</span><br><span class="line">+--------------+</span><br><span class="line">| 赵六         |</span><br><span class="line">+--------------+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h3 id="选择所有行所有列"><a href="#选择所有行所有列" class="headerlink" title="选择所有行所有列"></a>选择所有行所有列</h3><p>下面的<code>SQL</code>语句将会选择出<code>teacher_table</code>表中的所有行、所有列的数据。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> teacher_table;</span><br></pre></td></tr></table></figure>
<p>运行效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h2 id="使用算术运算符-常亮-变量"><a href="#使用算术运算符-常亮-变量" class="headerlink" title="使用算术运算符 常亮 变量"></a>使用算术运算符 常亮 变量</h2><p>当使用<code>select</code>语句进行查询时,还可以在<code>select</code>语句中使用算术运算符(<code>+</code>、<code>-</code>、<code>*</code>、<code>/</code>),从而形成算术表达式。使用算术表达式的规则如下。</p>
<ul>
<li>对**<code>数值型</code>数据列**、<code>变量</code>、<code>常量</code>可以使用算术运算符(<code>+</code>、<code>-</code>、<code>*</code>、<code>/</code>)创建表达式;</li>
<li>对**<code>日期型</code>数据列<strong>、变量、常量可以使用部分算术运算符(<code>+</code>、<code>-</code>)创建表达式,<strong>两个日期之间可以进行减法运算</strong>,</strong><code>日期</code>和<code>数值</code>之间可以进行加、减运算**;</li>
<li>运算符不仅可以在<code>列</code>和<code>常量</code>、<code>变量</code>之间进行运算，也可以在<code>两列之间</code>进行运算。不论从哪个角度来看，数据列都很像一个变量，只是这个变量的值具有指定的范围——逐行计算表中的每条记录时，数据列的值依次变化。因此能使用变量的地方，基本上都可以使用数据列。<br>下面的<code>select</code>语句中使用了算术运算符。</li>
</ul>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>把数据列当成一个变量</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> teacher_id<span class="operator">+</span><span class="number">5</span></span><br><span class="line"><span class="keyword">from</span> teacher_table;</span><br></pre></td></tr></table></figure>
<p>查询结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; select teacher_id+<span class="number">5</span></span><br><span class="line">from teacher_table;</span><br><span class="line">+--------------+</span><br><span class="line">| teacher_id+<span class="number">5</span> |</span><br><span class="line">+--------------+</span><br><span class="line">|            <span class="number">6</span> |</span><br><span class="line">|            <span class="number">7</span> |</span><br><span class="line">|            <span class="number">8</span> |</span><br><span class="line">+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<p>查询出<code>teacher_table</code>表中<code>teacher_id*3&gt;4</code>的记录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span></span><br><span class="line">teacher_table</span><br><span class="line"><span class="keyword">where</span> teacher_id<span class="operator">*</span><span class="number">3</span><span class="operator">&gt;</span><span class="number">4</span>;</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; select * from</span><br><span class="line">teacher_table</span><br><span class="line">where teacher_id*<span class="number">3</span>&gt;<span class="number">4</span>;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="select后写常亮变量"><a href="#select后写常亮变量" class="headerlink" title="select后写常亮变量"></a>select后写常亮变量</h3><p>需要指出的是，<code>select</code>后的不仅可以是数据列，也可以是表达式，还可以是变量、常量等。例如，如下语句也是正确的。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">3</span><span class="operator">*</span><span class="number">5</span>,<span class="number">20</span></span><br><span class="line"><span class="keyword">from</span> teacher_table;</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select <span class="number">3</span>*<span class="number">5</span>,<span class="number">20</span></span><br><span class="line">from teacher_table;</span><br><span class="line">+-----+----+</span><br><span class="line">| <span class="number">3</span>*<span class="number">5</span> | <span class="number">20</span> |</span><br><span class="line">+-----+----+</span><br><span class="line">|  <span class="number">15</span> | <span class="number">20</span> |</span><br><span class="line">|  <span class="number">15</span> | <span class="number">20</span> |</span><br><span class="line">|  <span class="number">15</span> | <span class="number">20</span> |</span><br><span class="line">+-----+----+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><p><code>SQL</code>语句中算术运算符的优先级与<code>Java</code>语言中的运算符优先级完全相同，乘法和除法的优先级高于加法和减法，同级运算的顺序是从左到右，表达式中使用括号可强行改变优先级的运算顺序。</p>
<h2 id="字符串连接运算"><a href="#字符串连接运算" class="headerlink" title="字符串连接运算"></a>字符串连接运算</h2><p><code>MySQL</code>中没有提供字符串连接运算符，即无法使用加号（+）将字符串常量、字符串变量或字符串列连接起来。<code>MySQL</code>使用<code>concat</code>函数来进行字符串连接运算。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(teacher_name,<span class="string">&#x27;-教授&#x27;</span>)</span><br><span class="line"><span class="keyword">from</span> teacher_table;</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select concat(teacher_name,&#x27;-教授&#x27;)</span><br><span class="line">from teacher_table;</span><br><span class="line">+------------------------------+</span><br><span class="line">| concat(teacher_name,&#x27;-教授&#x27;) |</span><br><span class="line">+------------------------------+</span><br><span class="line">| Yeeku-教授                   |</span><br><span class="line">| Leegang-教授                 |</span><br><span class="line">| Martine-教授                 |</span><br><span class="line">+------------------------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h2 id="与null运算"><a href="#与null运算" class="headerlink" title="与null运算"></a>与null运算</h2><p>对于<code>MySQL</code>而言，<br>**如果在算术表达式中使用<code>null</code>，将会导致整个算术表达式的返回值为<code>null</code>**；<br>**如果在字符串连接运算中出现<code>null</code>，将会导致连接后的结果也是<code>null</code>**。<br>如下<code>SQL</code>语句将会返回<code>null</code>。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(teacher_name,<span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">from</span> teacher_table;</span><br></pre></td></tr></table></figure>
<p>查询结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select concat(teacher_name,null)</span><br><span class="line">from teacher_table;</span><br><span class="line">+---------------------------+</span><br><span class="line">| concat(teacher_name,null) |</span><br><span class="line">+---------------------------+</span><br><span class="line">| NULL                      |</span><br><span class="line">| NULL                      |</span><br><span class="line">| NULL                      |</span><br><span class="line">+---------------------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<p>而对某些数据库而言，如果让字符串和<code>null</code>进行连接运算，它会把<code>null</code>当成空字符串处理。</p>
<h2 id="取别名"><a href="#取别名" class="headerlink" title="取别名"></a>取别名</h2><h3 id="给列取别名"><a href="#给列取别名" class="headerlink" title="给列取别名"></a>给列取别名</h3><p>如果不希望直接使用列名作为列标题，则可以为数据列或表达式起一个别名，为数据列或表达式起别名时，别名紧跟数据列，中间以空格隔开，或者使用<code>as</code>关键字隔开。如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> teacher_id<span class="operator">+</span><span class="number">5</span> <span class="keyword">as</span> MY_ID</span><br><span class="line"><span class="keyword">from</span> teacher_table</span><br></pre></td></tr></table></figure>
<p>查询效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select teacher_id+<span class="number">5</span> as MY_ID</span><br><span class="line">from teacher_table;</span><br><span class="line">+-------+</span><br><span class="line">| MY_ID |</span><br><span class="line">+-------+</span><br><span class="line">|     <span class="number">6</span> |</span><br><span class="line">|     <span class="number">7</span> |</span><br><span class="line">|     <span class="number">8</span> |</span><br><span class="line">+-------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select teacher_id+<span class="number">5</span></span><br><span class="line">from teacher_table;</span><br><span class="line">+--------------+</span><br><span class="line">| teacher_id+<span class="number">5</span> |</span><br><span class="line">+--------------+</span><br><span class="line">|            <span class="number">6</span> |</span><br><span class="line">|            <span class="number">7</span> |</span><br><span class="line">|            <span class="number">8</span> |</span><br><span class="line">+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<h4 id="别名中有特殊字符的情况-添加双引号"><a href="#别名中有特殊字符的情况-添加双引号" class="headerlink" title="别名中有特殊字符的情况: 添加双引号"></a>别名中有特殊字符的情况: 添加双引号</h4><p>为列起别名，可以改变列的标题头，用于表示计算结果的具体含义。如果列别名中使用特殊字符（例如空格），或者需要强制大小写敏感，都可以通过为<strong>别名添加双引号</strong>来实现。如下SQL语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> teacher_id<span class="operator">+</span><span class="number">5</span> &quot;MY`&#x27;#@! &amp;%ID&quot;</span><br><span class="line"><span class="keyword">from</span> teacher_table;</span><br></pre></td></tr></table></figure>
<p>查询效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select teacher_id+<span class="number">5</span> &quot;MY`&#x27;#@! &amp;%ID&quot;</span><br><span class="line">from teacher_table;</span><br><span class="line">+--------------+</span><br><span class="line">| MY`&#x27;#@! &amp;%ID |</span><br><span class="line">+--------------+</span><br><span class="line">|            <span class="number">6</span> |</span><br><span class="line">|            <span class="number">7</span> |</span><br><span class="line">|            <span class="number">8</span> |</span><br><span class="line">+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<h4 id="多列取别名"><a href="#多列取别名" class="headerlink" title="多列取别名"></a>多列取别名</h4><p>如果需要选择多列，并为多列起别名，则列与列之间以逗号隔开，但列和列别名之间以空格隔开。如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> teacher_id<span class="operator">+</span><span class="number">5</span> MY_ID,teacher_name 老师名</span><br><span class="line"><span class="keyword">from</span> teacher_table;</span><br></pre></td></tr></table></figure>
<p>查询效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select teacher_id+<span class="number">5</span> MY_ID,teacher_name 老师名</span><br><span class="line">from teacher_table;</span><br><span class="line">+-------+---------+</span><br><span class="line">| MY_ID | 老师名  |</span><br><span class="line">+-------+---------+</span><br><span class="line">|     <span class="number">6</span> | Yeeku   |</span><br><span class="line">|     <span class="number">7</span> | Leegang |</span><br><span class="line">|     <span class="number">8</span> | Martine |</span><br><span class="line">+-------+---------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h3 id="给表取别名"><a href="#给表取别名" class="headerlink" title="给表取别名"></a>给表取别名</h3><p>不仅可以为列或表达式起别名，也可以为表起别名，为表起别名的语法和为列或表达式起别名的语法完全一样，如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> teacher_id<span class="operator">+</span><span class="number">5</span> MY_ID,teacher_name 老师名</span><br><span class="line">#为teacher_table起别名t</span><br><span class="line"><span class="keyword">from</span> teacher_table t;</span><br></pre></td></tr></table></figure>
<p>查询结果:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> teacher_table;</span><br><span class="line"><span class="operator">+</span><span class="comment">------------+--------------+</span></span><br><span class="line"><span class="operator">|</span> teacher_id <span class="operator">|</span> teacher_name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+--------------+</span></span><br><span class="line"><span class="operator">|</span>          <span class="number">1</span> <span class="operator">|</span> Yeeku        <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>          <span class="number">2</span> <span class="operator">|</span> Leegang      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>          <span class="number">3</span> <span class="operator">|</span> Martine      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------+--------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> teacher_id<span class="operator">+</span><span class="number">5</span> MY_ID,teacher_name 老师名</span><br><span class="line">#为teacher_table起别名t</span><br><span class="line"><span class="keyword">from</span> teacher_table t;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+</span></span><br><span class="line"><span class="operator">|</span> MY_ID <span class="operator">|</span> 老师名  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">6</span> <span class="operator">|</span> Yeeku   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">7</span> <span class="operator">|</span> Leegang <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">8</span> <span class="operator">|</span> Martine <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+---------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span></span><br></pre></td></tr></table></figure>
<h3 id="多列运算"><a href="#多列运算" class="headerlink" title="多列运算"></a>多列运算</h3><p>前面已经提到，列名可以当成变量处理，所以运算符也可以在多列之间进行运算，如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> teacher_id<span class="operator">+</span><span class="number">5</span> MY_TD,</span><br><span class="line">concat(teacher_name,teacher_id) teacher_name_id</span><br><span class="line"><span class="keyword">from</span> teacher_table</span><br><span class="line"><span class="keyword">where</span> teacher_id<span class="operator">*</span><span class="number">2</span><span class="operator">&gt;</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>查询结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select teacher_id+<span class="number">5</span> MY_TD,</span><br><span class="line">concat(teacher_name,teacher_id) teacher_name_id</span><br><span class="line">from teacher_table</span><br><span class="line">where teacher_id*<span class="number">2</span>&gt;<span class="number">3</span>;</span><br><span class="line">+-------+-----------------+</span><br><span class="line">| MY_TD | teacher_name_id |</span><br><span class="line">+-------+-----------------+</span><br><span class="line">|     <span class="number">7</span> | Leegang2        |</span><br><span class="line">|     <span class="number">8</span> | Martine3        |</span><br><span class="line">+-------+-----------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h3 id="不出现列名"><a href="#不出现列名" class="headerlink" title="不出现列名"></a>不出现列名</h3><p>甚至可以在<code>select</code>、<code>where</code>子句中都不出现列名，如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">5</span><span class="operator">+</span><span class="number">4</span></span><br><span class="line"><span class="keyword">from</span> teacher_table</span><br><span class="line"><span class="keyword">where</span> <span class="number">2</span><span class="operator">&lt;</span><span class="number">9</span>;</span><br></pre></td></tr></table></figure>
<p>查询结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | Yeeku        |</span><br><span class="line">|          <span class="number">2</span> | Leegang      |</span><br><span class="line">|          <span class="number">3</span> | Martine      |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select <span class="number">5</span>+<span class="number">4</span></span><br><span class="line">from teacher_table</span><br><span class="line">where <span class="number">2</span>&lt;<span class="number">9</span>;</span><br><span class="line">+-----+</span><br><span class="line">| <span class="number">5</span>+<span class="number">4</span> |</span><br><span class="line">+-----+</span><br><span class="line">|   <span class="number">9</span> |</span><br><span class="line">|   <span class="number">9</span> |</span><br><span class="line">|   <span class="number">9</span> |</span><br><span class="line">+-----+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这种情况比较特殊：<code>where</code>语句后的条件表达式总是<code>true</code>，所以会把<code>teacher_table</code>表中的每条记录都选择出来——但<code>SQL</code>语句没有选择任何列，仅仅选择了一个常量，所以<code>SQL</code>会把该常量当成一列，<code>teacher_table</code>表中有多少条记录，该常量就出现多少次。</p>
<h3 id="选择常量"><a href="#选择常量" class="headerlink" title="选择常量"></a>选择常量</h3><p>对于选择常量的情形，指定数据表可能没有太大的意义，所以<code>MySQL</code>提供了一种扩展语法，允许<code>select</code>语句后没有<code>from</code>子句，即可写成如下形式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">5</span><span class="operator">+</span><span class="number">4</span>;</span><br></pre></td></tr></table></figure>
<p>查询结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select <span class="number">5</span>+<span class="number">4</span>;</span><br><span class="line">+-----+</span><br><span class="line">| <span class="number">5</span>+<span class="number">4</span> |</span><br><span class="line">+-----+</span><br><span class="line">|   <span class="number">9</span> |</span><br><span class="line">+-----+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<p>上面这种语句并不是标准<code>SQL</code>语句。例如，<code>Oracle</code>就提供了一个名为<code>dual</code>的虚表（最新的<code>MySQL</code>数据库也支持<code>dual</code>虚表），它没有任何意义，仅仅相当于<code>from</code>后的占位符。如果选择常量，则可使用如下语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">5</span><span class="operator">+</span><span class="number">4</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>
<p>结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select <span class="number">5</span>+<span class="number">4</span> from dual;</span><br><span class="line">+-----+</span><br><span class="line">| <span class="number">5</span>+<span class="number">4</span> |</span><br><span class="line">+-----+</span><br><span class="line">|   <span class="number">9</span> |</span><br><span class="line">+-----+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h2 id="清除重复行"><a href="#清除重复行" class="headerlink" title="清除重复行"></a>清除重复行</h2><p><code>select</code>默认会把所有符合条件的记录全部选出来，即使两行记录完全一样。如果想去除重复行，则可以使用<code>distinct</code>关键字从查询结果中清除重复行。比较下面两条<code>SQL</code>语句的执行结果：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#包括重复行</span><br><span class="line"><span class="keyword">select</span> student_name,java_teacher</span><br><span class="line"><span class="keyword">from</span> student_table;</span><br><span class="line">#去除重复行</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> student_name,java_teacher</span><br><span class="line"><span class="keyword">from</span> student_table;</span><br></pre></td></tr></table></figure>
<p>查询结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_table;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 张三         |            <span class="number">1</span> |</span><br><span class="line">|          <span class="number">2</span> | 张三         |            <span class="number">1</span> |</span><br><span class="line">|          <span class="number">3</span> | 李四         |            <span class="number">1</span> |</span><br><span class="line">|          <span class="number">4</span> | 王五         |            <span class="number">2</span> |</span><br><span class="line">|          <span class="number">5</span> | _王五        |            <span class="number">2</span> |</span><br><span class="line">|          <span class="number">6</span> | NULL         |            <span class="number">2</span> |</span><br><span class="line">|          <span class="number">7</span> | 赵六         |            <span class="number">3</span> |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line"><span class="number">7</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select student_name,java_teacher</span><br><span class="line">from student_table;</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| student_name | java_teacher |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| 张三         |            <span class="number">1</span> |</span><br><span class="line">| 张三         |            <span class="number">1</span> |</span><br><span class="line">| 李四         |            <span class="number">1</span> |</span><br><span class="line">| 王五         |            <span class="number">2</span> |</span><br><span class="line">| _王五        |            <span class="number">2</span> |</span><br><span class="line">| NULL         |            <span class="number">2</span> |</span><br><span class="line">| 赵六         |            <span class="number">3</span> |</span><br><span class="line">+--------------+--------------+</span><br><span class="line"><span class="number">7</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; #去除重复行</span><br><span class="line">select distinct student_name,java_teacher</span><br><span class="line">from student_table;</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| student_name | java_teacher |</span><br><span class="line">+--------------+--------------+</span><br><span class="line">| 张三         |            <span class="number">1</span> |</span><br><span class="line">| 李四         |            <span class="number">1</span> |</span><br><span class="line">| 王五         |            <span class="number">2</span> |</span><br><span class="line">| _王五        |            <span class="number">2</span> |</span><br><span class="line">| NULL         |            <span class="number">2</span> |</span><br><span class="line">| 赵六         |            <span class="number">3</span> |</span><br><span class="line">+--------------+--------------+</span><br><span class="line"><span class="number">6</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<p>注意<br><strong>使用<code>distinct</code>去除重复行时,<code>distinct</code>紧跟在<code>select</code>关键字后面。它的作用是去除后面字段组合的重复值,而不管对应记录在数据库里是否重复</strong>。例如,(1,ˈaˈ,ˈbˈ)和(2,ˈaˈ,ˈbˈ)两条记录在数据库里是不重复的,但如果仅选择后面两列,则<code>distinct</code>会认为两条记录重复。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/7324f93e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/7324f93e/" class="post-title-link" itemprop="url">13.2.8 DML语句语法 3.delete from语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-24 15:19:17" itemprop="dateCreated datePublished" datetime="2019-05-24T15:19:17+08:00">2019-05-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/7324f93e/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/7324f93e/" data-xid="/JavaReadingNotes/7324f93e/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>8.2k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>7 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-8-DML语句语法-3-delete-from语句"><a href="#13-2-8-DML语句语法-3-delete-from语句" class="headerlink" title="13.2.8 DML语句语法 3.delete from语句"></a>13.2.8 DML语句语法 3.delete from语句</h1><p><code>delete from</code>语句用于删除指定数据表的记录。使用<code>delete from</code>语句删除时不需要指定列名，因为总是整行地删除。<br>使用<code>delete from</code>语句可以一次删除多行，删除哪些行采用<code>where</code>子句限定，只删除满足<code>where</code>条件的记录。<br>当没有<code>where</code>子句限定时将会把表里的全部记录删除。</p>
<h2 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h2><p><code>delete from</code>语句的语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> form table_name</span><br><span class="line">[<span class="keyword">where</span> <span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure>
<h2 id="部分删除"><a href="#部分删除" class="headerlink" title="部分删除"></a>部分删除</h2><p>可以使用<code>where</code>条件来限定只删除指定记录，如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student_table2</span><br><span class="line"><span class="keyword">where</span> student_id<span class="operator">&lt;</span><span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 张三         |            <span class="number">2</span> |</span><br><span class="line">|          <span class="number">9</span> | xyz          | NULL         |</span><br><span class="line">|         <span class="number">10</span> | abx          | NULL         |</span><br><span class="line">|         <span class="number">11</span> | abx          | NULL         |</span><br><span class="line">|         <span class="number">13</span> | 可以插入     | NULL         |</span><br><span class="line">|         <span class="number">15</span> | 可以插入     |            <span class="number">1</span> |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line"><span class="number">6</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; delete from student_table2</span><br><span class="line">where student_id&lt;<span class="number">10</span>;</span><br><span class="line">Query OK, <span class="number">2</span> rows affected</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|         <span class="number">10</span> | abx          | NULL         |</span><br><span class="line">|         <span class="number">11</span> | abx          | NULL         |</span><br><span class="line">|         <span class="number">13</span> | 可以插入     | NULL         |</span><br><span class="line">|         <span class="number">15</span> | 可以插入     |            <span class="number">1</span> |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line"><span class="number">4</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<h2 id="全部删除"><a href="#全部删除" class="headerlink" title="全部删除"></a>全部删除</h2><p>如下<code>SQL</code>语句将会把<code>student_table2</code>表中的记录全部删除：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student_table2;</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|         10 | abx          | NULL         |</span><br><span class="line">|         11 | abx          | NULL         |</span><br><span class="line">|         13 | 可以插入     | NULL         |</span><br><span class="line">|         15 | 可以插入     |            1 |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">4 rows in set</span><br><span class="line"></span><br><span class="line">mysql&gt; delete from student_table2;</span><br><span class="line">Query OK, 4 rows affected</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">Empty set</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<h2 id="存在外键约束的情况"><a href="#存在外键约束的情况" class="headerlink" title="存在外键约束的情况"></a>存在外键约束的情况</h2><p>当主表记录被从表记录参照时，主表记录不能被删除，<strong>只有先将从表中参照主表记录的所有记录全部删除后，才可删除主表记录</strong>。</p>
<h3 id="删除主表记录时级联删除从表对应记录"><a href="#删除主表记录时级联删除从表对应记录" class="headerlink" title="删除主表记录时级联删除从表对应记录"></a>删除主表记录时级联删除从表对应记录</h3><p><strong>定义外键约束时</strong>定义了主表记录和从表记录之间的<strong>级联删除</strong><code>on delete cascade</code>,这样删除主要记录时,从表的相关记录也被删除。</p>
<h3 id="删除主表记录将从表对应记录设为null"><a href="#删除主表记录将从表对应记录设为null" class="headerlink" title="删除主表记录将从表对应记录设为null"></a>删除主表记录将从表对应记录设为null</h3><p><code>on delete set null</code>用于指定当主表记录被删除时，从表中参照该记录的从表记录把外键列的值设为<code>null</code>。</p>
<h3 id="修改表定义以支持级联删除"><a href="#修改表定义以支持级联删除" class="headerlink" title="修改表定义以支持级联删除"></a>修改表定义以支持级联删除</h3><p>表的定义如下:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">show create table student_table2;</span><br><span class="line">+----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table          | Create Table                                                                                                                                                                                                                                                                                                                                                                                                           |</span><br><span class="line">+----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| student_table2 | CREATE TABLE `student_table2` (</span><br><span class="line">  `student_id` int(<span class="number">11</span>) <span class="keyword">NOT</span> NULL AUTO_INCREMENT,</span><br><span class="line">  `student_name` varchar(<span class="number">255</span>) DEFAULT NULL,</span><br><span class="line">  `java_teacher` int(<span class="number">11</span>) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`student_id`),</span><br><span class="line">  KEY `java_teacher` (`java_teacher`),</span><br><span class="line">  CONSTRAINT `student_table2_ibfk_1`</span><br><span class="line">    FOREIGN KEY (`java_teacher`)</span><br><span class="line">        REFERENCES `teacher_table2` (`teacher_id`)</span><br><span class="line">            ON DELETE CASCADE</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=<span class="number">16</span> DEFAULT CHARSET=utf8 |</span><br><span class="line">+----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<p>这个表目前还不支持级联删除</p>
<p>其中<code>KEY java_teacher (java_teacher)</code>,表示索引.</p>
<h4 id="删除原有的外键"><a href="#删除原有的外键" class="headerlink" title="删除原有的外键"></a>删除原有的外键</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student_table2</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">foreign</span> key student_table2_ibfk_1;</span><br></pre></td></tr></table></figure>
<p>结果如下:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table student_table2</span><br><span class="line">drop foreign key student_table2_ibfk_1;</span><br><span class="line">Query OK, <span class="number">0</span> rows affected</span><br><span class="line"><span class="function">Records: 0  <span class="title">Duplicates</span>: 0  <span class="title">Warnings</span>: 0</span></span><br><span class="line"><span class="function"><span class="title">mysql</span>&gt; <span class="title">show</span> <span class="title">create</span> <span class="title">table</span> <span class="title">student_table2</span>;</span></span><br><span class="line"><span class="function">+----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="function">| <span class="title">Table</span>          | <span class="title">Create</span> <span class="title">Table</span>                                                                                                                                                                                                                                                                            |</span></span><br><span class="line"><span class="function">+----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="function">| <span class="title">student_table2</span> | <span class="title">CREATE</span> <span class="title">TABLE</span> `<span class="title">student_table2</span>` (</span></span><br><span class="line"><span class="function">  `<span class="title">student_id</span>` <span class="title">int</span>(11) <span class="title">NOT</span> <span class="title">NULL</span> <span class="title">AUTO_INCREMENT</span>,</span></span><br><span class="line"><span class="function">  `<span class="title">student_name</span>` <span class="title">varchar</span>(255) <span class="title">DEFAULT</span> <span class="title">NULL</span>,</span></span><br><span class="line"><span class="function">  `<span class="title">java_teacher</span>` <span class="title">int</span>(11) <span class="title">DEFAULT</span> <span class="title">NULL</span>,</span></span><br><span class="line"><span class="function">  <span class="title">PRIMARY</span> <span class="title">KEY</span> (`<span class="title">student_id</span>`),</span></span><br><span class="line"><span class="function">  <span class="title">KEY</span> `<span class="title">java_teacher</span>` (`<span class="title">java_teacher</span>`)</span></span><br><span class="line"><span class="function">) <span class="title">ENGINE</span>=<span class="title">InnoDB</span> <span class="title">AUTO_INCREMENT</span>=16 <span class="title">DEFAULT</span> <span class="title">CHARSET</span>=<span class="title">utf8</span> |</span></span><br><span class="line"><span class="function">+----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="function">1 <span class="title">row</span> <span class="title">in</span> <span class="title">set</span></span></span><br></pre></td></tr></table></figure>
<p>可以看到外键定义已经删除掉了,<code>KEY</code>这项还没删除掉,我猜它是索引(因为可以用删除索引的语法删除)</p>
<h4 id="重新添加外键使用默认索引"><a href="#重新添加外键使用默认索引" class="headerlink" title="重新添加外键使用默认索引"></a>重新添加外键使用默认索引</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student_table2</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">foreign</span> key(java_teacher)</span><br><span class="line">        <span class="keyword">references</span> teacher_table2(teacher_id)</span><br><span class="line">        <span class="keyword">on</span> <span class="keyword">delete</span> cascade ;#也可以用<span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">set</span> <span class="keyword">null</span></span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; alter table student_table2</span><br><span class="line">add foreign key(java_teacher)</span><br><span class="line">        references teacher_table2(teacher_id)</span><br><span class="line">        on delete cascade ;#也可以用on delete <span class="built_in">set</span> null</span><br><span class="line">Query OK, <span class="number">0</span> rows affected</span><br><span class="line"><span class="function">Records: 0  <span class="title">Duplicates</span>: 0  <span class="title">Warnings</span>: 0</span></span><br><span class="line"><span class="function">    -&gt; <span class="title">show</span> <span class="title">create</span> <span class="title">table</span> <span class="title">student_table2</span>;</span></span><br><span class="line"><span class="function">+----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="function">| <span class="title">Table</span>          | <span class="title">Create</span> <span class="title">Table</span>                                                                                                                                                                                                                                                                                                                                                                                                           |</span></span><br><span class="line"><span class="function">+----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="function">| <span class="title">student_table2</span> | <span class="title">CREATE</span> <span class="title">TABLE</span> `<span class="title">student_table2</span>` (</span></span><br><span class="line"><span class="function">  `<span class="title">student_id</span>` <span class="title">int</span>(11) <span class="title">NOT</span> <span class="title">NULL</span> <span class="title">AUTO_INCREMENT</span>,</span></span><br><span class="line"><span class="function">  `<span class="title">student_name</span>` <span class="title">varchar</span>(255) <span class="title">DEFAULT</span> <span class="title">NULL</span>,</span></span><br><span class="line"><span class="function">  `<span class="title">java_teacher</span>` <span class="title">int</span>(11) <span class="title">DEFAULT</span> <span class="title">NULL</span>,</span></span><br><span class="line"><span class="function">  <span class="title">PRIMARY</span> <span class="title">KEY</span> (`<span class="title">student_id</span>`),</span></span><br><span class="line"><span class="function">  <span class="title">KEY</span> `<span class="title">java_teacher</span>` (`<span class="title">java_teacher</span>`),</span></span><br><span class="line"><span class="function">  <span class="title">CONSTRAINT</span> `<span class="title">student_table2_ibfk_1</span>`</span></span><br><span class="line"><span class="function">    <span class="title">FOREIGN</span> <span class="title">KEY</span> (`<span class="title">java_teacher</span>`)</span></span><br><span class="line"><span class="function">        <span class="title">REFERENCES</span> `<span class="title">teacher_table2</span>` (`<span class="title">teacher_id</span>`)</span></span><br><span class="line"><span class="function">            <span class="title">ON</span> <span class="title">DELETE</span> <span class="title">CASCADE</span></span></span><br><span class="line"><span class="function">) <span class="title">ENGINE</span>=<span class="title">InnoDB</span> <span class="title">AUTO_INCREMENT</span>=16 <span class="title">DEFAULT</span> <span class="title">CHARSET</span>=<span class="title">utf8</span> |</span></span><br><span class="line"><span class="function">+----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span></span><br><span class="line"><span class="function">1 <span class="title">row</span> <span class="title">in</span> <span class="title">set</span></span></span><br><span class="line"><span class="function"><span class="title">mysql</span>&gt; </span></span><br></pre></td></tr></table></figure>
<p><strong>好的现在级联删除设置完毕</strong></p>
<h4 id="疑问"><a href="#疑问" class="headerlink" title="疑问"></a>疑问</h4><p><strong>修改外键约束时,一定要先删除原来的外键约束,然后在添加新的外键约束来实现吗</strong></p>
<h3 id="测试级联删除"><a href="#测试级联删除" class="headerlink" title="测试级联删除"></a>测试级联删除</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">Empty <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 孙悟空       |</span><br><span class="line">|          <span class="number">2</span> | 美猴王       |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; insert into student_table2</span><br><span class="line"> values(null,&#x27;小明&#x27;,<span class="number">1</span>);</span><br><span class="line">Query OK, <span class="number">1</span> row affected</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|         <span class="number">16</span> | 小明         |            <span class="number">1</span> |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<p>由于表<code>student_table2</code>的<code>java_teacher</code>属性参照<code>teacher_table2</code>的<code>teacher_id</code>属性.<br><strong>当删除表<code>teacher_table2</code>中<code>teacher_id=1</code>的记录时,将会级联删除<code>student_table2</code>表中<code>java_teacher=1</code>的记录</strong>。<br>效果如下:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; delete from teacher_table2</span><br><span class="line">where teacher_id=<span class="number">1</span>;</span><br><span class="line">Query OK, <span class="number">1</span> row affected</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">Empty <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">2</span> | 美猴王       |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/cfec354f/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/cfec354f/" class="post-title-link" itemprop="url">13.2.8 DML语句语法 2.update语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-24 15:03:22" itemprop="dateCreated datePublished" datetime="2019-05-24T15:03:22+08:00">2019-05-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/cfec354f/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/cfec354f/" data-xid="/JavaReadingNotes/cfec354f/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.6k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-8-DML语句语法-2-update语句"><a href="#13-2-8-DML语句语法-2-update语句" class="headerlink" title="13.2.8 DML语句语法 2.update语句"></a>13.2.8 DML语句语法 2.update语句</h1><p><strong><code>update</code>语句用于修改数据表的记录，每次可以修改多条记录</strong>，<strong>通过使用<code>where</code>子句限定修改哪些记录</strong>。<code>where</code>子句是一个条件表达式，该条件表达式类似于<code>Java</code>语言的<code>if</code>，只有符合该条件的记录才会被修改。<strong>没有<code>where</code>子句则意味着<code>where</code>表达式的值总是<code>true</code>，即该表的所有记录都会被修改</strong>。</p>
<h2 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h2><p><code>update</code>语句的语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">update table_name</span><br><span class="line"><span class="keyword">set</span> column1<span class="operator">=</span><span class="keyword">value</span> [,column2<span class="operator">=</span>value2,...]</span><br><span class="line">[<span class="keyword">where</span> <span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure>
<p>使用<code>update</code>语句不仅可以一次修改多条记录，也可以一次修改多列。修改多列都是通过在<code>set</code>关键字后使用<code>column1=value1,column2=value2…</code>来实现的,修改多列的值之间以英文逗号(<code>,</code>)隔开。</p>
<h2 id="更新列中的所有内容"><a href="#更新列中的所有内容" class="headerlink" title="更新列中的所有内容"></a>更新列中的所有内容</h2><p>下面的<code>SQL</code>语句将会把<code>teacher_table2</code>表中所有记录的<code>teacher_name</code>列的值都改为<code>&#39;孙悟空&#39;</code>。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">update teacher_table2</span><br><span class="line"><span class="keyword">set</span> teacher_name<span class="operator">=</span><span class="string">&#x27;孙悟空&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>运行效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | xyz          |</span><br><span class="line">|          <span class="number">2</span> | abx          |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; update teacher_table2</span><br><span class="line"><span class="built_in">set</span> teacher_name=&#x27;孙悟空&#x27;;</span><br><span class="line">Query OK, <span class="number">2</span> rows affected</span><br><span class="line">Rows matched: <span class="number">2</span>  Changed: <span class="number">2</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 孙悟空       |</span><br><span class="line">|          <span class="number">2</span> | 孙悟空       |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h2 id="更新指定记录"><a href="#更新指定记录" class="headerlink" title="更新指定记录"></a>更新指定记录</h2><p>也可以通过添加<code>where</code>条件来指定只修改特定记录，如下<code>SQL</code>语句所示:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">update teacher_table2</span><br><span class="line"><span class="keyword">set</span> teacher_name<span class="operator">=</span><span class="string">&#x27;美猴王&#x27;</span></span><br><span class="line"><span class="keyword">where</span> teacher_id<span class="operator">&gt;=</span><span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>运行效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 孙悟空       |</span><br><span class="line">|          <span class="number">2</span> | 孙悟空       |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; update teacher_table2</span><br><span class="line"><span class="built_in">set</span> teacher_name=&#x27;美猴王&#x27;</span><br><span class="line">where teacher_id&gt;=<span class="number">2</span>;</span><br><span class="line">Query OK, <span class="number">1</span> row affected</span><br><span class="line">Rows matched: <span class="number">1</span>  Changed: <span class="number">1</span>  Warnings: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 孙悟空       |</span><br><span class="line">|          <span class="number">2</span> | 美猴王       |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/ac781fff/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/ac781fff/" class="post-title-link" itemprop="url">13.2.8 DML语句语法 1.insert into语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-24 02:29:26" itemprop="dateCreated datePublished" datetime="2019-05-24T02:29:26+08:00">2019-05-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/ac781fff/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/ac781fff/" data-xid="/JavaReadingNotes/ac781fff/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>9.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>9 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-8-DML语句语法"><a href="#13-2-8-DML语句语法" class="headerlink" title="13.2.8 DML语句语法"></a>13.2.8 DML语句语法</h1><p>与<code>DDL</code>操作数据库对象不同，<code>DML</code>主要操作数据表里的数据，使用<code>DML</code>可以完成如下三个任务。</p>
<ul>
<li>插入新数据(<code>insert into)</code></li>
<li>修改已有数据(<code>update)</code></li>
<li>删除不需要的数据(<code>delete from)</code></li>
</ul>
<h1 id="1-insert-into语句"><a href="#1-insert-into语句" class="headerlink" title="1.insert into语句"></a>1.insert into语句</h1><p><code>insert into</code>用于向指定数据表中插入记录。对于标准的<code>SQL</code>语句而言，每次只能插入一条记录。<code>insert into</code>语句的语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 [(属性<span class="number">1</span>名[,属性<span class="number">2</span>名,...])]</span><br><span class="line"><span class="keyword">values</span> (属性<span class="number">1</span>值 [,属性<span class="number">2</span>值,...])</span><br></pre></td></tr></table></figure>
<p>执行插入操作时，<strong>表名后可以用括号列出所有需要插入值的列名，而<code>values</code>后用括号列出对应需要插入的值</strong>。</p>
<p>如<strong>果省略了表名后面的括号及括号里的列名列表</strong>，默认将为所有列都插入值，<strong>则需要为每一列都指定一个值</strong>。如果既不想在表名后列出列名，又不想为所有列都指定值，则可以为那些无法确定值的列分配<code>null</code>。下面的<code>SQL</code>语句示范了如何向数据表中插入记录。</p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>要先创建表然后才可以向数据表中插入记录。下面的<code>SQL</code>语句以前面介绍外键约束时所创建的<code>teacher_table2</code>和<code>student_table2</code>为例来介绍数据插入操作。</p>
<blockquote>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `teacher_table2` (</span><br><span class="line">`teacher_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">`teacher_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line"> <span class="keyword">PRIMARY</span> KEY (`teacher_id`)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="插入指定列"><a href="#插入指定列" class="headerlink" title="插入指定列"></a>插入指定列</h2><p>在表名后使用括号列出所有需要插入值的列：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher_table2(teacher_name)</span><br><span class="line"><span class="keyword">values</span>(<span class="string">&#x27;xyz&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>这种方式关键在于可以插入部分列的值,其他列使用默认值.</p>
<h2 id="插入所有列"><a href="#插入所有列" class="headerlink" title="插入所有列"></a>插入所有列</h2><p>如果不想在表后用括号列出所有列，则<strong>需要为所有列指定值</strong>；如果某列的值不能确定，则为该列分配一个<code>null</code>值。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher_table2</span><br><span class="line"><span class="keyword">values</span>(<span class="keyword">null</span>,<span class="string">&#x27;abx&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>使用这种方式,<strong>必须给所有列赋值</strong>,也就是说下面的写法是错误的:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher_table2</span><br><span class="line"><span class="keyword">values</span>(<span class="string">&#x27;abx&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>虽然第一列是<code>MySQL</code>自己生成的,虽然我们传入的<code>null</code>这个值没有用到,但是这个<code>null</code>相当于一个占位符,不过既然是占位符,那把<code>null</code>换成其他的也是可以的,例如这里不使用<code>null</code>占位,而是使用空字符串占位也是可以的,如下所示:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher_table2 <span class="keyword">values</span>(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;haha&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>插入效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | xyz          |</span><br><span class="line">|          <span class="number">2</span> | abx          |</span><br><span class="line">|          <span class="number">3</span> | abx          |</span><br><span class="line">|          <span class="number">4</span> | abx          |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">4</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; insert into teacher_table2 values(&#x27;&#x27;,&#x27;haha&#x27;);</span><br><span class="line">Query OK, <span class="number">1</span> row affected</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | xyz          |</span><br><span class="line">|          <span class="number">2</span> | abx          |</span><br><span class="line">|          <span class="number">3</span> | abx          |</span><br><span class="line">|          <span class="number">4</span> | abx          |</span><br><span class="line">|          <span class="number">5</span> | haha         |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">5</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="插入主表"><a href="#插入主表" class="headerlink" title="插入主表"></a>插入主表</h3><p>经过两条插入语句后，可以看到<code>teacher_table2</code>表中的数据如下所示.</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into teacher_table2(teacher_name)</span><br><span class="line">values(&#x27;xyz&#x27;);</span><br><span class="line">Query OK, <span class="number">1</span> row affected</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into teacher_table2</span><br><span class="line">values(null,&#x27;abx&#x27;);</span><br><span class="line">Query OK, <span class="number">1</span> row affected</span><br><span class="line"></span><br><span class="line">mysql&gt; select *from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | xyz          |</span><br><span class="line">|          <span class="number">2</span> | abx          |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">2</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<p>可以看到<code>abc</code>记录的主键列的值是2，而不是<code>SQL</code>语句插入的<code>null</code>，因为该主键列是自增长的，系统会自动为该列分配值。</p>
<h4 id="自动增长列不需要赋值"><a href="#自动增长列不需要赋值" class="headerlink" title="自动增长列不需要赋值"></a>自动增长列不需要赋值</h4><p>自动增长列不需要赋值,就算你赋值了,也是不起作用的,例如,下面再插入一条记录:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> teacher_table2</span><br><span class="line"><span class="keyword">values</span>(<span class="string">&#x27;aaa&#x27;</span>,<span class="string">&#x27;abx&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>然后再次显示表:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | xyz          |</span><br><span class="line">|          <span class="number">2</span> | abx          |</span><br><span class="line">|          <span class="number">3</span> | abx          |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<p>可以看到第三行的第一列的值是<code>3</code>,而不是我们填入的<code>&#39;aaa&#39;</code>这个字符串.因此<strong>没必要给自动增长列赋值</strong>。</p>
<h3 id="向从表插入数据"><a href="#向从表插入数据" class="headerlink" title="向从表插入数据"></a>向从表插入数据</h3><blockquote>
<p><strong>从表:定义外键的表</strong></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `student_table2` (</span><br><span class="line">  `student_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `student_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `java_teacher` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`student_id`),</span><br><span class="line">  KEY `student_teacher_fk` (`java_teacher`),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `student_teacher_fk`</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (`java_teacher`)</span><br><span class="line">        <span class="keyword">REFERENCES</span> `teacher_table2` (`teacher_id`)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>根据前面介绍的外键约束规则：外键列里的值必须是被参照列里已有的值，**所以向从表中插入记录之前，通常应该先向主表中插入记录，否则从表记录的外键列只能为<code>null</code>**。现在主表<code>teacher_table2</code>中已有了2条记录，现在可以向从表<code>student_table2</code>中插入记录了，如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student_table2</span><br><span class="line"><span class="keyword">values</span>(<span class="keyword">null</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>需要注意的是第三列<code>java_teacher</code>的值,这个值必须在<code>teacher_table2</code>表中的<code>teacher_id</code>列中存在.如果不存在则插入错误,现在插入一个错误的数据如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student_table2</span><br><span class="line"><span class="keyword">values</span>(<span class="keyword">null</span>,<span class="string">&#x27;张三&#x27;</span>,<span class="number">7</span>);</span><br></pre></td></tr></table></figure>
<p>运行结果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | xyz          |</span><br><span class="line">|          <span class="number">2</span> | abx          |</span><br><span class="line">|          <span class="number">3</span> | abx          |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; insert into student_table2</span><br><span class="line">values(null,&#x27;张三&#x27;,<span class="number">7</span>);</span><br><span class="line"><span class="number">1452</span> - Cannot add or update a child row: a foreign key constraint fails (`test_engine`.`student_table2`, CONSTRAINT `student_teacher_fk` FOREIGN KEY (`java_teacher`) REFERENCES `teacher_table2` (`teacher_id`))</span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure>
<h2 id="设置外键不能插入null"><a href="#设置外键不能插入null" class="headerlink" title="设置外键不能插入null"></a>设置外键不能插入null</h2><p>外键约束保证被参照的记录必须存在，但并不保证必须有被参照记录，即外键列可以为<code>null</code>。<strong>如果想保证每条从表记录必须存在对应的主表记录，则应使用<code>非空</code>、<code>外键</code>两个约束</strong>。</p>
<h2 id="带子查询的插入语句"><a href="#带子查询的插入语句" class="headerlink" title="带子查询的插入语句"></a>带子查询的插入语句</h2><p>在一些特别的情况下，可以使用带子查询的插入语句，带子查询的插入语句可以一次插入多条记录，如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">inser <span class="keyword">into</span> student_table2(student_name)</span><br><span class="line"><span class="keyword">select</span> teacher_name <span class="keyword">from</span> teacher_table2;</span><br></pre></td></tr></table></figure>
<p>运行结果如下所示:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 张三         |            <span class="number">2</span> |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line">mysql&gt; select * from teacher_table2;</span><br><span class="line">+------------+--------------+</span><br><span class="line">| teacher_id | teacher_name |</span><br><span class="line">+------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | xyz          |</span><br><span class="line">|          <span class="number">2</span> | abx          |</span><br><span class="line">|          <span class="number">3</span> | abx          |</span><br><span class="line">+------------+--------------+</span><br><span class="line"><span class="number">3</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; insert into student_table2(student_name)</span><br><span class="line">select teacher_name from teacher_table2;</span><br><span class="line">Query OK, <span class="number">3</span> rows affected</span><br><span class="line"><span class="function">Records: 3  <span class="title">Duplicates</span>: 0  <span class="title">Warnings</span>: 0</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">mysql</span>&gt; <span class="title">select</span> * <span class="title">from</span> <span class="title">student_table2</span>;</span></span><br><span class="line"><span class="function">+------------+--------------+--------------+</span></span><br><span class="line"><span class="function">| <span class="title">student_id</span> | <span class="title">student_name</span> | <span class="title">java_teacher</span> |</span></span><br><span class="line"><span class="function">+------------+--------------+--------------+</span></span><br><span class="line"><span class="function">|          1 | 张三         |            2 |</span></span><br><span class="line"><span class="function">|          9 | <span class="title">xyz</span>          | <span class="title">NULL</span>         |</span></span><br><span class="line"><span class="function">|         10 | <span class="title">abx</span>          | <span class="title">NULL</span>         |</span></span><br><span class="line"><span class="function">|         11 | <span class="title">abx</span>          | <span class="title">NULL</span>         |</span></span><br><span class="line"><span class="function">+------------+--------------+--------------+</span></span><br><span class="line"><span class="function">4 <span class="title">rows</span> <span class="title">in</span> <span class="title">set</span></span></span><br><span class="line"><span class="function"><span class="title">mysql</span>&gt; </span></span><br></pre></td></tr></table></figure>
<p>这里的自动增长列没有从2开始,是因为我有好几条<code>insert</code>语句插入失败了,但是<strong>自动增长列可不管你插入是否成功,它只知道你使用一次<code>insert</code>语句,它就加一</strong></p>
<h3 id="子查询插入要求"><a href="#子查询插入要求" class="headerlink" title="子查询插入要求"></a>子查询插入要求</h3><p>正如上面的<code>SQL</code>语句所示，带子查询的插入语句甚至不要求查询数据的源表和插入数据的目的表是同一个表，它<strong>只要求子查询选择出来的数据列和插入目的表的数据<code>列个数相等</code>、<code>数据类型匹配</code>即可</strong>。</p>
<h3 id="插入失败自动增长列也会增长"><a href="#插入失败自动增长列也会增长" class="headerlink" title="插入失败自动增长列也会增长"></a>插入失败自动增长列也会增长</h3><p><strong>虽然<code>insert</code>语句插入可能会失败,但是自动增长列依旧会增长。</strong><br>可以通过显示表创建语句来查看自动增长列的值:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> student_table2;</span><br></pre></td></tr></table></figure>
<p>显示效果:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show create table student_table2;</span><br><span class="line">+----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table          | Create Table                                                                                                                                                                                                                                                                                                                                                                                            |</span><br><span class="line">+----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| student_table2 | CREATE TABLE `student_table2` (</span><br><span class="line">  `student_id` int(<span class="number">11</span>) <span class="keyword">NOT</span> NULL AUTO_INCREMENT,</span><br><span class="line">  `student_name` varchar(<span class="number">255</span>) DEFAULT NULL,</span><br><span class="line">  `java_teacher` int(<span class="number">11</span>) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`student_id`),</span><br><span class="line">  KEY `student_teacher_fk` (`java_teacher`),</span><br><span class="line">  CONSTRAINT `student_teacher_fk`</span><br><span class="line">    FOREIGN KEY (`java_teacher`)</span><br><span class="line">        REFERENCES `teacher_table2` (`teacher_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=<span class="number">12</span> DEFAULT CHARSET=utf8 |</span><br><span class="line">+----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<p>可以看到此时自动增长列的值是<code>12</code>,这个值表示下次插入语句时<code>MySQL</code>填给自动增长列的值.<br>现在故意输错一个<code>insert</code>语句,然后再次查看自动增长列的值,如下所示:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into student_table2 values(null,&#x27;插不进&#x27;,<span class="number">8</span>);</span><br><span class="line"><span class="number">1452</span> - Cannot add or update a child row: a foreign key constraint fails (`test_engine`.`student_table2`, CONSTRAINT `student_teacher_fk` FOREIGN KEY (`java_teacher`) REFERENCES `teacher_table2` (`teacher_id`))</span><br><span class="line">mysql&gt; show create table student_table2;</span><br><span class="line">+----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| Table          | Create Table                                                                                                                                                                                                                                                                                                                                                                                            |</span><br><span class="line">+----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line">| student_table2 | CREATE TABLE `student_table2` (</span><br><span class="line">  `student_id` int(<span class="number">11</span>) <span class="keyword">NOT</span> NULL AUTO_INCREMENT,</span><br><span class="line">  `student_name` varchar(<span class="number">255</span>) DEFAULT NULL,</span><br><span class="line">  `java_teacher` int(<span class="number">11</span>) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`student_id`),</span><br><span class="line">  KEY `student_teacher_fk` (`java_teacher`),</span><br><span class="line">  CONSTRAINT `student_teacher_fk`</span><br><span class="line">    FOREIGN KEY (`java_teacher`)</span><br><span class="line">        REFERENCES `teacher_table2` (`teacher_id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=<span class="number">13</span> DEFAULT CHARSET=utf8 |</span><br><span class="line">+----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="line"><span class="number">1</span> row <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<p><strong>可以看到虽然插入失败了,但是自动增长列还是自动加一</strong>,此时下一个自动增长列的值默认为13,如下所示:</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 张三         |            <span class="number">2</span> |</span><br><span class="line">|          <span class="number">9</span> | xyz          | NULL         |</span><br><span class="line">|         <span class="number">10</span> | abx          | NULL         |</span><br><span class="line">|         <span class="number">11</span> | abx          | NULL         |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line"><span class="number">4</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">mysql&gt; insert into student_table2 value(null,&#x27;可以插入&#x27;,null);</span><br><span class="line">Query OK, <span class="number">1</span> row affected</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from student_table2;</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">| student_id | student_name | java_teacher |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line">|          <span class="number">1</span> | 张三         |            <span class="number">2</span> |</span><br><span class="line">|          <span class="number">9</span> | xyz          | NULL         |</span><br><span class="line">|         <span class="number">10</span> | abx          | NULL         |</span><br><span class="line">|         <span class="number">11</span> | abx          | NULL         |</span><br><span class="line">|         <span class="number">13</span> | 可以插入     | NULL         |</span><br><span class="line">+------------+--------------+--------------+</span><br><span class="line"><span class="number">5</span> rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/e521b65e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/e521b65e/" class="post-title-link" itemprop="url">13.2.7 视图</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-24 02:13:59" itemprop="dateCreated datePublished" datetime="2019-05-24T02:13:59+08:00">2019-05-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/e521b65e/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/e521b65e/" data-xid="/JavaReadingNotes/e521b65e/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>915</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-7-视图"><a href="#13-2-7-视图" class="headerlink" title="13.2.7 视图"></a>13.2.7 视图</h1><p>视图看上去非常像一个数据表，但它不是数据表，因为它并不能存储数据。<strong>视图只是一个或多个数据表中数据的逻辑显示</strong>。</p>
<h2 id="使用视图的好处"><a href="#使用视图的好处" class="headerlink" title="使用视图的好处"></a>使用视图的好处</h2><p>使用视图有如下几个好处。</p>
<ul>
<li>可以限制对数据的访问。</li>
<li>可以使复杂的查询变得简单。</li>
<li>提供了数据的独立性。</li>
<li>提供了对相同数据的不同显示。</li>
</ul>
<h2 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h2><p>因为视图只是数据表中数据的逻辑显示——也就是一个查询结果，所以<strong>创建视图就是建立视图名和查询语句的关联</strong>。创建视图的语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">of</span> replace <span class="keyword">view</span> 视图名</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line">subquery</span><br></pre></td></tr></table></figure>
<p>从上面的语法可以看出，创建、修改视图都可使用上面语法。上面语法的含义是，如果该视图不存在，则创建视图；如果指定视图名的视图已经存在，则使用新视图替换原有视图。后面的<code>subquery</code>就是一个查询语句，这个查询可以非常复杂。</p>
<h2 id="视图的本质"><a href="#视图的本质" class="headerlink" title="视图的本质"></a>视图的本质</h2><p>通过建立视图的语法规则不难看出，所谓<strong>视图的本质，其实就是一条被命名的SQL查询语句</strong>。</p>
<h2 id="通常只查询视图"><a href="#通常只查询视图" class="headerlink" title="通常只查询视图"></a>通常只查询视图</h2><p>一旦建立了视图以后，使用该视图与使用数据表就没有什么区别了，但通常只是查询视图数据，不会修改视图里的数据，因为视图本身没有存储数据。</p>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>如下SQL语句就创建了一个简单的视图：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> view_test</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> teacher_name,teacher_pass</span><br><span class="line"><span class="keyword">from</span> teacher_table</span><br></pre></td></tr></table></figure>
<h2 id="强制不允许修改视图的数据"><a href="#强制不允许修改视图的数据" class="headerlink" title="强制不允许修改视图的数据"></a>强制不允许修改视图的数据</h2><p>通常不推荐直接改变视图的数据，因为视图并不存储数据，它只是相当于一条命名的查询语句而已。为了强制不允许改变视图的数据，<code>MySQL</code>允许在创建视图时使用<code>with check option</code>子句，使用该子句创建的视图不允许修改，如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> view_test</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> teacher_name form teacher_table</span><br><span class="line"><span class="keyword">with</span> <span class="keyword">check</span> option</span><br></pre></td></tr></table></figure>
<h3 id="数据库区别"><a href="#数据库区别" class="headerlink" title="数据库区别"></a>数据库区别</h3><p>大部分数据库都采用<code>with check option</code>来强制不允许修改视图的数据，但<code>Oracle</code>采用<code>with read only</code>来强制不允许修改视图的数据。</p>
<h2 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h2><p>删除视图使用如下语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> 视图名</span><br></pre></td></tr></table></figure>
<p>如下SQL语句删除了前面刚刚创建的视图：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span>  view_test;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/a6b49a0b/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/a6b49a0b/" class="post-title-link" itemprop="url">13.2.6 索引</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-23 22:47:24" itemprop="dateCreated datePublished" datetime="2019-05-23T22:47:24+08:00">2019-05-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/a6b49a0b/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/a6b49a0b/" data-xid="/JavaReadingNotes/a6b49a0b/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-6-索引"><a href="#13-2-6-索引" class="headerlink" title="13.2.6 索引"></a>13.2.6 索引</h1><p><strong>索引是存放在模式（schema）中的一个数据库对象</strong>，虽然索引总是从属于数据表，但它也和数据表一样属于数据库对象。<strong>创建索引的唯一作用就是加速对表的查询</strong>，索引通过使用快速路径访问方法来快速定位数据，从而减少了磁盘的I/O。<br>索引作为数据库对象，在数据字典中独立存放，但不能独立存在，<strong>必须属于某个表</strong>。</p>
<h2 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h2><p><code>MySQL</code>使用<code>information_schema</code>数据库里的<code>STATISTICS</code>表来保存该数据库实例中的所有索引信息，用户可通过查询该表来获取该数据库的索引信息。</p>
<h2 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h2><p>创建索引有两种方式。<br>自动：当在表上定义主键约束、唯一约束和外键约束时，系统会为该数据列自动创建对应的索引。<br>手动：用户可以通过<code>create index...</code>语句来创建索引。</p>
<h2 id="删除索引"><a href="#删除索引" class="headerlink" title="删除索引"></a>删除索引</h2><p>删除索引也有两种方式。<br>自动：数据表被删除时，该表上的索引自动被删除。<br>手动：用户可以通过<code>drop index...</code>语句来删除指定数据表上的指定索引。</p>
<p>一个表中可以有多个索引列，<strong>每个索引都可用于加速该列的查询速度</strong>。</p>
<h2 id="手动创建索引"><a href="#手动创建索引" class="headerlink" title="手动创建索引"></a>手动创建索引</h2><p>通常为经常需要查询的数据列建立索引，可以在一列或者多列上创建索引。创建索引的语法格式如下：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create index 索引名称</span><br><span class="line">on 表名 (column[,coulumn]...);</span><br></pre></td></tr></table></figure>
<h3 id="单列索引"><a href="#单列索引" class="headerlink" title="单列索引"></a>单列索引</h3><p>下面的索引将会提高对<code>employees</code>表基于<code>last_name</code>字段的查询速度。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index emp_last_name_idx</span><br><span class="line"><span class="keyword">on</span> employees(last_name);</span><br></pre></td></tr></table></figure>
<h3 id="多列索引"><a href="#多列索引" class="headerlink" title="多列索引"></a>多列索引</h3><p>也可同时对多列建立索引，如下SQL语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index emp_last_name_idx2</span><br><span class="line"><span class="keyword">on</span> employees(first_name,last_name);</span><br></pre></td></tr></table></figure>
<h3 id="删除索引-1"><a href="#删除索引-1" class="headerlink" title="删除索引"></a>删除索引</h3><p>MySQL中删除索引需要指定表，采用如下语法格式：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> index 索引名 <span class="keyword">on</span> 表名</span><br></pre></td></tr></table></figure>
<p>如下<code>SQL</code>语句删除了<code>employees</code>表上的<code>emp_last_name_idx2</code>索引：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> index emp_last_name_idx2</span><br><span class="line"><span class="keyword">on</span> employees</span><br></pre></td></tr></table></figure>
<p>有些数据库删除索引时无须指定表名，因为它们要求建立索引时每个索引都有唯一的名字，所以无须指定表名，例如Oracle就采用这种策略。但MySQL只要求同一个表内的索引不能同名，所以删除索引时必须指定表名。</p>
<h2 id="索引优缺点"><a href="#索引优缺点" class="headerlink" title="索引优缺点"></a>索引优缺点</h2><p>索引的好处是可以加速查询,但索引也有如下两个坏处。</p>
<ul>
<li>当数据表中的记录被添加、删除、修改时，数据库系统需要维护索引，因此有一定的系统开销。</li>
<li>存储索引信息需要一定的磁盘空间。</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/c89ede6a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/c89ede6a/" class="post-title-link" itemprop="url">13.2.5 数据库约束 5.check约束</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-23 22:35:20" itemprop="dateCreated datePublished" datetime="2019-05-23T22:35:20+08:00">2019-05-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/c89ede6a/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/c89ede6a/" data-xid="/JavaReadingNotes/c89ede6a/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>328</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-5-数据库约束-5-CHECK约束"><a href="#13-2-5-数据库约束-5-CHECK约束" class="headerlink" title="13.2.5 数据库约束 5.CHECK约束"></a>13.2.5 数据库约束 5.CHECK约束</h1><p>当前版本的<code>MySQL</code>支持建表时指定<code>CHECK</code>约束，但这个<code>CHECK</code>约束不会有任何作用。建立<code>CHECK</code>约束的语法很简单，只要在建表的列定义后增加<code>check(逻辑表达式)</code>即可。如下<code>SQL</code>语句所示：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table check_test</span><br><span class="line">(</span><br><span class="line">    emp_id int auto_increment,</span><br><span class="line">    emp_name varchar(<span class="number">255</span>),</span><br><span class="line">    emp_salary key(emp_id),</span><br><span class="line">    primary key(emp_id),</span><br><span class="line">    check(emp_salary&gt;<span class="number">0</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>虽然上面的<code>SQL</code>语句建立的<code>check_test</code>表中有<code>CHECK</code>约束，<code>CHECK</code>约束要求<code>emp_salary</code>大于0，但这个要求实际上并不会起作用。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/802c3714/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/802c3714/" class="post-title-link" itemprop="url">13.2.5 数据库约束 4.foreign key约束</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-23 21:44:39" itemprop="dateCreated datePublished" datetime="2019-05-23T21:44:39+08:00">2019-05-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/802c3714/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/802c3714/" data-xid="/JavaReadingNotes/802c3714/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-5-数据库约束-4-FOREIGN-KEY约束"><a href="#13-2-5-数据库约束-4-FOREIGN-KEY约束" class="headerlink" title="13.2.5 数据库约束 4.FOREIGN KEY约束"></a>13.2.5 数据库约束 4.FOREIGN KEY约束</h1><p><strong>外键约束主要用于保证一个或两个数据表之间的参照完整性</strong></p>
<h3 id="从表"><a href="#从表" class="headerlink" title="从表"></a>从表</h3><p><strong>增加外键列的表被称为从表</strong>，只要为外键列增加唯一约束就可表示一对一的关联关系了。<br>外键是构建于一个表的两个字段或者两个表的两个字段之间的参照关系。外键确保了相关的两个字段的参照关系：子（从）表外键列的值必须在主表被参照列的值范围之内，或者为空（也可以通过非空约束来约束外键列不允许为空）。</p>
<p>当主表的记录被从表记录参照时，主表记录不允许被删除，<strong>必须先把从表里参照该记录的所有记录全部删除后，才可以删除主表的该记录</strong>。<strong>还有一种方式，删除主表记录时级联删除从表中所有参照该记录的从表记录</strong>。<br><strong>从表外键参照的只能是主表主键列或者唯一键列</strong>，这样才可保证从表记录可以准确定位到被参照的主表记录。同一个表内可以拥有多个外键。<br><strong>建立外键约束时，<code>MySQL</code>也会为该列建立索引。</strong></p>
<h2 id="如何确定外键设置的位置"><a href="#如何确定外键设置的位置" class="headerlink" title="如何确定外键设置的位置"></a>如何确定外键设置的位置</h2><p><strong>外键约束通常用于定义两个实体之间的一对多、一对一的关联关系</strong>。</p>
<h3 id="一对多关联关系"><a href="#一对多关联关系" class="headerlink" title="一对多关联关系"></a>一对多关联关系</h3><p><strong>对于一对多的关联关系，通常在多的一端增加外键列，</strong><br>例如老师—学生（假设一个老师对应多个学生，但每个学生只有一个老师，这是典型的一对多的关联关系）。为了建立他们之间的关联关系，<strong>可以在学生表中增加一个外键列，该列中保存此条学生记录对应老师的主键</strong>。</p>
<h3 id="一对一关联关系"><a href="#一对一关联关系" class="headerlink" title="一对一关联关系"></a>一对一关联关系</h3><p><strong>对于一对一的关联关系，则可选择任意一方来增加外键列</strong>，</p>
<h3 id="多对多联系"><a href="#多对多联系" class="headerlink" title="多对多联系"></a>多对多联系</h3><p>对于多对多的关联关系，则需要额外增加一个连接表来记录它们的关联关系。</p>
<h2 id="外键约束写在哪里"><a href="#外键约束写在哪里" class="headerlink" title="外键约束写在哪里"></a>外键约束写在哪里</h2><p>建立外键约束同样可以采用列级约束语法和表级约束语法。如果仅对单独的数据列建立外键约束，则使用列级约束语法即可；如果需要对多列组合创建外键约束，或者需要为外键约束指定名字，则必须使用表级约束语法。</p>
<h3 id="列级约束语法建立外键约束"><a href="#列级约束语法建立外键约束" class="headerlink" title="列级约束语法建立外键约束"></a>列级约束语法建立外键约束</h3><p>采用列级约束语法建立外键约束直接使用<code>references</code>关键字，<code>references</code>指定该列参照哪个主表，以及参照主表的哪一列<br>语法格式如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">references</span> 主表(主表的列)</span><br></pre></td></tr></table></figure>
<p>如下SQL语句所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">create table <span class="title">teacher_table</span></span></span><br><span class="line"><span class="function"><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    teacher_id <span class="keyword">int</span> auto_increment,</span></span></span><br><span class="line"><span class="params"><span class="function">    teacher_name varchar(<span class="number">255</span>)</span>,</span></span><br><span class="line"><span class="function">    primary <span class="title">key</span><span class="params">(teacher_id)</span></span></span><br><span class="line"><span class="function">)</span>;</span><br><span class="line"><span class="function">creater table <span class="title">student_table</span></span></span><br><span class="line"><span class="function"><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    student_id <span class="keyword">int</span> auto_increment primary key,</span></span></span><br><span class="line"><span class="params"><span class="function">    student_name varchar(<span class="number">255</span>)</span>,</span></span><br><span class="line"><span class="function">    # 这是一个外键,参照teacher_table表的teacher_id属性</span></span><br><span class="line"><span class="function">    java_teacher <span class="keyword">int</span> references <span class="title">teacher_table</span><span class="params">(teacher_id)</span></span></span><br><span class="line"><span class="function">)</span>;</span><br></pre></td></tr></table></figure>
<h3 id="MySQL中外键约束正确语法"><a href="#MySQL中外键约束正确语法" class="headerlink" title="MySQL中外键约束正确语法"></a>MySQL中外键约束正确语法</h3><p>值得指出的是，虽然<code>MySQL</code>支持使用列级约束语法来建立外键约束，但这种<strong>列级约束语法建立的外键约束不会生效</strong>，<code>MySQL</code>提供这种列级约束语法仅仅是为了和标准<code>SQL</code>保持良好的兼容性。因此，<strong>如果要使<code>MySQL</code>中的外键约束生效，则应使用表级约束语法,也就是要写在表定义的后面,不要写在列定于中</strong>,如下所示:。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher_table1</span><br><span class="line">(</span><br><span class="line">    teacher_id <span class="type">int</span> auto_increment,</span><br><span class="line">    teacher_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">primary</span> key(teacher_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student_table</span><br><span class="line">(</span><br><span class="line">    student_id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key,</span><br><span class="line">    student_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    java_teacher <span class="type">int</span>,</span><br><span class="line">    #指定java_teacher参照到teacher_table1的teacher_id列</span><br><span class="line">    <span class="keyword">foreign</span> key(java_teacher)</span><br><span class="line">        referenses teacher_table1(teacher_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><strong>如果使用表级约束语法，则需要使用<code>foreign key</code>来指定本表的外键列，并使用<code>references</code>来指定参照哪个主表，以及参照到主表的哪个数据列</strong>。<br>格式如下所示:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreign</span> key(本表中的列名) referenses 主表名(主表的列明)</span><br></pre></td></tr></table></figure>
<p>使用表级约束语法可以为外键约束指定约束名，如果创建外键约束时没有指定约束名，则<code>MySQL</code>会为该外键约束命名为<code>table_name_ibfk_n</code>，其中<code>table_name</code>是从表的表名，而<code>n</code>是从<code>1</code>开始的整数。</p>
<h2 id="指定外键约束的名字"><a href="#指定外键约束的名字" class="headerlink" title="指定外键约束的名字"></a>指定外键约束的名字</h2><p>如果需要显式指定外键约束的名字，则可使用<code>constraint</code>来指定名字。如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher_table2</span><br><span class="line">(</span><br><span class="line">    teacher_id <span class="type">int</span> auto_increment,</span><br><span class="line">    teacher_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">primary</span> key(teacher_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student_table2</span><br><span class="line">(</span><br><span class="line">    student_id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key,</span><br><span class="line">    student_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    java_teacher <span class="type">int</span>,</span><br><span class="line">    <span class="keyword">constraint</span> student_teacher_fk <span class="keyword">foreign</span> key(java_teacher)</span><br><span class="line">        <span class="keyword">references</span> teacher_table2(teacher_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="组合外键"><a href="#组合外键" class="headerlink" title="组合外键"></a>组合外键</h2><p>如果需要建立多列组合的外键约束，则必须使用表级约束语法，如下SQL语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher_table3</span><br><span class="line">(</span><br><span class="line">    teacher_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    teacher_pass <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    # 以两个键作为主键</span><br><span class="line">    <span class="keyword">primary</span> key(teacher_id,teacher_pass)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student_table3</span><br><span class="line">(</span><br><span class="line">    student_id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key,</span><br><span class="line">    student_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    java_teacher_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    java_teacher_pass <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    # 指定两列的联合外键</span><br><span class="line">    <span class="keyword">foreign</span> key(java_teacher_name,java_teacher_pass)</span><br><span class="line">        referenses teacher_table3(teacher_name,teacher_pass)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="删除外键约束"><a href="#删除外键约束" class="headerlink" title="删除外键约束"></a>删除外键约束</h2><p>删除外键约束的语法很简单，在<code>alter table</code>后增加“<code>drop foreign key 约束名</code>”子句即可。如下代码所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student_table3</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">foreign</span> key student_table3_ibfk_i;</span><br></pre></td></tr></table></figure>
<h2 id="增加外键约束"><a href="#增加外键约束" class="headerlink" title="增加外键约束"></a>增加外键约束</h2><p>增加外键约束通常使用<code>add foreign key</code>命令。如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> student_table3</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">foreign</span> key(java_teacher_name,java_teacher_pass)</span><br><span class="line">    <span class="keyword">references</span> teacher_table3(teacher_name,teacher_pass);</span><br></pre></td></tr></table></figure>
<h2 id="自关联"><a href="#自关联" class="headerlink" title="自关联"></a>自关联</h2><p>值得指出的是，外键约束不仅可以参照其他表，而且可以参照自身，这种参照自身的情况通常被称为自关联。例如，使用一个表保存某个公司的所有员工记录，员工之间有部门经理和普通员工之分，部门经理和普通员工之间存在一对多的关联关系，但他们都是保存在同一个数据表里的记录，这就是典型的自关联。下面的<code>SQL</code>语句用于建立自关联的外键约束。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> foreign_test</span><br><span class="line">(</span><br><span class="line">    foreign_id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key,</span><br><span class="line">    foreign_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    #refer_id参照本表的foreign_id列</span><br><span class="line">    refer_id <span class="type">int</span>,</span><br><span class="line">    foregin key(refer_id)</span><br><span class="line">        <span class="keyword">references</span> foreign_test(foreign_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="删除主表记录时从表记录也删除"><a href="#删除主表记录时从表记录也删除" class="headerlink" title="删除主表记录时从表记录也删除"></a>删除主表记录时从表记录也删除</h2><p>如果想定义当删除主表记录时，从表记录也会随之删除，则需要在建立外键约束后添加<code>on delete cascade</code>或添加<code>on delete set null</code>，第一种是删除主表记录时，把参照该主表记录的从表记录全部级联删除；第二种是指定当删除主表记录时，把参照该主表记录的从表记录的外键设为<code>null</code>。如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> teacher_table4</span><br><span class="line">(</span><br><span class="line">    teacher_id <span class="type">int</span> auto_increment,</span><br><span class="line">    teacher_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">primary</span> key(teacher_id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student_table4</span><br><span class="line">(</span><br><span class="line">    student_id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key,</span><br><span class="line">    student_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    java_teacher <span class="type">int</span>,</span><br><span class="line">    <span class="keyword">foreign</span> key(java_teacher)</span><br><span class="line">        <span class="keyword">references</span> teacher_table4(teacher_id)</span><br><span class="line">        <span class="keyword">on</span> <span class="keyword">delete</span> cascade #也可以用<span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">set</span> <span class="keyword">null</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/75a051a3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/75a051a3/" class="post-title-link" itemprop="url">13.2.5 数据库约束 3.primary key约束</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-23 18:09:25" itemprop="dateCreated datePublished" datetime="2019-05-23T18:09:25+08:00">2019-05-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/75a051a3/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/75a051a3/" data-xid="/JavaReadingNotes/75a051a3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-5-数据库约束-3-PRIMARY-KEY约束"><a href="#13-2-5-数据库约束-3-PRIMARY-KEY约束" class="headerlink" title="13.2.5 数据库约束 3.PRIMARY KEY约束"></a>13.2.5 数据库约束 3.PRIMARY KEY约束</h1><p><strong>主键约束相当于非空约束和唯一约束</strong>，即<strong>主键约束的列既不允许出现重复值，也不允许出现null值</strong>；<strong>如果对多列组合建立主键约束，则多列里包含的<code>每一列都不能为空</code>，但只要求这些列<code>组合不能重复</code><strong>。主键列的值可用于唯一地标识表中的一条记录。<br><strong>每一个表中最多允许有一个主键</strong>，但这个主键约束可由多个数据列组合而成，</strong>主键是表中能唯一确定一行记录的字段或字段组合</strong>。<br>建立主键约束时既可使用列级约束语法，也可使用表级约束语法。<strong>如果需要对多个字段建立组合主键约束，则只能使用表级约束语法</strong>。<br>使用表级约束语法来建立约束时，可以为该约束指定约束名。但不管用户是否为该主键约束指定约束名，<code>MySQL</code>总是将所有的主键约束命名为<code>PRIMARY</code>。<br><strong>提示：</strong><br><code>MySQL</code>允许在建立主键约束时为该约束命名，但这个名字没有任何作用，这是为了保持与标准<code>SQL</code>的兼容性。大部分数据库都允许自行指定主键约束的名字，而且一旦指定了主键约束名，则该约束名就是用户指定的名字。<br>当创建主键约束时，<code>MySQL</code>在主键约束所在列或列组合上建立对应的唯一索引。<br>创建主键约束的语法和创建唯一约束的语法非常像，一样允许使用列级约束语法为单独的数据列创建主键，如果需要为多列组合建立主键约束或者需要为主键约束命名，则应该使用表级约束语法来建立主键约束。与建立唯一约束不同的是，建立主键约束使用<code>primary key</code>。</p>
<h2 id="列级别约束创建主键约束"><a href="#列级别约束创建主键约束" class="headerlink" title="列级别约束创建主键约束"></a>列级别约束创建主键约束</h2><p>建表时创建主键约束，使用列级约束语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> primary_test</span><br><span class="line">(</span><br><span class="line">    test_id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    test_name <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="表级别约束创建主键约束"><a href="#表级别约束创建主键约束" class="headerlink" title="表级别约束创建主键约束"></a>表级别约束创建主键约束</h2><p>建表时创建主键约束，使用表级约束语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> primary_test2</span><br><span class="line">(</span><br><span class="line">    test_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    test_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    test_pass <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    # 指定主键约束名为test2_pk,对大部分数据库有效,但对MySQL无效</span><br><span class="line">    <span class="keyword">constraint</span> test2_pk <span class="keyword">primary</span> key(test_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="组合主键"><a href="#组合主键" class="headerlink" title="组合主键"></a>组合主键</h2><p>建表时创建主键约束，以多列建立组合主键，只能使用表级约束语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> primary_test3</span><br><span class="line">(</span><br><span class="line">    test_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    test_pass <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    # 建立多列组合的主键约束</span><br><span class="line">    <span class="keyword">primary</span> key(test_name,test_pass)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="删除主键约束"><a href="#删除主键约束" class="headerlink" title="删除主键约束"></a>删除主键约束</h2><p>如果需要删除指定表的主键约束，则在<code>alter table</code>语句后使用<code>drop primary key</code>子句即可。<code>SQL</code>语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> primary_test3</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">primary</span> key;</span><br></pre></td></tr></table></figure>
<h2 id="增加主键约束"><a href="#增加主键约束" class="headerlink" title="增加主键约束"></a>增加主键约束</h2><p>如果需要为指定表增加主键约束，<strong>既可通过<code>modify</code>修改列定义来增加主键约束</strong>，这将采用列级约束语法来增加主键约束；<strong>也可通过<code>add</code>来增加主键约束</strong>，这将采用表级约束语法来增加主键约束。<code>SQL</code>语句如下：</p>
<h3 id="通过add添加主键约束"><a href="#通过add添加主键约束" class="headerlink" title="通过add添加主键约束"></a>通过add添加主键约束</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> primary_test3</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">primary</span> key(test_name,test_pass);</span><br></pre></td></tr></table></figure>
<h3 id="通过modify添加主键约束"><a href="#通过modify添加主键约束" class="headerlink" title="通过modify添加主键约束"></a>通过modify添加主键约束</h3><p>如果只是为单独的数据列增加主键约束，则可使用<code>modify</code>修改列定义来实现，如下<code>SQL</code>语句所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> primary_test3</span><br><span class="line">modify test_name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">primary</span> key;</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong><br>不要连续执行上面两条<code>SQL</code>语句，因为上面两条<code>SQL</code>语句都是为<code>primary_test3</code>增加主键约束，<strong>而同一个表里最多只能有一个主键约束</strong>，所以连续执行上面两条<code>SQL</code>语句肯定出现错误。为了避免这个问题，可以在成功执行了第一条增加主键约束的<code>SQL</code>语句之后，先将<code>primary_test3</code>里的主键约束删除后再执行第二条增加主键约束的<code>SQL</code>语句。</p>
<h2 id="自动增长列"><a href="#自动增长列" class="headerlink" title="自动增长列"></a>自动增长列</h2><p>很多数据库对主键列都支持一种自增长的特性——如果某个数据列的类型是整型，而且该列作为主键列，则可指定该列具有自增长功能。指定自增长功能通常用于设置逻辑主键列——该列的值没有任何物理意义，仅仅用于标识每行记录。<code>MySQL</code>使用<code>auto_increment</code>来设置自增长，<code>SQL</code>语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> primary_test4</span><br><span class="line">(</span><br><span class="line">    test_id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key,</span><br><span class="line">    test_name <span class="type">varchar</span>(<span class="number">255</span>);</span><br><span class="line">    test_pass <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p><strong>一旦指定了某列具有自增长特性，则向该表插入记录时可不为该列指定值，该列的值由数据库系统自动生成。</strong></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lanlan2017.github.io/JavaReadingNotes/b4c9e8dc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/JavaReadingNotes/images/avatar.gif">
      <meta itemprop="name" content="蓝蓝">
      <meta itemprop="description" content="好好学习，天天向上">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="蓝蓝站点">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/JavaReadingNotes/b4c9e8dc/" class="post-title-link" itemprop="url">13.2.5 数据库约束 2.unique约束</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-05-23 16:05:33" itemprop="dateCreated datePublished" datetime="2019-05-23T16:05:33+08:00">2019-05-23</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-02-07 01:34:56" itemprop="dateModified" datetime="2020-02-07T01:34:56+08:00">2020-02-07</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/" itemprop="url" rel="index"><span itemprop="name">1 疯狂Java讲义 (第4版)</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">第13章 MySQL数据库与JDBC编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/JavaReadingNotes/categories/1-%E7%96%AF%E7%8B%82Java%E8%AE%B2%E4%B9%89-%E7%AC%AC4%E7%89%88/%E7%AC%AC13%E7%AB%A0-MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8EJDBC%E7%BC%96%E7%A8%8B/13-2-SQL%E8%AF%AD%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">13.2 SQL语法</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="far fa-comment"></i>
    </span>
    <span class="post-meta-item-text">Waline：</span>
  
    <a title="waline" href="/JavaReadingNotes/b4c9e8dc/#waline-comments" itemprop="discussionUrl">
      <span class="post-comments-count waline-comment-count" id="/JavaReadingNotes/b4c9e8dc/" data-xid="/JavaReadingNotes/b4c9e8dc/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="13-2-5-数据库约束-2-UNIQUE约束"><a href="#13-2-5-数据库约束-2-UNIQUE约束" class="headerlink" title="13.2.5 数据库约束 2.UNIQUE约束"></a>13.2.5 数据库约束 2.UNIQUE约束</h1><p><strong>唯一约束用于保证指定列或指定列组合<code>不允许出现重复值</code>。虽然唯一约束的列不可以出现重复值，但可以出现多个<code>null</code>值（因为在数据库中<code>null</code>不等于<code>null</code>）</strong>。<br>同一个表内可建多个唯一约束，唯一约束也可由多列组合而成。当为某列创建唯一约束时，<code>MySQL</code>会为该列相应地创建唯一索引。如果不给唯一约束起名，该唯一约束默认与列名相同。<br>唯一约束既可以使用列级约束语法建立，也可以使用表级约束语法建立。<br>如果需要<code>为多列建组合约束</code>，或者需要<code>为唯一约束指定约束名</code>，则<code>只能用表级约束语法</code>。<br>当建立唯一约束时，<code>MySQL</code>在唯一约束所在列或列组合上建立对应的唯一索引。</p>
<h2 id="使用列级约束语法建立唯一约束"><a href="#使用列级约束语法建立唯一约束" class="headerlink" title="使用列级约束语法建立唯一约束"></a>使用列级约束语法建立唯一约束</h2><p>使用列级约束语法建立唯一约束非常简单，只要简单地<strong>在列定义后增加<code>unique</code>关键字即可</strong>。<code>SQL</code>语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> unique_test</span><br><span class="line">(</span><br><span class="line">    test_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    test_name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">unique</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="表级约束语法建立唯一约束"><a href="#表级约束语法建立唯一约束" class="headerlink" title="表级约束语法建立唯一约束"></a>表级约束语法建立唯一约束</h2><p>如果需要为多列组合建立唯一约束，或者想自行指定约束名，则需要使用表级约束语法。表级约束语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">constraint</span> 约束名] 约束定义</span><br></pre></td></tr></table></figure>
<p>上面的表级约束语法格式既可放在<code>create table</code>语句中与列定义并列，也可放在<code>alter table</code>语句中使用<code>add</code>关键字来添加约束。<code>SQL</code>语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> unique_test2</span><br><span class="line">(</span><br><span class="line">    test_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    test_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    test_pass <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    # 使用表级约束语句建立唯一约束</span><br><span class="line">    <span class="keyword">unique</span> (test_name),</span><br><span class="line">    # 使用表级约束语法建立唯一约束，而且指定约束名</span><br><span class="line">    <span class="keyword">constraint</span> test_2uk <span class="keyword">unique</span>(test_pass)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>上面的建表语句为<code>test_name</code>、<code>test_pass</code>分别建立了唯一约束，这意味着这两列都不能出现重复值。除此之外，还可以为这两列组合建立唯一约束，<code>SQL</code>语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> unique_test3</span><br><span class="line">(</span><br><span class="line">    test_id <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    test_name <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    test_pass <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">    constranint test3_uk <span class="keyword">unique</span>(test_name,test_pass)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>对于上面的<code>unique_test2</code>和<code>unique_test3</code>两个表，都是对<code>test_name</code>、<code>test_pass</code>建立唯一约束，其中<code>unique_test2</code>要求<code>test_name</code>、<code>test_pass</code>都不能出现重复值，而<code>unique_test3</code>只要求<code>test_name</code>、<code>test_pass</code>两列值的组合不能重复。</p>
<h2 id="修改表结构时增加或删除唯一约束"><a href="#修改表结构时增加或删除唯一约束" class="headerlink" title="修改表结构时增加或删除唯一约束"></a>修改表结构时增加或删除唯一约束</h2><p>也可以在修改表结构时使用<code>add</code>关键字来增加唯一约束，<code>SQL</code>语句如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> unique_test3</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">unique</span>(test_name,test_pass)</span><br></pre></td></tr></table></figure>
<p>还可以在修改表时使用<code>modify</code>关键字，为单列采用列级约束语法来增加唯一约束，代码如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> unique_test3</span><br><span class="line">modify test_name <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">unique</span>;</span><br></pre></td></tr></table></figure>
<p>对于大部分数据库而言，删除约束都是在<code>alter table</code>语句后使用“<code>drop constraint</code>约束名”语法来完成的，但<code>MySQL</code>并不使用这种方式，而是使用“<code>drop index 约束名</code>”的方式来删除约束。例如如下<code>SQL</code>语句：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> unique_test3</span><br><span class="line"><span class="keyword">drop</span> index test3_uk;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/JavaReadingNotes/page/169/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/JavaReadingNotes/">1</a><span class="space">&hellip;</span><a class="page-number" href="/JavaReadingNotes/page/169/">169</a><span class="page-number current">170</span><a class="page-number" href="/JavaReadingNotes/page/171/">171</a><span class="space">&hellip;</span><a class="page-number" href="/JavaReadingNotes/page/188/">188</a><a class="extend next" rel="next" href="/JavaReadingNotes/page/171/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">蓝蓝</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">5.8m</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">88:01</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/JavaReadingNotes/js/comments.js"></script><script src="/JavaReadingNotes/js/utils.js"></script><script src="/JavaReadingNotes/js/motion.js"></script><script src="/JavaReadingNotes/js/next-boot.js"></script><script src="/JavaReadingNotes/js/bookmark.js"></script><script src="/JavaReadingNotes/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/JavaReadingNotes/js/third-party/search/local-search.js"></script>



  <script src="/JavaReadingNotes/js/third-party/fancybox.js"></script>

  <script src="/JavaReadingNotes/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/JavaReadingNotes/js/third-party/math/mathjax.js"></script>


  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.2.0/dist/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://lanlan2017.github.io/JavaReadingNotes/page/170/"}</script>
  <script src="/JavaReadingNotes/js/third-party/quicklink.js"></script>
<script class="next-config" data-name="waline" type="application/json">{"lang":null,"enable":true,"serverURL":"https://waline-test-lanlan2017.vercel.app","placeholder":"填写邮箱可接收回复通知 填写个人网址可为您引流","avatar":"mm","pageSize":10,"visitor":false,"comment_count":true,"requiredFields":[],"meta":["nick","mail","link"],"libUrl":"https://cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js","el":"#waline-comments","path":"/JavaReadingNotes/page/170/"}</script>
<script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() => 
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => {
    new Waline(CONFIG.waline);
  });
});
</script>
</body>
</html>
