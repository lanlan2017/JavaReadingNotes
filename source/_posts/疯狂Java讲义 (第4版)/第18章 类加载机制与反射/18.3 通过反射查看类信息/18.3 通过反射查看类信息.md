---
title: 18.3 通过反射查看类信息
categories: 
  - 疯狂Java讲义 (第4版)
  - 第18章 类加载机制与反射
  - 18.3 通过反射查看类信息
date: 2019-07-14 23:50:32
updated: 2019-11-02 01:39:01
abbrlink: 1549d22
---
- [18.3 通过反射查看类信息](/ReadingNotes/1549d22/#18-3-通过反射查看类信息)

<!--more-->
<script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.slim.min.js"></script>
<script>$(document).ready(function () {$(".post-body > ul:nth-child(1)").hide();});</script>

<!--end-->
# 18.3 通过反射查看类信息 #
`Java`程序中的许多对象在运行时都会出现两种类型:**`编译时类型`和`运行时类型`**,例如代码: `Person p= new Student();`,这行代码将会生成一个`p`变量,
- 该变量的编译时类型为`Person`,
- 运行时类型为`Student`。

除此之外,还有更极端的情形,程序在运行时接收到外部传入的一个对象,该对象的编译时类型是`Object`,但程序又需要调用该对象运行时类型的方法。
为了解决这些问题,程序需要在运行时发现对象和类的真实信息。解决该问题有以下两种做法。
- 第一种做法是假设在编译时和运行时都完全知道类型的具体信息,在这种情况下,可以先使用`instanceof`运算符进行判断,再利用强制类型转换将其转换成其运行时类型的变量即可。关于这种方式请参考5.7节的内容。
- 第二种做法是编译时根本无法预知该对象和类可能属于哪些类,程序只依靠运行时信息来发现该对象和类的真实信息,这就必须使用反射。

