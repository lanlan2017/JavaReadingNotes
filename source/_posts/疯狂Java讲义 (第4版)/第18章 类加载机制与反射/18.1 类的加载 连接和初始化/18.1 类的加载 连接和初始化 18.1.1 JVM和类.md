---
title: 18.1 类的加载 连接和初始化 18.1.1 JVM和类
categories: 
  - 疯狂Java讲义 (第4版)
  - 第18章 类加载机制与反射
  - 18.1 类的加载 连接和初始化
date: 2019-06-15 23:22:57
updated: 2019-11-25 11:30:19
abbrlink: 180ffbb8
---
<div id='my_toc'><a href="/JavaReadingNotes/180ffbb8/#18.1-类的加载-连接和初始化" class="header_1">18.1 类的加载 连接和初始化</a><br><a href="/JavaReadingNotes/180ffbb8/#18.1.1-JVM和类" class="header_1">18.1.1 JVM和类</a><br><a href="/JavaReadingNotes/180ffbb8/#JVM进程终止的情况" class="header_2">JVM进程终止的情况</a><br></div>
<style>
    .header_1{
        margin-left: 1em;
    }
    .header_2{
        margin-left: 2em;
    }
    .header_3{
        margin-left: 3em;
    }
    .header_4{
        margin-left: 4em;
    }
    .header_5{
        margin-left: 5em;
    }
    .header_6{
        margin-left: 6em;
    }
</style>
<!--more-->
<script>if (navigator.platform.search('arm')==-1){document.getElementById('my_toc').style.display = 'none';}
var e,p = document.getElementsByTagName('p');while (p.length>0) {e = p[0];e.parentElement.removeChild(e);}
</script>

<!--end-->
# 18.1 类的加载 连接和初始化 #
系统可能在第一次使用某个类时加载该类,也可能采用预加载机制来加载某个类。本节将会详细介绍类加载、连接和初始化过程中的每个细节。
# 18.1.1 JVM和类 #
当调用`java`命令运行某个`Java`程序时,该命令将会启动一个`Java`虚拟机进程,不管该`Java`程序有多么复杂,该程序启动了多少个线程,它们都处于该`Java`虚拟机进程里。正如前面介绍的,同一个`JVM`的所有线程、所有变量都处于同一个进程里,它们都使用该`JVM`进程的内存区。
## JVM进程终止的情况 ##
- 当系统出现以下几种情况时,`JVM`进程将被终止。
- 程序运行到最后正常结束。
- 程序运行到使用`System.exit()`或`Runtime.getRuntime().exit()`代码处结束程序.
- 程序执行过程中遇到未捕获的异常或错误而结束
- 程序所在平台强制结束了`JVM`进程。

从上面的介绍可以看出,当`Java`程序运行结束时,`JVM`进程结束,该进程在内存中的状态将会丢失。下面以类的类变量来说明这个问题。下面程序先定义了一个包含类变量的类。
**两次运行`Java`程序处于两个不同的`JVM`进程中,两个`JVM`之间并不会共享数据。**
