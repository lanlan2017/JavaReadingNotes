---
title: 2.2.2 类图
categories: 
  - 疯狂Java讲义 (第4版)
  - 第2章 理解面向对象
  - 2.2 UML(统一建模语言)介绍
date: 2020-01-18 02:21:02
updated: 2020-01-18 02:58:47
abbrlink: 849db099
---
<div id='my_toc'><a href="/JavaReadingNotes/849db099/#2-2-2-类图" class="header_1">2.2.2 类图</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#类图的图形表示" class="header_2">类图的图形表示</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#类之间的三种基本关系" class="header_2">类之间的三种基本关系</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#1-关联" class="header_2">1. 关联</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#单向关联" class="header_3">单向关联</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#双向关联" class="header_3">双向关联</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#多重性" class="header_3">多重性</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#关联图形表示" class="header_3">关联图形表示</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#关联和属性的区别" class="header_3">关联和属性的区别</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#聚合-组合" class="header_3">聚合 组合</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#实例" class="header_3">实例</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#2-泛化" class="header_2">2. 泛化</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#继承关系" class="header_3">继承关系</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#实现关系" class="header_3">实现关系</a>&nbsp;<br><a href="/JavaReadingNotes/849db099/#3-依赖" class="header_2">3. 依赖</a>&nbsp;<br></div>
<style>.header_1{margin-left: 1em;}.header_2{margin-left: 2em;}.header_3{margin-left: 3em;}.header_4{margin-left: 4em;}.header_5{margin-left: 5em;}.header_6{margin-left: 6em;}</style>
<!--more-->
<script>if (navigator.platform.search('arm')==-1){document.getElementById('my_toc').style.display = 'none';}var e,p = document.getElementsByTagName('p');while (p.length>0) {e = p[0];e.parentElement.removeChild(e);}</script>

<!--end-->
# 2.2.2 类图
类图是最古老、功能最丰富、使用最广泛的`UML`图。**类图表示系统中应该包含哪些实体,各实体之间如何关联**;换句话说,**类图显示了系统的静态结构**,类图可用于表示逻辑类,逻辑类通常就是业务人员所谈及的事物种类。
## 类图的图形表示
类在类图上使用包含**三个部分的矩形**来描述:
- 最上面的部分显示类的名称,
- 中间部分包含类的属性,
- 最下面的部分包含类的方法。

图2.11显示了类图中类的表示方法。
![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/master/CrazyJavaHandout4/Chapter2/2.2.1/2.png)
类图除可以表示实体的静态内部结构之外,还可以表示**实体之间的相互关系**。
## 类之间的三种基本关系
类之间有三种基本关系:
- **关联**(包括聚合、组合)
- **泛化**(与继承同一个概念)
- **依赖**

## 1. 关联
客观世界中的两个实体之间总是存在千丝万缕的关系,当把这两个实体抽象到软件系统中时,两个类之间必然存在关联关系。
### 单向关联
关联具有一定的方向性:如果仅能从一个类单方向地**访问**另一个类,则被称为**单向关联**;
### 双向关联
如果两个类可以互相访问对象,则被称为**双向关联**。
### 多重性
一个对象能访问关联对象的数目被称为**多重性**,例如,建立学生和老师之间的单向关联,则可以从学生访问老师,但从老师不能访问学生。
### 关联图形表示
关联使用一条**实线**来表示,**带箭头的实线**表示**单向关联**。

### 关联和属性的区别
在很多时候,关联和属性很像,关联和属性的关键区别在于:**类里的某个属性引用到另外一个实体时,则变成了关联**。
### 聚合 组合
关联关系包括两种特例:聚合和组合,它们都有**部分和整体的关系**,**组合比聚合更加严格**。
当某个实体聚合成另一个实体时,该实体还可以同时是另一个实体的部分。
例如,学生既可以是篮球俱乐部的成员,也可以是书法俱乐部的成员;
当某个实体组合成另一个实体时,该实体则不能同时是个实体的部分。

- 聚合使用带**空心菱形框的实线**表示,
- 组合则使用**带实心菱形框的实线**表示。

### 实例
图2.12显示了几个类之间的关联关系。
![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/master/CrazyJavaHandout4/Chapter2/2.2.1/3.png)
图2.12中描述`Teacher`和`Student`之间的关联关系:它们是**双向关联关系**,而且使用了**多重性**来表示`Teacher`和`Student`之间存在**1:N**的关联关系(`1..*`表示可以是一个到多个),即一个`Teacher`实体可以有1个或多个关联的`Student`实体;

`Student`和`BasketBallClub`存在聚合关系,即1个或多个`Student`实体可以聚合成一个`BasketBallClub`实体;
而`Arm`(手臂)和`Student`之间存在组合关系,2个`Arm`实体组合成一个`Student`实体。
## 2. 泛化
泛化与继承是同一个概念,都是指子类是一种特殊的父类,类与类之间的继承关系是非常普遍的。
### 继承关系
**继承关系**使用**带空心三角形的`实线`**表示。图2.13显示了`Student`和`Person`类之间的继承关系
![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/master/CrazyJavaHandout4/Chapter2/2.2.1/4.png)
从图2.13可以看出,`Student`是`Person`的子类,即`Student`类是种特殊的`Person`类。
### 实现关系
还有一种与继承类似的关系,类实现接口可视为一种特殊的继承,这种实现用**带空心三角形的`虚线`**表示
## 3. 依赖
如果**一个类的改动会导致另一个类的改动,则称两个类之间存在依赖**。依赖关系使用**带箭头的虚线**表示,其中**箭头指向被依赖的实体**。依赖的常见可能原因如下:
- 改动的类将消息发给另一个类。
- 改动的类以另一个类作为数据部分。
- 改动的类以另一个类作为操作参数。

通常而言,依赖是**单向的**,尤其是当数据表现和数据模型分开设计时,数据表现依赖于数据模型。例如,`JDK`基础类库中的`JTable`和`DefaultAbleModel`,关于这两个类的介绍请参考本书12.11节的介绍。图2.14显示了它们之间的依赖关系
![这里有一张图片](https://raw.githubusercontent.com/lanlan2017/images/master/CrazyJavaHandout4/Chapter2/2.2.1/5.png)
对于图2.14中表述的`JTable`和`DefaultTableModel`两个类,其中`DefaultTableModel`是`JTable`的数据模型,**当`DefaultTableModel`发生改变时,`JTable`将相应地发生改变**。
CrazyJavaHandout4/Chapter2/2.2.1/
