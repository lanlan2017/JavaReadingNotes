---
title: 16.2.2 实现Runnable接口创建线程类
categories: 
  - 疯狂Java讲义 (第4版)
  - 第16章 多线程
  - 16.2 线程的创建和启动
date: 2019-07-15 21:27:24
updated: 2020-01-07 08:44:38
abbrlink: 1e69e31b
---
<div id='my_toc'><a href="/JavaReadingNotes/1e69e31b/#16-2-2-实现Runnable接口创建线程类" class="header_1">16.2.2 实现Runnable接口创建线程类</a><br><a href="/JavaReadingNotes/1e69e31b/#实现-Runnable-接口来创建并启动多线程的步骤" class="header_2">实现`Runnable`接口来创建并启动多线程的步骤</a><br><a href="/JavaReadingNotes/1e69e31b/#程序示例-实现Runable接口来启动多线程" class="header_2">程序示例  实现Runable接口来启动多线程</a><br><a href="/JavaReadingNotes/1e69e31b/#如何获取当前线程对象" class="header_2">如何获取当前线程对象</a><br><a href="/JavaReadingNotes/1e69e31b/#Runnable接口是函数式接口" class="header_2">Runnable接口是函数式接口</a><br><a href="/JavaReadingNotes/1e69e31b/#多个线程共享一个target则可以共享target中的实例变量" class="header_2">多个线程共享一个target则可以共享target中的实例变量</a><br></div>
<style>.header_1{margin-left: 1em;}.header_2{margin-left: 2em;}.header_3{margin-left: 3em;}.header_4{margin-left: 4em;}.header_5{margin-left: 5em;}.header_6{margin-left: 6em;}</style>
<!--more-->
<script>if (navigator.platform.search('arm')==-1){document.getElementById('my_toc').style.display = 'none';}var e,p = document.getElementsByTagName('p');while (p.length>0) {e = p[0];e.parentElement.removeChild(e);}</script>

<!--end-->
<!--SSTStart-->
# 16.2.2 实现Runnable接口创建线程类 #
## 实现`Runnable`接口来创建并启动多线程的步骤
1. 定义`Runnable`接口的实现类,并重写该接口的`run()`方法,**该`run()`方法的方法体同样是该线程的`线程执行体`**。
2. **创建`Runnable`实现类的实例,并以此实例作为`Thread`的`target`来创建`Thread`对象**,**该`Thread`对象才是真正的线程对象**。也可以在创建`Thread`对象时为该`Thread`对象指定一个名字
3. 调用线程对象的`start()`方法来启动该线程。

<!--SSTStop-->
## 程序示例  实现Runable接口来启动多线程
下面程序示范了通过实现`Runnable`接口来创建并启动多线程。
```java
// 通过实现Runnable接口来创建线程类
public class SecondThread implements Runnable
{
    private int i ;
    // run方法同样是线程执行体
    public void run()
    {
        for ( ; i < 100 ; i++ )
        {
            // 当线程类实现Runnable接口时，
            // 如果想获取当前线程，只能用Thread.currentThread()方法。
            System.out.println(Thread.currentThread().getName()
                + "  " + i);
        }
    }

    public static void main(String[] args)
    {
        for (int i = 0; i < 100;  i++)
        {
            System.out.println(Thread.currentThread().getName()
                + "  " + i);
            if (i == 20)
            {
                SecondThread st = new SecondThread();     // ①
                // 通过new Thread(target , name)方法创建新线程
                new Thread(st , "新线程1").start();
                new Thread(st , "新线程2").start();
            }
        }
    }
}
```
上面程序中实现了`run()`方法,也就是定义了该线程的线程执行体。

<!--SSTStart-->
## 如何获取当前线程对象 ##
- 通过继承`Thread`类来`获得当前线程对象`比较简单,直接使用`this`关键字就可以了;
- 但通过实现`Runnable`接口来获得当前线程对象,则必须使用`Thread.currentThread()`方法。

## Runnable接口是函数式接口 ##
`Runnable`接口中只包含一个抽象方法,从`Java 8`开始, `Runnable`接口使用了`@FunctionalInterface`修饰。也就是说, **`Runnable`接口是函数式接口,可使用`Lambda`表达式创建`Runnable`对象**。接下来介绍的`Callable`接口也是函数式接口。
## 多个线程共享一个target则可以共享target中的实例变量 ##
采用`Runnable`接口的方式创建的`多个线程可以共享线程类的实例变量`。这是因为只创建了一个`target`实例,而多个线程可以共享这个`target`实例,因而多个线程中的实例变量也是共享的。
<!--SSTStop-->