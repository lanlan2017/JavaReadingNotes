---
title: 22.5 注解的应用：定制序列化
categories:
  - 9 Java编程的逻辑
  - 6第六部分 动态与函数式编程
  - 第22章 注解
abbrlink: 231f7102
date: 2021-12-08 12:34:35
updated: 2021-12-08 12:34:35
---
# 22.5 注解的应用：定制序列化
在上一章，我们演示了一个简单的通用序列化类SimpleMapper，在将对象转换为字符串时，格式是固定的，本节演示如何对输出格式进行定制化。我们实现一个简单的类SimpleFormatter，它有一个方法：

[插图]

我们定义两个注解：`@Label`和`@Format`。`@Label`用于定制输出字段的名称，`@Format`用于定义日期类型的输出格式，它们的定义如下：

[插图]

可以用这两个注解来修饰要序列化的类字段，比如：

[插图]

我们可以这样来使用SimpleFormatter：

[插图]

输出为：

[插图]

可以看出，输出使用了自定义的字段名称和日期格式，SimpleFormatter.format()是怎么利用这些注解的呢？我们看代码：

[插图]

对于日期类型的字段，调用了formatDate，其代码为：

[插图]

这些代码都比较简单，我们就不解释了。
