---
title: 5.4.2 使用访问控制符
categories: 
  - 1 疯狂Java讲义 (第4版)
  - 第5章 面向对象(上)
  - 5.4 隐藏和封装
date: 2019-09-22 11:26:48
updated: 2020-02-07 01:34:56
abbrlink: 8aac6014
---
# 5.4.2 使用访问控制符 #
`Java`提供了3个访问控制符:`private`、 `protected`和`public`,分别代表了3个访问控制级别,另外还有一个不加任何访问控制符的访问控制级别,也就是说`Java`提供了4个访问控制级别。
`Java`的访问控制级别由小到大的顺序为:`private`、`default`、`protected`、`public`。

4个访问控制级别中的`default`并没有对应的访问控制符,当不使用任何访问控制符来修饰类或类成员时,系统默认使用该访问控制级别。这4个访问控制级别的详细介绍如下。
## 当前类访问权限private ##
如果类里的一个成员(包括成员变量、方法和构造器等)使用`private`访问控制符来修饰,则这个成员**只能在当前类的`内部`被访问**。很显然,这个访问控制符**用于修饰成员变量最合适**,使用它来修饰成员变量就可以把成员变量隐藏在该类的内部。
## 包访问权限default ##
如果类里的一个成员(包括成员变量、方法和构造器等)或者一个外部类**不使用任何访问控制符修饰,就称它是`包访问权限`的**, `default`**访问控制的成员或外部类可以被`相同包下`的其他类访问**。
## 子类访问权限protected ##
如果一个成员(包括成员变量、方法和构造器等)使用`protected`访问控制符修饰,那么这个成员**既可以被同一个包中的其他类访问,也可以被不同包中的子类访问**。在通常情况下,**如果使用`protected`来修饰一个方法,通常是希望其子类来重写这个方法**。
## 公共访问权限public ##
这是一个最宽松的访问控制级别,如果一个成员(包括成员变量、方法和构造器等)或者一个外部类使用`public`访问控制符修饰,那么这个成员或外部类就**可以被所有类访问**,不管访问类和被访问类是否处于同一个包中,是否具有父子继承关系。
## 访问控制级别汇总表 ##
![这里有一张图片](https://image-1257720033.cos.ap-shanghai.myqcloud.com/blog/readbooknote/FangKuangJavaJiangYi4/ch5/2.png)

## 访问控制级别表 从大到小

||public|protected|default|private|
|:--|:--|:--|:--|:--|
|同一个类中|可以|可以|可以|可以|
|同一个包中|可以|可以|可以||
|子类中|可以|可以|||
|全局范围|可以||||


## 访问控制符用于修饰类的成员 ##
## 访问控制符用于修饰类的成员 ##
访问控制符用于控制一个`类的成员`是否可以被其他类访问。
### 不要使用访问控制符修饰局部变量 ###
对于局部变量而言,其作用域就是它所在的方法,不可能被其他类访问,因此**不能使用访问控制符来修饰局部变量**。
## 外部类只能使用public或默认修饰 ##
对于外部类而言,它也可以使用访问控制符修饰,但**外部类只能有两种访问控制级别:`public`和默认**,外部类不能使用`private`和`protected`修饰,因为外部类没有处于任何类的内部,也就没有其所在类的内部、所在类的子类两个范围,因此**`private`和`protected`访问控制符对外部类没有意义**
- 使用`public`修饰的外部类可以被所有类使用,如声明变量、创建实例；
- 不使用任何访问控制符修饰的外部类只能被同一个包中的其他类使用。

## public修饰的类的源文件名必须与类名相同 ##
如果一个`Java`源文件里定义的所有类都没有使用`public`修饰,则这个`Java`源文件的文件名可以是一切合法的文件名;但**如果一个`Java`源文件里定义了一个`public`修饰的类则这个源文件的文件名必须与`public`修饰的类的类名相同**。

## setter getter方法 ##
某个类里包含了名为`abc`的实例变量,则其对应的`setter`和`getter`方法名应为`setAbc()`和`getAbc()`
### setter和getter方法的命名规则 ###
**将原实例变量名的首字母大写,并在前面分别增加`set`和`get`动词,就变成`setter`和`getter`方法名**。
### 什么是符合JavaBean规范的类 ###
如果一个`Java`类的每个实例变量都被使用`private`修饰,并为毎个实例变量提供了`public`修饰`setter`和`getr`方法,那么这个类就是一个符合`JavaBean`规范的类。因此, `JavaBean`总是一个封装良好的类。
## 高内聚 低耦合 ##
一个类常常就是一个小的模块,应该只让这个模块公开必须让外界知道的内容,而隐藏其他一切内容。进行程序设计时,应尽量避免一个模块直接操作和访问另一个模块的数据,模块设计追求`高内聚,低耦合`
### 什么是高内聚 ###
所谓`高内聚`就是尽可能**把模块的内部数据隐藏在模抉内部**、**把模块的功能在模块内部实现**,不允许外部直接干预。
### 什么是低耦合 ###
所谓`低耦合`就是仅仅暴露少量的方法给外部使用。

关于访问控制符的使用,存在如下几条基本原则。
## 应该使用private修饰符的情况 ##
1. 类里的**绝大部分成员变量都应该使用`private`修饰**,
2. 只有一些`static`修饰的、类似全局变量的成员变量,才可能考虑使用`public`修饰。
3. **工具方法也应该使用`private`修饰**,所谓工具方法就是那些只用于**辅助实现该类的其他方法**的方法

## 应该使用protected修饰符的情况 ##
如果某个类主要用做其他类的父类,该类里包含的大部分方法可能仅希望被其子类重写,而不想被外界直接调用,则应该使用`protected`修饰这些方法。
## 应该使用public修饰的情况 ##
希望暴露出来给其他类自由调用的方法应该使用`public`修饰。
- 类的构造器通过使用`public`修饰,从而允许在其他地方创建该类的实例。
- 外部类通常都希望被其他类自由使用,所以大部分外部类都使用`public`修饰。
