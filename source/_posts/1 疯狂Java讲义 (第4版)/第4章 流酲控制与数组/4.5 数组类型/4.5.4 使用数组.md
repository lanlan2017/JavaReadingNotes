---
title: 4.5.4 使用数组
categories: 
  - 1 疯狂Java讲义 (第4版)
  - 第4章 流酲控制与数组
  - 4.5 数组类型
abbrlink: f9c8f629
date: 2020-01-27 11:09:13
updated: 2021-11-17 21:56:02
---
# 4.5.4 使用数组
数组最常用的用法就是访问数组元素,包括对数组元素进行赋值和取出数组元素的值。访问数组元素都是通过**在数组引用变量后紧跟一个方括号([]),方括号里是数组元素的索引值**,这样就可以访问数组元素了。访问到数组元素后,就可以**把一个数组元素当成一个普通变量使用**了,包括为该变量赋值和取出该变量的值,这个变量的类型就是定义数组时使用的类型。

`Java`语言的数组索引是从0开始的,也就是说,第一个数组元素的索引值为0,最后一个数组元素的索引值为数组长度减1。下面代码示范了输出数组元素的值,以及为指定数组元素赋值:
```java
// 输出objArr数组的第二个元素，将输出字符串"李刚"
System.out.println(objArr[1]);
// 为objArr2的第一个数组元素赋值
objArr2[0] = "Spring";
```
## 数组越界
如果访问数组元素时指定的索引值小于0,或者大于等于数组的长度,编译程序不会出现任何错误但运行时出现异常:`java.lang.ArrayIndexOutofBoundsException:N`(数组索引越界异常),异常信息后的N就是程序员试图访问的数组索引。
下面代码试图访问的数组元素索引值等于数组长度,将引发数组索引越界异常:
```java
// 访问数组元素指定的索引等于数组长度，所以下面代码将在运行时出现异常
System.out.println(objArr2[2]);
```
## length属性
所有的数组都提供了一个`length`属性,通过这个属性可以访问到数组的长度,一旦获得了数组的长度,就可以通过循环来遍历该数组的每个数组元素。

下面代码示范了输出`prices`数组(动态初始化的`int`数组)的每个数组元素的值
```java
// 使用循环输出prices数组的每个数组元素的值
for (int i = 0; i < prices.length; i++) {
    System.out.println(prices[i]);
}
```
执行上面代码将输出5个0,因为`prices`数组执行的是默认初始化,**数组元素是`int`类型,系统为`int`类型的数组元素赋值为0**
下面代码示范了**为动态初始化的数组元素进行赋值**,并通过循环方式输出每个数组元素:
```java
// 对动态初始化后的数组元素进行赋值
books[0] = "Hello";
books[1] = "World";
// 使用循环输出books数组的每个数组元素的值
for (int i = 0; i < books.length; i++) {
    System.out.println(books[i]);
}
```
上面代码将先输出字符串"Hello"和"World",然后输出两个`null`。因为`books`使用了动态初始化,系统为所有数组元素都分配一个`null`作为初始值,后来程序又为前两个元素赋值,所以看到了这样的程序输出结果。
从上面代码中不难看出,初始化一个数组后,相当于同时初始化了多个相同类型的变量,通过数组元素的索引就可以自由访问这些数组元素。使用数组元素与使用普通变量并没有什么不同,一样可以对数组元素进行赋值,或者取出数组元素的值。
